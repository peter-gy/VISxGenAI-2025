const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./inputs-DoHVubAa.js","./inputs-Cuu9vI3M.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const ut="modulepreload",gt=function(e,t){return new URL(e,t).href},Ye={},f=function(t,n,i){let o=Promise.resolve();if(n&&n.length>0){let s=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const r=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");o=s(n.map(d=>{if(d=gt(d,i),d in Ye)return;Ye[d]=!0;const u=d.endsWith(".css"),g=u?'[rel="stylesheet"]':"";if(!!i)for(let G=r.length-1;G>=0;G--){const _=r[G];if(_.href===d&&(!u||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${g}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":ut,u||(m.as="script"),m.crossOrigin="",m.href=d,c&&m.setAttribute("nonce",c),document.head.appendChild(m),u)return new Promise((G,_)=>{m.addEventListener("load",G),m.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return o.then(r=>{for(const l of r||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function re(e,t,n){n=n||{};var i=e.ownerDocument,o=i.defaultView.CustomEvent;typeof o=="function"?o=new o(t,{detail:n}):(o=i.createEvent("Event"),o.initEvent(t,!1,!1),o.detail=n),e.dispatchEvent(o)}function Je(e){return Array.isArray(e)||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function Le(e){return e===(e|0)+""}function B(e){const t=document.createElement("span");return t.className="observablehq--cellname",t.textContent=`${e} = `,t}const mt=Symbol.prototype.toString;function L(e){return mt.call(e)}const{getOwnPropertySymbols:pt,prototype:{hasOwnProperty:It}}=Object,{toStringTag:Ct}=Symbol,ze={},q=pt;function ge(e,t){return It.call(e,t)}function fe(e){return e[Ct]||e.constructor&&e.constructor.name||"Object"}function w(e,t){try{const n=e[t];return n&&n.constructor,n}catch{return ze}}const ft=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function Pe(e){try{let t=ft.filter(({symbol:r})=>e[r]===!0);if(!t.length)return;const n=t.find(r=>!r.modifier),i=n.name==="Map"&&t.find(r=>r.modifier&&r.prefix),o=t.some(r=>r.arrayish),a=t.some(r=>r.setish);return{name:`${i?i.name:""}${n.name}`,symbols:t,arrayish:o&&!a,setish:a}}catch{return null}}const{getPrototypeOf:_e,getOwnPropertyDescriptors:bt}=Object,je=_e({});function Ue(e,t,n,i){let o=Je(e),a,r,l,c;e instanceof Map?e instanceof e.constructor?(a=`Map(${e.size})`,r=ht):(a="Map()",r=Q):e instanceof Set?e instanceof e.constructor?(a=`Set(${e.size})`,r=At):(a="Set()",r=Q):o?(a=`${e.constructor.name}(${e.length})`,r=_t):(c=Pe(e))?(a=`Immutable.${c.name}${c.name==="Record"?"":`(${e.size})`}`,o=c.arrayish,r=c.arrayish?Zt:c.setish?yt:vt):i?(a=fe(e),r=Gt):(a=fe(e),r=Q);const s=document.createElement("span");s.className="observablehq--expanded",n&&s.appendChild(B(n));const d=s.appendChild(document.createElement("a"));d.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M4 7L0 1h8z' fill='currentColor' />
  </svg>`,d.appendChild(document.createTextNode(`${a}${o?" [":" {"}`)),d.addEventListener("mouseup",function(u){u.stopPropagation(),se(s,Ze(e,null,n,i))}),r=r(e);for(let u=0;!(l=r.next()).done&&u<20;++u)s.appendChild(l.value);if(!l.done){const u=s.appendChild(document.createElement("a"));u.className="observablehq--field",u.style.display="block",u.appendChild(document.createTextNode("  … more")),u.addEventListener("mouseup",function(g){g.stopPropagation(),s.insertBefore(l.value,s.lastChild.previousSibling);for(let p=0;!(l=r.next()).done&&p<19;++p)s.insertBefore(l.value,s.lastChild.previousSibling);l.done&&s.removeChild(s.lastChild.previousSibling),re(s,"load")})}return s.appendChild(document.createTextNode(o?"]":"}")),s}function*ht(e){for(const[t,n]of e)yield wt(t,n);yield*Q(e)}function*At(e){for(const t of e)yield De(t);yield*Q(e)}function*yt(e){for(const t of e)yield De(t)}function*_t(e){for(let t=0,n=e.length;t<n;++t)t in e&&(yield k(t,w(e,t),"observablehq--index"));for(const t in e)!Le(t)&&ge(e,t)&&(yield k(t,w(e,t),"observablehq--key"));for(const t of q(e))yield k(L(t),w(e,t),"observablehq--symbol")}function*Zt(e){let t=0;for(const n=e.size;t<n;++t)yield k(t,e.get(t),!0)}function*Gt(e){for(const n in bt(e))yield k(n,w(e,n),"observablehq--key");for(const n of q(e))yield k(L(n),w(e,n),"observablehq--symbol");const t=_e(e);t&&t!==je&&(yield Qe(t))}function*Q(e){for(const n in e)ge(e,n)&&(yield k(n,w(e,n),"observablehq--key"));for(const n of q(e))yield k(L(n),w(e,n),"observablehq--symbol");const t=_e(e);t&&t!==je&&(yield Qe(t))}function*vt(e){for(const[t,n]of e)yield k(t,n,"observablehq--key")}function Qe(e){const t=document.createElement("div"),n=t.appendChild(document.createElement("span"));return t.className="observablehq--field",n.className="observablehq--prototype-key",n.textContent="  <prototype>",t.appendChild(document.createTextNode(": ")),t.appendChild(v(e,void 0,void 0,void 0,!0)),t}function k(e,t,n){const i=document.createElement("div"),o=i.appendChild(document.createElement("span"));return i.className="observablehq--field",o.className=n,o.textContent=`  ${e}`,i.appendChild(document.createTextNode(": ")),i.appendChild(v(t)),i}function wt(e,t){const n=document.createElement("div");return n.className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(v(e)),n.appendChild(document.createTextNode(" => ")),n.appendChild(v(t)),n}function De(e){const t=document.createElement("div");return t.className="observablehq--field",t.appendChild(document.createTextNode("  ")),t.appendChild(v(e)),t}function Fe(e){const t=window.getSelection();return t.type==="Range"&&(t.containsNode(e,!0)||e.contains(t.anchorNode)||e.contains(t.focusNode))}function Ze(e,t,n,i){let o=Je(e),a,r,l,c;if(e instanceof Map?e instanceof e.constructor?(a=`Map(${e.size})`,r=Wt):(a="Map()",r=D):e instanceof Set?e instanceof e.constructor?(a=`Set(${e.size})`,r=Vt):(a="Set()",r=D):o?(a=`${e.constructor.name}(${e.length})`,r=Xt):(c=Pe(e))?(a=`Immutable.${c.name}${c.name==="Record"?"":`(${e.size})`}`,o=c.arrayish,r=c.arrayish?Rt:c.setish?Bt:kt):(a=fe(e),r=D),t){const u=document.createElement("span");return u.className="observablehq--shallow",n&&u.appendChild(B(n)),u.appendChild(document.createTextNode(a)),u.addEventListener("mouseup",function(g){Fe(u)||(g.stopPropagation(),se(u,Ze(e)))}),u}const s=document.createElement("span");s.className="observablehq--collapsed",n&&s.appendChild(B(n));const d=s.appendChild(document.createElement("a"));d.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M7 4L1 8V0z' fill='currentColor' />
  </svg>`,d.appendChild(document.createTextNode(`${a}${o?" [":" {"}`)),s.addEventListener("mouseup",function(u){Fe(s)||(u.stopPropagation(),se(s,Ue(e,null,n,i)))},!0),r=r(e);for(let u=0;!(l=r.next()).done&&u<20;++u)u>0&&s.appendChild(document.createTextNode(", ")),s.appendChild(l.value);return l.done||s.appendChild(document.createTextNode(", …")),s.appendChild(document.createTextNode(o?"]":"}")),s}function*Wt(e){for(const[t,n]of e)yield Yt(t,n);yield*D(e)}function*Vt(e){for(const t of e)yield v(t,!0);yield*D(e)}function*Bt(e){for(const t of e)yield v(t,!0)}function*Rt(e){let t=-1,n=0;for(const i=e.size;n<i;++n)n>t+1&&(yield le(n-t-1)),yield v(e.get(n),!0),t=n;n>t+1&&(yield le(n-t-1))}function*Xt(e){let t=-1,n=0;for(const i=e.length;n<i;++n)n in e&&(n>t+1&&(yield le(n-t-1)),yield v(w(e,n),!0),t=n);n>t+1&&(yield le(n-t-1));for(const i in e)!Le(i)&&ge(e,i)&&(yield M(i,w(e,i),"observablehq--key"));for(const i of q(e))yield M(L(i),w(e,i),"observablehq--symbol")}function*D(e){for(const t in e)ge(e,t)&&(yield M(t,w(e,t),"observablehq--key"));for(const t of q(e))yield M(L(t),w(e,t),"observablehq--symbol")}function*kt(e){for(const[t,n]of e)yield M(t,n,"observablehq--key")}function le(e){const t=document.createElement("span");return t.className="observablehq--empty",t.textContent=e===1?"empty":`empty × ${e}`,t}function M(e,t,n){const i=document.createDocumentFragment(),o=i.appendChild(document.createElement("span"));return o.className=n,o.textContent=e,i.appendChild(document.createTextNode(": ")),i.appendChild(v(t,!0)),i}function Yt(e,t){const n=document.createDocumentFragment();return n.appendChild(v(e,!0)),n.appendChild(document.createTextNode(" => ")),n.appendChild(v(t,!0)),n}function Ft(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),i=e.getUTCMinutes(),o=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${Nt(e.getUTCFullYear())}-${X(e.getUTCMonth()+1,2)}-${X(e.getUTCDate(),2)}${n||i||o||a?`T${X(n,2)}:${X(i,2)}${o||a?`:${X(o,2)}${a?`.${X(a,3)}`:""}`:""}Z`:""}`}function Nt(e){return e<0?`-${X(-e,6)}`:e>9999?`+${X(e,6)}`:X(e,4)}function X(e,t){return`${e}`.padStart(t,"0")}function Et(e){return Ft(e,"Invalid Date")}var Ht=Error.prototype.toString;function Kt(e){return e.stack||Ht.call(e)}var xt=RegExp.prototype.toString;function St(e){return xt.call(e)}const Ie=20;function Tt(e,t,n,i){if(t===!1){if(Ee(e,/["\n]/g)<=Ee(e,/`|\${/g)){const s=document.createElement("span");i&&s.appendChild(B(i));const d=s.appendChild(document.createElement("span"));return d.className="observablehq--string",d.textContent=JSON.stringify(e),s}const r=e.split(`
`);if(r.length>Ie&&!n){const s=document.createElement("div");i&&s.appendChild(B(i));const d=s.appendChild(document.createElement("span"));d.className="observablehq--string",d.textContent="`"+Ne(r.slice(0,Ie).join(`
`));const u=s.appendChild(document.createElement("span")),g=r.length-Ie;return u.textContent=`Show ${g} truncated line${g>1?"s":""}`,u.className="observablehq--string-expand",u.addEventListener("mouseup",function(p){p.stopPropagation(),se(s,v(e,t,!0,i))}),s}const l=document.createElement("span");i&&l.appendChild(B(i));const c=l.appendChild(document.createElement("span"));return c.className=`observablehq--string${n?" observablehq--expanded":""}`,c.textContent="`"+Ne(e)+"`",l}const o=document.createElement("span");i&&o.appendChild(B(i));const a=o.appendChild(document.createElement("span"));return a.className="observablehq--string",a.textContent=JSON.stringify(e.length>100?`${e.slice(0,50)}…${e.slice(-49)}`:e),o}function Ne(e){return e.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,Jt)}function Jt(e){var t=e.charCodeAt(0);switch(t){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return t<16?"\\x0"+t.toString(16):t<32?"\\x"+t.toString(16):"\\"+e}function Ee(e,t){for(var n=0;t.exec(e);)++n;return n}var Lt=Function.prototype.toString,zt={prefix:"async ƒ"},Pt={prefix:"async ƒ*"},He={prefix:"class"},jt={prefix:"ƒ"},Ut={prefix:"ƒ*"};function Qt(e,t){var n,i,o=Lt.call(e);switch(e.constructor&&e.constructor.name){case"AsyncFunction":n=zt;break;case"AsyncGeneratorFunction":n=Pt;break;case"GeneratorFunction":n=Ut;break;default:n=/^class\b/.test(o)?He:jt;break}return n===He?U(n,"",t):(i=/^(?:async\s*)?(\w+)\s*=>/.exec(o))?U(n,"("+i[1]+")",t):(i=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(o))?U(n,i[1]?"("+i[1].replace(/\s*,\s*/g,", ")+")":"()",t):(i=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(o))?U(n,i[1]?"("+i[1].replace(/\s*,\s*/g,", ")+")":"()",t):U(n,"(…)",t)}function U(e,t,n){var i=document.createElement("span");i.className="observablehq--function",n&&i.appendChild(B(n));var o=i.appendChild(document.createElement("span"));return o.className="observablehq--keyword",o.textContent=e.prefix,i.appendChild(document.createTextNode(t)),i}const{prototype:{toString:Dt}}=Object;function v(e,t,n,i,o){let a=typeof e;switch(a){case"boolean":case"undefined":{e+="";break}case"number":{e=e===0&&1/e<0?"-0":e+"";break}case"bigint":{e=e+"n";break}case"symbol":{e=L(e);break}case"function":return Qt(e,i);case"string":return Tt(e,t,n,i);default:{if(e===null){a=null,e="null";break}if(e instanceof Date){a="date",e=Et(e);break}if(e===ze){a="forbidden",e="[forbidden]";break}switch(Dt.call(e)){case"[object RegExp]":{a="regexp",e=St(e);break}case"[object Error]":case"[object DOMException]":{a="error",e=Kt(e);break}default:return(n?Ue:Ze)(e,t,i,o)}break}}const r=document.createElement("span");i&&r.appendChild(B(i));const l=r.appendChild(document.createElement("span"));return l.className=`observablehq--${a}`,l.textContent=e,r}function se(e,t){e.classList.contains("observablehq--inspect")&&t.classList.add("observablehq--inspect"),e.parentNode.replaceChild(t,e),re(t,"load")}const Ot=/\s+\(\d+:\d+\)$/m;class ce{constructor(t){if(!t)throw new Error("invalid node");this._node=t,t.classList.add("observablehq")}pending(){const{_node:t}=this;t.classList.remove("observablehq--error"),t.classList.add("observablehq--running")}fulfilled(t,n){const{_node:i}=this;if((!Mt(t)||t.parentNode&&t.parentNode!==i)&&(t=v(t,!1,i.firstChild&&i.firstChild.classList&&i.firstChild.classList.contains("observablehq--expanded"),n),t.classList.add("observablehq--inspect")),i.classList.remove("observablehq--running","observablehq--error"),i.firstChild!==t)if(i.firstChild){for(;i.lastChild!==i.firstChild;)i.removeChild(i.lastChild);i.replaceChild(t,i.firstChild)}else i.appendChild(t);re(i,"update")}rejected(t,n){const{_node:i}=this;for(i.classList.remove("observablehq--running"),i.classList.add("observablehq--error");i.lastChild;)i.removeChild(i.lastChild);var o=document.createElement("div");o.className="observablehq--inspect",n&&o.appendChild(B(n)),o.appendChild(document.createTextNode((t+"").replace(Ot,""))),i.appendChild(o),re(i,"error",{error:t})}}ce.into=function(e){if(typeof e=="string"&&(e=document.querySelector(e),e==null))throw new Error("container not found");return function(){return new ce(e.appendChild(document.createElement("div")))}};function Mt(e){return(e instanceof Element||e instanceof Text)&&e instanceof e.constructor}function $t(e,t){const n=document.createElement("div");if(new ce(n).fulfilled(e),t)for(const i of t){let o=n;for(const a of i)o=o?.childNodes[a];o?.dispatchEvent(new Event("mouseup"))}return n}function qt(e){const t=document.createElement("div");return new ce(t).rejected(e),t}function en(e){if(!nn(e))return;const t=e.querySelectorAll(".observablehq--expanded");if(t.length)return Array.from(t,n=>on(e,n))}function tn(e){return e.nodeType===1}function nn(e){return tn(e)&&e.classList.contains("observablehq")}function on(e,t){const n=[];for(;t!==e;)n.push(an(t)),t=t.parentNode;return n.reverse()}function an(e){return Array.prototype.indexOf.call(e.parentNode.childNodes,e)}const rn=["audio source[src]","audio[src]","img[src]","picture source[src]","video source[src]","video[src]"].join(),ln=["img[srcset]","picture source[srcset]"].join(),sn=["a[href][download]","link[href]"].join(),cn=[[rn,"src"],[ln,"srcset"],[sn,"href"]];function dn(e,t){const n=i=>t.get(mn(i))??i;for(const[i,o]of cn)for(const a of e.querySelectorAll(i)){if(un(a))continue;const r=decodeURI(a.getAttribute(o));o==="srcset"?a.setAttribute(o,In(r,n)):a.setAttribute(o,n(r))}}function un(e){return/(?:^|\s)external(?:\s|$)/i.test(e.getAttribute("rel")??"")}function gn(e){const t=e.indexOf("?"),n=e.indexOf("#"),i=t>=0&&n>=0?Math.min(t,n):t>=0?t:n;return i>=0?e.slice(0,i):e}function mn(e){const t=gn(e);return pn(t)?t:`./${t}`}function pn(e){return["./","../","/"].some(t=>e.startsWith(t))}function In(e,t){return e.trim().split(/\s*,\s*/).filter(n=>n).map(n=>{const i=n.split(/\s+/),o=t(i[0]);return o&&(i[0]=encodeURI(o)),i.join(" ")}).join(", ")}function Oe(e,t){const{root:n,expanded:i}=e,o=fn(t,n)?t:$t(t,i[n.childNodes.length]);Me(e,o)}function Me(e,t){if(t.nodeType===11){let n;for(;n=t.firstChild;)e.root.appendChild(n)}else e.root.appendChild(t)}function Cn(e,t){Me(e,qt(t))}function fn(e,t){return(e instanceof Element||e instanceof Text)&&e instanceof e.constructor&&(!e.parentNode||t.contains(e))}function O(e){for(e.expanded=Array.from(e.root.childNodes,en);e.root.lastChild;)e.root.lastChild.remove()}function bn(e,{autodisplay:t,assets:n}){return{_error:!1,_node:e.root,pending(){this._error&&(this._error=!1,O(e))},fulfilled(i){t&&(O(e),n&&i instanceof Element&&dn(i,n),Oe(e,i))},rejected(i){console.error(i),this._error=!0,O(e),Cn(e,i)}}}class Y extends Error{constructor(t,n){super(t),this.input=n}}Y.prototype.name="RuntimeError";function hn(e){return e&&typeof e.next=="function"&&typeof e.return=="function"}function be(e){return()=>e}function de(e){return e}function An(e){return()=>{throw e}}const yn=Array.prototype,_n=yn.map;function N(){}const Ge=1,ee=2,oe=3,$=Symbol("no-observer"),Zn=Promise.resolve();function H(e,t,n,i){n||(n=$),Object.defineProperties(this,{_observer:{value:n,writable:!0},_definition:{value:ve,writable:!0},_duplicate:{value:void 0,writable:!0},_duplicates:{value:void 0,writable:!0},_indegree:{value:NaN,writable:!0},_inputs:{value:[],writable:!0},_invalidate:{value:N,writable:!0},_module:{value:t},_name:{value:null,writable:!0},_outputs:{value:new Set,writable:!0},_promise:{value:Zn,writable:!0},_reachable:{value:n!==$,writable:!0},_rejector:{value:Wn(this)},_shadow:{value:Gn(t,i)},_type:{value:e},_value:{value:void 0,writable:!0},_version:{value:0,writable:!0}})}Object.defineProperties(H.prototype,{_pending:{value:kn,writable:!0,configurable:!0},_fulfilled:{value:Yn,writable:!0,configurable:!0},_rejected:{value:Fn,writable:!0,configurable:!0},_resolve:{value:Bn,writable:!0,configurable:!0},define:{value:Vn,writable:!0,configurable:!0},delete:{value:Xn,writable:!0,configurable:!0},import:{value:Rn,writable:!0,configurable:!0}});function Gn(e,t){return t?.shadow?new Map(Object.entries(t.shadow).map(([n,i])=>[n,new H(ee,e).define([],i)])):null}function vn(e){e._module._runtime._dirty.add(e),e._outputs.add(this)}function wn(e){e._module._runtime._dirty.add(e),e._outputs.delete(this)}function ve(){throw ve}function F(){throw F}function Wn(e){return t=>{throw t===F?t:t===ve?new Y(`${e._name} is not defined`,e._name):t instanceof Error&&t.message?new Y(t.message,e._name):new Y(`${e._name} could not be resolved`,e._name)}}function Ke(e){return()=>{throw new Y(`${e} is defined more than once`)}}function Vn(e,t,n){switch(arguments.length){case 1:{n=e,e=t=null;break}case 2:{n=t,typeof e=="string"?t=null:(t=e,e=null);break}}return we.call(this,e==null?null:String(e),t==null?[]:_n.call(t,this._resolve,this),typeof n=="function"?n:be(n))}function Bn(e){return this._shadow?.get(e)??this._module._resolve(e)}function we(e,t,n){const i=this._module._scope,o=this._module._runtime;if(this._inputs.forEach(wn,this),t.forEach(vn,this),this._inputs=t,this._definition=n,this._value=void 0,n===N?o._variables.delete(this):o._variables.add(this),e!==this._name||i.get(e)!==this){let a,r;if(this._name)if(this._outputs.size)i.delete(this._name),r=this._module._resolve(this._name),r._outputs=this._outputs,this._outputs=new Set,r._outputs.forEach(function(l){l._inputs[l._inputs.indexOf(this)]=r},this),r._outputs.forEach(o._updates.add,o._updates),o._dirty.add(r).add(this),i.set(this._name,r);else if((r=i.get(this._name))===this)i.delete(this._name);else if(r._type===oe)r._duplicates.delete(this),this._duplicate=void 0,r._duplicates.size===1&&(r=r._duplicates.keys().next().value,a=i.get(this._name),r._outputs=a._outputs,a._outputs=new Set,r._outputs.forEach(function(l){l._inputs[l._inputs.indexOf(a)]=r}),r._definition=r._duplicate,r._duplicate=void 0,o._dirty.add(a).add(r),o._updates.add(r),i.set(this._name,r));else throw new Error;if(this._outputs.size)throw new Error;e&&((r=i.get(e))?r._type===oe?(this._definition=Ke(e),this._duplicate=n,r._duplicates.add(this)):r._type===ee?(this._outputs=r._outputs,r._outputs=new Set,this._outputs.forEach(function(l){l._inputs[l._inputs.indexOf(r)]=this},this),o._dirty.add(r).add(this),i.set(e,this)):(r._duplicate=r._definition,this._duplicate=n,a=new H(oe,this._module),a._name=e,a._definition=this._definition=r._definition=Ke(e),a._outputs=r._outputs,r._outputs=new Set,a._outputs.forEach(function(l){l._inputs[l._inputs.indexOf(r)]=a}),a._duplicates=new Set([this,r]),o._dirty.add(r).add(a),o._updates.add(r).add(a),i.set(e,a)):i.set(e,this)),this._name=e}return this._version>0&&++this._version,o._updates.add(this),o._compute(),this}function Rn(e,t,n){return arguments.length<3&&(n=t,t=e),we.call(this,String(t),[n._resolve(String(e))],de)}function Xn(){return we.call(this,null,[],N)}function kn(){this._observer.pending&&this._observer.pending()}function Yn(e){this._observer.fulfilled&&this._observer.fulfilled(e,this._name)}function Fn(e){this._observer.rejected&&this._observer.rejected(e,this._name)}const $e=Symbol("variable"),qe=Symbol("invalidation"),et=Symbol("visibility");function ue(e,t=[]){Object.defineProperties(this,{_runtime:{value:e},_scope:{value:new Map},_builtins:{value:new Map([["@variable",$e],["invalidation",qe],["visibility",et],...t])},_source:{value:null,writable:!0}})}Object.defineProperties(ue.prototype,{_resolve:{value:Tn,writable:!0,configurable:!0},redefine:{value:Nn,writable:!0,configurable:!0},define:{value:En,writable:!0,configurable:!0},derive:{value:Sn,writable:!0,configurable:!0},import:{value:Hn,writable:!0,configurable:!0},value:{value:xn,writable:!0,configurable:!0},variable:{value:Kn,writable:!0,configurable:!0},builtin:{value:Jn,writable:!0,configurable:!0}});function Nn(e){const t=this._scope.get(e);if(!t)throw new Y(`${e} is not defined`);if(t._type===oe)throw new Y(`${e} is defined more than once`);return t.define.apply(t,arguments)}function En(){const e=new H(Ge,this);return e.define.apply(e,arguments)}function Hn(){const e=new H(Ge,this);return e.import.apply(e,arguments)}function Kn(e,t){return new H(Ge,this,e,t)}async function xn(e){let t=this._scope.get(e);if(!t)throw new Y(`${e} is not defined`);if(t._observer===$){t=this.variable(!0).define([e],de);try{return await he(this._runtime,t)}finally{t.delete()}}else return he(this._runtime,t)}async function he(e,t){await e._compute();try{return await t._promise}catch(n){if(n===F)return he(e,t);throw n}}function Sn(e,t){const n=new Map,i=new Set,o=[];function a(l){let c=n.get(l);return c||(c=new ue(l._runtime,l._builtins),c._source=l,n.set(l,c),o.push([c,l]),i.add(l),c)}const r=a(this);for(const l of e){const{alias:c,name:s}=typeof l=="object"?l:{name:l};r.import(s,c??s,t)}for(const l of i)for(const[c,s]of l._scope)if(s._definition===de){if(l===this&&r._scope.has(c))continue;const d=s._inputs[0]._module;d._source&&a(d)}for(const[l,c]of o)for(const[s,d]of c._scope){const u=l._scope.get(s);if(!(u&&u._type!==ee))if(d._definition===de){const g=d._inputs[0],p=g._module;l.import(g._name,s,n.get(p)||p)}else l.define(s,d._inputs.map(Ln),d._definition)}return r}function Tn(e){let t=this._scope.get(e),n;if(!t)if(t=new H(ee,this),this._builtins.has(e))t.define(e,be(this._builtins.get(e)));else if(this._runtime._builtin._scope.has(e))t.import(e,this._runtime._builtin);else{try{n=this._runtime._global(e)}catch(i){return t.define(e,An(i))}n===void 0?this._scope.set(t._name=e,t):t.define(e,be(n))}return t}function Jn(e,t){this._builtins.set(e,t)}function Ln(e){return e._name}const zn=typeof requestAnimationFrame=="function"?requestAnimationFrame:typeof setImmediate=="function"?setImmediate:e=>setTimeout(e,0);function tt(e,t=si){const n=this.module();if(Object.defineProperties(this,{_dirty:{value:new Set},_updates:{value:new Set},_precomputes:{value:[],writable:!0},_computing:{value:null,writable:!0},_init:{value:null,writable:!0},_modules:{value:new Map},_variables:{value:new Set},_disposed:{value:!1,writable:!0},_builtin:{value:n},_global:{value:t}}),e)for(const i in e)new H(ee,n).define(i,[],e[i])}Object.defineProperties(tt.prototype,{_precompute:{value:Un,writable:!0,configurable:!0},_compute:{value:Qn,writable:!0,configurable:!0},_computeSoon:{value:Dn,writable:!0,configurable:!0},_computeNow:{value:On,writable:!0,configurable:!0},dispose:{value:Pn,writable:!0,configurable:!0},module:{value:jn,writable:!0,configurable:!0}});function Pn(){this._computing=Promise.resolve(),this._disposed=!0,this._variables.forEach(e=>{e._invalidate(),e._version=NaN})}function jn(e,t=N){let n;if(e===void 0)return(n=this._init)?(this._init=null,n):new ue(this);if(n=this._modules.get(e),n)return n;this._init=n=new ue(this),this._modules.set(e,n);try{e(this,t)}finally{this._init=null}return n}function Un(e){this._precomputes.push(e),this._compute()}function Qn(){return this._computing||(this._computing=this._computeSoon())}function Dn(){return new Promise(zn).then(()=>this._disposed?void 0:this._computeNow())}async function On(){let e=[],t,n,i=this._precomputes;if(i.length){this._precomputes=[];for(const a of i)a();await Mn(3)}t=new Set(this._dirty),t.forEach(function(a){a._inputs.forEach(t.add,t);const r=li(a);r>a._reachable?this._updates.add(a):r<a._reachable&&a._invalidate(),a._reachable=r},this),t=new Set(this._updates),t.forEach(function(a){a._reachable?(a._indegree=0,a._outputs.forEach(t.add,t)):(a._indegree=NaN,t.delete(a))}),this._computing=null,this._updates.clear(),this._dirty.clear(),t.forEach(function(a){a._outputs.forEach(qn)});do{for(t.forEach(function(a){a._indegree===0&&e.push(a)});n=e.pop();)ii(n),n._outputs.forEach(o),t.delete(n);t.forEach(function(a){$n(a)&&(ai(a,new Y("circular definition")),a._outputs.forEach(ei),t.delete(a))})}while(t.size);function o(a){--a._indegree===0&&e.push(a)}}function Mn(e=0){let t=Promise.resolve();for(let n=0;n<e;++n)t=t.then(()=>{});return t}function $n(e){const t=new Set(e._inputs);for(const n of t){if(n===e)return!0;n._inputs.forEach(t.add,t)}return!1}function qn(e){++e._indegree}function ei(e){--e._indegree}function ti(e){return e._promise.catch(e._rejector)}function Ce(e){return new Promise(function(t){e._invalidate=t})}function ni(e,t){let n=typeof IntersectionObserver=="function"&&t._observer&&t._observer._node,i=!n,o=N,a=N,r,l;return n&&(l=new IntersectionObserver(([c])=>(i=c.isIntersecting)&&(r=null,o())),l.observe(n),e.then(()=>(l.disconnect(),l=null,a()))),function(c){return i?Promise.resolve(c):l?(r||(r=new Promise((s,d)=>(o=s,a=d))),r.then(()=>c)):Promise.reject()}}function ii(e){e._invalidate(),e._invalidate=N,e._pending();const t=e._value,n=++e._version,i=e._inputs,o=e._definition;let a=null;const r=e._promise=e._promise.then(l,l).then(c).then(s);function l(){return Promise.all(i.map(ti))}function c(d){if(e._version!==n)throw F;for(let u=0,g=d.length;u<g;++u)switch(d[u]){case qe:{d[u]=a=Ce(e);break}case et:{a||(a=Ce(e)),d[u]=ni(a,e);break}case $e:{d[u]=e;break}}return o.apply(t,d)}function s(d){if(e._version!==n)throw F;return hn(d)?((a||Ce(e)).then(ri(d)),oi(e,n,d)):d}r.then(d=>{e._value=d,e._fulfilled(d)},d=>{d===F||e._version!==n||(e._value=void 0,e._rejected(d))})}function oi(e,t,n){const i=e._module._runtime;let o;function a(c){return new Promise(s=>s(n.next(o))).then(({done:s,value:d})=>s?void 0:Promise.resolve(d).then(c))}function r(){const c=a(s=>{if(e._version!==t)throw F;return o=s,l(s,c).then(()=>i._precompute(r)),e._fulfilled(s),s});c.catch(s=>{s===F||e._version!==t||(l(void 0,c),e._rejected(s))})}function l(c,s){return e._value=c,e._promise=s,e._outputs.forEach(i._updates.add,i._updates),i._compute()}return a(c=>{if(e._version!==t)throw F;return o=c,i._precompute(r),c})}function ai(e,t){e._invalidate(),e._invalidate=N,e._pending(),++e._version,e._indegree=NaN,(e._promise=Promise.reject(t)).catch(N),e._value=void 0,e._rejected(t)}function ri(e){return function(){e.return()}}function li(e){if(e._observer!==$)return!0;const t=new Set(e._outputs);for(const n of t){if(n._observer!==$)return!0;n._outputs.forEach(t.add,t)}return!1}function si(e){return globalThis[e]}const xe=new Map;function nt(e,t=document.baseURI){if(new.target!==void 0)throw new TypeError("FileAttachment is not a constructor");const n=new URL(e,t).href;let i=xe.get(n);return i||(i=new J(n,e.split("/").pop()),xe.set(n,i)),i}async function T(e){const t=await fetch(e.href);if(!t.ok)throw new Error(`Unable to load file: ${e.name}`);return t}class ci{constructor(t,n=di(t),i,o){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mimeType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastModified",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperties(this,{name:{value:`${t}`,enumerable:!0},mimeType:{value:`${n}`,enumerable:!0},lastModified:{value:i===void 0?void 0:+i,enumerable:!0},size:{value:o===void 0?void 0:+o,enumerable:!0}})}async url(){return this.href}async blob(){return(await T(this)).blob()}async arrayBuffer(){return(await T(this)).arrayBuffer()}async text(t){return t===void 0?(await T(this)).text():new TextDecoder(t).decode(await this.arrayBuffer())}async json(){return(await T(this)).json()}async stream(){return(await T(this)).body}async dsv({delimiter:t=",",array:n=!1,typed:i=!1}={}){const[o,a]=await Promise.all([this.text(),f(()=>import("https://cdn.jsdelivr.net/npm/d3-dsv/+esm"),[],import.meta.url)]),r=a.dsvFormat(t);return(n?r.parseRows:r.parse)(o,i&&a.autoType)}async csv(t){return this.dsv({...t,delimiter:","})}async tsv(t){return this.dsv({...t,delimiter:"	"})}async image(t){const n=await this.url();return new Promise((i,o)=>{const a=new Image;new URL(n,document.baseURI).origin!==location.origin&&(a.crossOrigin="anonymous"),Object.assign(a,t),a.onload=()=>i(a),a.onerror=()=>o(new Error(`Unable to load file: ${this.name}`)),a.src=n})}async arrow(){const[t,n]=await Promise.all([f(()=>import("https://cdn.jsdelivr.net/npm/apache-arrow/+esm"),[],import.meta.url),T(this)]);return t.tableFromIPC(n)}async arquero(t){let n,i;switch(this.mimeType){case"application/json":n=this.text(),i="fromJSON";break;case"text/tab-separated-values":t?.delimiter===void 0&&(t={...t,delimiter:"	"});case"text/csv":n=this.text(),i="fromCSV";break;default:if(/\.arrow$/i.test(this.name))n=this.arrow(),i="fromArrow";else if(/\.parquet$/i.test(this.name))n=this.parquet(),i="fromArrow";else throw new Error(`unable to determine Arquero loader: ${this.name}`);break}const[o,a]=await Promise.all([f(()=>import("https://cdn.jsdelivr.net/npm/arquero/+esm"),[],import.meta.url),n]);return o[i](a,t)}async parquet(){const[t,n,i]=await Promise.all([f(()=>import("https://cdn.jsdelivr.net/npm/apache-arrow/+esm"),[],import.meta.url),f(()=>import("https://cdn.jsdelivr.net/npm/parquet-wasm/+esm"),[],import.meta.url).then(async o=>(await o.default("https://cdn.jsdelivr.net/npm/parquet-wasm/esm/parquet_wasm_bg.wasm"),o)),this.arrayBuffer()]);return t.tableFromIPC(n.readParquet(new Uint8Array(i)).intoIPCStream())}async xml(t="application/xml"){return new DOMParser().parseFromString(await this.text(),t)}async html(){return this.xml("text/html")}}function di(e){const t=e.lastIndexOf("."),n=e.lastIndexOf("/");switch(t>0&&(n<0||t>n)?e.slice(t).toLowerCase():""){case".csv":return"text/csv";case".tsv":return"text/tab-separated-values";case".json":return"application/json";case".html":return"text/html";case".xml":return"application/xml";case".png":return"image/png";case".jpg":return"image/jpg";case".js":return"text/javascript";default:return"application/octet-stream"}}class J extends ci{constructor(t,n,i,o,a){super(n,i,o,a),Object.defineProperty(this,"href",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"href",{value:t})}}Object.defineProperty(J,"name",{value:"FileAttachment"});nt.prototype=J.prototype;function ui(e){function t(n){const i=e(n+="");if(i==null)throw new Error(`File not found: ${n}`);if(typeof i=="object"&&"url"in i){const{url:o,mimeType:a}=i;return new J(o,n,a)}return new J(i,n)}return t.prototype=J.prototype,t}async function*me(e){let t,n,i=!1;const o=e(a=>(n=a,t?(t(a),t=void 0):i=!0,a));if(o!=null&&typeof o!="function")throw new Error(typeof o=="object"&&"then"in o&&typeof o.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");try{for(;;)yield i?(i=!1,n):new Promise(a=>t=a)}finally{o?.()}}function it(e){let t;return Object.defineProperty(me(n=>{t=n,e!==void 0&&t(e)}),"value",{get:()=>e,set:n=>(e=n,void t?.(e))})}function gi(e){const t=it(e);return[t,{get value(){return t.value},set value(n){t.value=n}}]}function Ae(e){return me(t=>{const n=mi(e),i=Se(e),o=()=>t(Se(e));return e.addEventListener(n,o),i!==void 0&&t(i),()=>e.removeEventListener(n,o)})}function Se(e){const t=e,n=e;if("type"in e)switch(e.type){case"range":case"number":return t.valueAsNumber;case"date":return t.valueAsDate;case"checkbox":return t.checked;case"file":return t.multiple?t.files:t.files[0];case"select-multiple":return Array.from(n.selectedOptions,i=>i.value)}return t.value}function mi(e){if("type"in e)switch(e.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change"}return"input"}async function*ot(){for(;;)yield Date.now()}async function*pi(e){let t;const n=[],i=e(o=>(n.push(o),t&&(t(n.shift()),t=void 0),o));if(i!=null&&typeof i!="function")throw new Error(typeof i=="object"&&"then"in i&&typeof i.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");try{for(;;)yield n.length?n.shift():new Promise(o=>t=o)}finally{i?.()}}function at(e,t){return me(n=>{let i;const o=new ResizeObserver(([a])=>{const r=a.contentRect.width;r!==i&&n(i=r)});return o.observe(e,t),()=>o.disconnect()})}const Ii=Object.freeze(Object.defineProperty({__proto__:null,input:Ae,now:ot,observe:me,queue:pi,width:at},Symbol.toStringTag,{value:"Module"}));function Ci(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}function fi(e,t,n=devicePixelRatio){const i=document.createElement("canvas");i.width=e*n,i.height=t*n,i.style.width=`${e}px`;const o=i.getContext("2d");return o.scale(n,n),o}function bi(e,t){const n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox",`0 0 ${e} ${t}`),n.setAttribute("width",`${e}`),n.setAttribute("height",`${t}`),n}function hi(e){return document.createTextNode(e)}let Ai=0;function yi(e){return new _i(`O-${e==null?"":`${e}-`}${++Ai}`)}class _i{constructor(t){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"href",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.id=t,this.href=new URL(`#${t}`,location.href).href}toString(){return`url(${this.href})`}}const Zi=Object.freeze(Object.defineProperty({__proto__:null,canvas:Ci,context2d:fi,svg:bi,text:hi,uid:yi},Symbol.toStringTag,{value:"Module"}));var Gi=function(e,t,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:t.get(e)},vi=function(e,t,n,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},ae;class wi{constructor(){ae.set(this,void 0),Object.defineProperty(this,"fulfilled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rejected",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.next()}async next(){const t=await Gi(this,ae,"f");return vi(this,ae,new Promise((n,i)=>(this.fulfilled=n,this.rejected=i)),"f"),{done:!1,value:t}}throw(){return{done:!0}}return(){return{done:!0}}}ae=new WeakMap;const Wi=()=>f(()=>import("https://cdn.jsdelivr.net/npm/lodash/+esm"),[],import.meta.url).then(e=>e.default),Vi=()=>f(()=>import("https://cdn.jsdelivr.net/npm/arquero/+esm"),[],import.meta.url),Bi=()=>f(()=>import("https://cdn.jsdelivr.net/npm/apache-arrow/+esm"),[],import.meta.url),Ri=()=>f(()=>import("https://cdn.jsdelivr.net/npm/d3/+esm"),[],import.meta.url),Xi=()=>f(()=>import("./dot-DSyh6hFx.js"),[],import.meta.url).then(e=>e.dot),ki=()=>f(()=>import("https://cdn.jsdelivr.net/npm/@duckdb/duckdb-wasm/+esm"),[],import.meta.url),Yi=()=>f(()=>import("./duckdb-Dk9CbCvl.js"),[],import.meta.url).then(e=>e.DuckDBClient),Fi=()=>f(()=>import("https://cdn.jsdelivr.net/npm/echarts/+esm"),[],import.meta.url),Ni=()=>f(()=>import("https://cdn.jsdelivr.net/npm/htl/+esm"),[],import.meta.url),Ei=()=>f(()=>import("https://cdn.jsdelivr.net/npm/htl/+esm"),[],import.meta.url).then(e=>e.html),Hi=()=>f(()=>import("https://cdn.jsdelivr.net/npm/htl/+esm"),[],import.meta.url).then(e=>e.svg),Ki=()=>f(()=>import("./inputs-DoHVubAa.js"),__vite__mapDeps([0,1]),import.meta.url),xi=()=>f(()=>import("./leaflet-D54mqpIu.js"),[],import.meta.url),Si=()=>f(()=>import("./mapboxgl-C94UFoDx.js"),[],import.meta.url).then(e=>e.default),Ti=()=>f(()=>import("./md-CC8_YNJP.js"),[],import.meta.url).then(e=>e.md),Ji=()=>f(()=>import("./mermaid-CWCaPgOr.js"),[],import.meta.url).then(e=>e.mermaid),Li=()=>f(()=>import("https://cdn.jsdelivr.net/npm/@observablehq/plot/+esm"),[],import.meta.url),zi=()=>f(()=>import("https://cdn.jsdelivr.net/npm/react/+esm"),[],import.meta.url),Pi=()=>f(()=>import("https://cdn.jsdelivr.net/npm/react-dom/+esm"),[],import.meta.url),ji=()=>f(()=>import("./tex-BE43Lb2g.js"),[],import.meta.url).then(e=>e.tex),Ui=()=>f(()=>import("https://cdn.jsdelivr.net/npm/topojson-client/+esm"),[],import.meta.url),Qi=()=>f(()=>import("./vega-lite-ClQwpDTB.js"),[],import.meta.url).then(e=>e.vl),Di=Object.freeze(Object.defineProperty({__proto__:null,Arrow:Bi,DuckDBClient:Yi,Inputs:Ki,L:xi,Plot:Li,React:zi,ReactDOM:Pi,_:Wi,aq:Vi,d3:Ri,dot:Xi,duckdb:ki,echarts:Fi,htl:Ni,html:Ei,mapboxgl:Si,md:Ti,mermaid:Ji,svg:Hi,tex:ji,topojson:Ui,vl:Qi},Symbol.toStringTag,{value:"Module"}));We.resolve=rt;function We(...e){return e.length===1?import(rt(e[0])):Promise.all(e.map(t=>We(t))).then(t=>Object.assign({},...t))}function Oi(e){const t=e.split("/"),n=e.startsWith("@")?[t.shift(),t.shift()].join("/"):t.shift(),i=n.indexOf("@",1),o=i>0?n.slice(0,i):n,a=i>0?n.slice(i):"",r=t.length>0?`/${t.join("/")}`:"";return{name:o,range:a,path:r}}function rt(e){const t=String(e);if(Mi(t)||$i(t))return t;const{name:n,range:i,path:o}=Oi(t);return`https://cdn.jsdelivr.net/npm/${n}${i}${o+(qi(o)||eo(o)?"":"/+esm")}`}function Mi(e){return/^\w+:/.test(e)}function $i(e){return/^(\.\/|\.\.\/|\/)/.test(e)}function qi(e){return/(\.\w*)$/.test(e)}function eo(e){return/(\/)$/.test(e)}const to=()=>V(W("aapl.csv")),no=()=>V(W("alphabet.csv")),io=()=>V(W("cars.csv")),oo=()=>V(W("citywages.csv")),ao=()=>V(W("diamonds.csv")),ro=()=>V(W("flare.csv")),lo=()=>V(W("industries.csv")),so=()=>po(W("miserables.json")),co=()=>V(W("olympians.csv")),uo=()=>V(W("penguins.csv")),go=()=>V(W("pizza.csv")),mo=()=>V(W("weather.csv"));function W(e){return`https://cdn.jsdelivr.net/npm/@observablehq/sample-datasets/${e}`}async function po(e){const t=await fetch(e);if(!t.ok)throw new Error(`unable to fetch ${e}: status ${t.status}`);return t.json()}async function Io(e){const t=await fetch(e);if(!t.ok)throw new Error(`unable to fetch ${e}: status ${t.status}`);return t.text()}async function V(e,t){const[n,i]=await Promise.all([Io(e),f(()=>import("https://cdn.jsdelivr.net/npm/d3-dsv/+esm"),[],import.meta.url)]);return i.csvParse(n,i.autoType)}const Co=Object.freeze(Object.defineProperty({__proto__:null,aapl:to,alphabet:no,cars:io,citywages:oo,diamonds:ao,flare:ro,industries:lo,miserables:so,olympians:co,penguins:uo,pizza:go,weather:mo},Symbol.toStringTag,{value:"Module"}));function fo(e,t){return(n,...i)=>e.sql.call(e,n,...i).then(t)}const bo=document.querySelector("main")??document.body,ho={now:()=>ot(),width:()=>at(bo),FileAttachment:()=>nt,Generators:()=>Ii,Mutable:()=>it,DOM:()=>Zi,require:()=>We,__sql:()=>fo,__ojs_observer:()=>()=>new wi,...Di,...Co},ye=Object.assign(new tt({...ho,__ojs_runtime:()=>ye}),{fileAttachments:ui}),x=ye.main=ye.module();x.constructor.prototype.defines=function(e){return this._scope.has(e)||this._builtins.has(e)||this._runtime._builtin._scope.has(e)};function R(e,t,n=bn){const{id:i,body:o,inputs:a=[],outputs:r=[],output:l,autodisplay:c,autoview:s,automutable:d}=t,u=e.variables,g=x.variable(n(e,t),{shadow:{}}),p=l??(r.length?`cell ${i}`:null);if(a.includes("display")||a.includes("view")){let m=-1;const G=new g.constructor(2,g._module);if(G.define(a.filter(_=>_!=="display"&&_!=="view"),()=>{const _=g._version;return K=>{if(_<m)throw new Error("stale display");if(e.variables[0]!==g)throw new Error("stale display");return _>m&&O(e),m=_,Oe(e,K),K}}),g._shadow.set("display",G),a.includes("view")){const _=new g.constructor(2,g._module,null,{shadow:{}});_._shadow.set("display",G),_.define(["display"],K=>z=>Ae(K(z))),g._shadow.set("view",_)}}else c||O(e);if(u.push(g.define(p,a,o)),l!=null){if(s){const m=Te(l,"viewof$");u.push(x.define(m,[l],Ae))}else if(d){const m=Te(l,"mutable "),G=`cell ${i}`;g.define(m,[G],([_])=>_),u.push(x.define(l,a,o),x.define(G,[l],gi),x.define(`mutable$${m}`,[G],([,_])=>_))}}else for(const m of r)u.push(x.variable(!0).define(m,[p],G=>G[m]))}function Te(e,t){if(!e.startsWith(t))throw new Error(`expected ${t}: ${e}`);return e.slice(t.length)}R({root:document.getElementById("cell-8"),expanded:[],variables:[]},{id:8,body:async(e,t,n,i,o,a,r,l)=>{const c={goal:"Track the total number of publications over time, segmented by Conference, to identify growth or decline in specific venues.",summary:"A summary of the total number of publications per year, segmented by academic conference, to show publication trends over time.",fields:[{name:"publication_date",label:"Publication Date",description:"Derived from [Year]: The year of publication, converted to a full date format (YYYY-01-01).",semantic_type:"DateTime",role:"primary"},{name:"conference",label:"Conference",description:"Original field [Conference] used without modification.",semantic_type:"Category",role:"segment"},{name:"number_of_publications",label:"Number of Publications",description:"Derived from the dataset records: A count of all publications, aggregated by publication year and conference.",semantic_type:"Numeric",role:"primary"}]},s={config:{view:{continuousWidth:300,continuousHeight:300}},data:{name:"dataset_01"},mark:{type:"line",point:!0},encoding:{color:{field:"conference",title:"Conference",type:"nominal"},tooltip:[{field:"publication_date",title:"Publication Date",type:"temporal"},{field:"conference",title:"Conference",type:"nominal"},{field:"number_of_publications",title:"Number of Publications",type:"quantitative"}],x:{field:"publication_date",scale:{type:"linear",zero:!0},timeUnit:"year",title:"Publication Date",type:"temporal"},y:{field:"number_of_publications",scale:{type:"linear",zero:!0},title:"Number of Publications",type:"quantitative"}},$schema:"https://vega.github.io/schema/vega-lite/v6.1.0.json"};e(document.querySelectorAll("#subsection-dataset_01 .data-field"),c.fields);const d=document.getElementById("provenance-nb-link-dataset_01");d&&d.setAttribute("href",t(n,c.goal,s));const u="dataset_01",g="https://visxgenai-cdn.peter.gy/sessions/content-bellflower-admire-smoothly/artifacts/datasets.parquet";await i(o,u,g);const p=await a({table:u,spec:s,metadata:c,coordinator:r});l(p.viewClient.node()),l(p.tableClient.node());const m=document.getElementById("loading-skeleton-dataset_01");return m&&m.remove(),{dataset_01_metadata:c,dataset_01_vegalite:s,dataset_01_provenance_nb_link:d,dataset_01_table:u,dataset_01_url:g,dataset_01_clients:p,dataset_01_loading_skeleton:m}},inputs:["registerDataFieldTooltips","constructProvenanceNotebookUrl","provenanceNotebookTemplate","registerDataset","db","datatableWithView","coordinator","display"],outputs:["dataset_01_metadata","dataset_01_vegalite","dataset_01_provenance_nb_link","dataset_01_table","dataset_01_url","dataset_01_clients","dataset_01_loading_skeleton"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});R({root:document.getElementById("cell-12"),expanded:[],variables:[]},{id:12,body:async(e,t,n,i,o,a,r,l)=>{const c={goal:"Compare the median AminerCitationCount across different PaperType categories to understand which paper types tend to receive more citations.",summary:"This view calculates the median AMiner citation count for each publication paper type, ordered from most to least cited, to highlight which types of papers tend to receive more citations.",fields:[{name:"paper_type",label:"Paper Type",description:"Derived from PaperType: Cleaned by trimming whitespace and coalescing NULL or empty values into 'Unknown'.",semantic_type:"Category",role:"primary"},{name:"median_aminer_citations",label:"Median Aminer Citations",description:"Derived from AminerCitationCount: Median aggregated by paper_type. Records with NULL citation counts were excluded from the calculation.",semantic_type:"Numeric",role:"primary"}]},s={config:{view:{continuousWidth:300,continuousHeight:300}},data:{name:"dataset_02"},mark:{type:"bar"},encoding:{tooltip:[{field:"paper_type",title:"Paper Type",type:"nominal"},{field:"median_aminer_citations",title:"Median Aminer Citations",type:"quantitative"}],x:{field:"median_aminer_citations",scale:{type:"linear",zero:!0},title:"Median Aminer Citations",type:"quantitative"},y:{field:"paper_type",sort:"-x",title:"Paper Type",type:"ordinal"}},$schema:"https://vega.github.io/schema/vega-lite/v6.1.0.json"};e(document.querySelectorAll("#subsection-dataset_02 .data-field"),c.fields);const d=document.getElementById("provenance-nb-link-dataset_02");d&&d.setAttribute("href",t(n,c.goal,s));const u="dataset_02",g="https://visxgenai-cdn.peter.gy/sessions/content-bellflower-admire-smoothly/artifacts/datasets.parquet";await i(o,u,g);const p=await a({table:u,spec:s,metadata:c,coordinator:r});l(p.viewClient.node()),l(p.tableClient.node());const m=document.getElementById("loading-skeleton-dataset_02");return m&&m.remove(),{dataset_02_metadata:c,dataset_02_vegalite:s,dataset_02_provenance_nb_link:d,dataset_02_table:u,dataset_02_url:g,dataset_02_clients:p,dataset_02_loading_skeleton:m}},inputs:["registerDataFieldTooltips","constructProvenanceNotebookUrl","provenanceNotebookTemplate","registerDataset","db","datatableWithView","coordinator","display"],outputs:["dataset_02_metadata","dataset_02_vegalite","dataset_02_provenance_nb_link","dataset_02_table","dataset_02_url","dataset_02_clients","dataset_02_loading_skeleton"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});R({root:document.getElementById("cell-18"),expanded:[],variables:[]},{id:18,body:async(e,t,n,i,o,a,r,l)=>{const c={goal:"Rank conferences by their median CitationCount_CrossRef to identify the most impactful publication venues.",summary:"This view ranks academic conferences by their median citation count, as recorded by CrossRef. It provides a measure of the typical impact of publications from each conference venue.",fields:[{name:"conference",label:"Conference",description:"Original field Conference used without modification.",semantic_type:"Name",role:"primary"},{name:"median_citations",label:"Median Citations",description:"Derived from CitationCount_CrossRef: Median aggregated by Conference, excluding NULL values.",semantic_type:"Numeric",role:"primary"}]},s={config:{view:{continuousWidth:300,continuousHeight:300}},data:{name:"dataset_03"},mark:{type:"bar"},encoding:{tooltip:[{field:"conference",title:"Conference",type:"nominal"},{field:"median_citations",title:"Median Citations",type:"quantitative"}],x:{field:"median_citations",scale:{type:"linear",zero:!0},title:"Median Citations",type:"quantitative"},y:{field:"conference",sort:"-x",title:"Conference",type:"ordinal"}},$schema:"https://vega.github.io/schema/vega-lite/v6.1.0.json"};e(document.querySelectorAll("#subsection-dataset_03 .data-field"),c.fields);const d=document.getElementById("provenance-nb-link-dataset_03");d&&d.setAttribute("href",t(n,c.goal,s));const u="dataset_03",g="https://visxgenai-cdn.peter.gy/sessions/content-bellflower-admire-smoothly/artifacts/datasets.parquet";await i(o,u,g);const p=await a({table:u,spec:s,metadata:c,coordinator:r});l(p.viewClient.node()),l(p.tableClient.node());const m=document.getElementById("loading-skeleton-dataset_03");return m&&m.remove(),{dataset_03_metadata:c,dataset_03_vegalite:s,dataset_03_provenance_nb_link:d,dataset_03_table:u,dataset_03_url:g,dataset_03_clients:p,dataset_03_loading_skeleton:m}},inputs:["registerDataFieldTooltips","constructProvenanceNotebookUrl","provenanceNotebookTemplate","registerDataset","db","datatableWithView","coordinator","display"],outputs:["dataset_03_metadata","dataset_03_vegalite","dataset_03_provenance_nb_link","dataset_03_table","dataset_03_url","dataset_03_clients","dataset_03_loading_skeleton"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});R({root:document.getElementById("cell-22"),expanded:[],variables:[]},{id:22,body:async(e,t,n,i,o,a,r,l)=>{const c={goal:"Explore the relationship between individual Downloads_Xplore and CitationCount_CrossRef for publications, segmented by PaperType, to see if download activity correlates with citation impact across different paper formats.",summary:"This view provides a detailed look at individual research publications, focusing on the relationship between their download counts and citation numbers. Each record represents a single publication and includes its title, DOI, download and citation metrics, paper type, and other contextual information like conference, publication date, and award status, enabling a granular analysis of academic impact.",fields:[{name:"title",label:"Title",description:"Original field Title used without modification.",semantic_type:"Name",role:"detail"},{name:"doi",label:"DOI",description:"Original field DOI used without modification.",semantic_type:"Identifier",role:"detail"},{name:"downloads",label:"Downloads",description:"Original field Downloads_Xplore used without modification.",semantic_type:"Numeric",role:"primary"},{name:"citations",label:"Citations",description:"Original field CitationCount_CrossRef used without modification.",semantic_type:"Numeric",role:"primary"},{name:"paper_type",label:"Paper Type",description:"Derived from PaperType: Cleaned and standardized by trimming whitespace and replacing any NULL or empty values with 'Unknown'.",semantic_type:"Category",role:"segment"},{name:"conference",label:"Conference",description:"Original field Conference used without modification.",semantic_type:"Category",role:"detail"},{name:"publication_date",label:"Publication Date",description:'Derived from Year: Converted the integer year to a DATE type using MAKE_DATE("Year", 1, 1).',semantic_type:"DateTime",role:"detail"},{name:"award_status",label:"Award Status",description:"Derived from Award: Categorized as 'Award Winner' if the 'Award' list is not empty, otherwise 'No Award'.",semantic_type:"Category",role:"detail"},{name:"graphics_replicability",label:"Graphics Replicability",description:"Derived from GraphicsReplicabilityStamp: Converted the boolean value into a human-readable text label ('Replicable' or 'Not Replicable').",semantic_type:"Category",role:"detail"},{name:"url",label:"URL",description:"Original field Link used without modification.",semantic_type:"URL",role:"detail"}]},s={config:{view:{continuousWidth:300,continuousHeight:300}},data:{name:"dataset_04"},facet:{column:{field:"paper_type",title:"Paper Type",type:"nominal"}},spec:{mark:{type:"point"},encoding:{tooltip:[{field:"title",title:"Title",type:"nominal"},{field:"doi",title:"DOI",type:"nominal"},{field:"downloads",title:"Downloads",type:"quantitative"},{field:"citations",title:"Citations",type:"quantitative"},{field:"paper_type",title:"Paper Type",type:"nominal"},{field:"conference",title:"Conference",type:"nominal"},{field:"publication_date",title:"Publication Date",type:"temporal"},{field:"award_status",title:"Award Status",type:"nominal"},{field:"graphics_replicability",title:"Graphics Replicability",type:"nominal"},{field:"url",title:"URL",type:"nominal"}],x:{field:"citations",scale:{type:"symlog"},title:"Citations",type:"quantitative"},y:{field:"downloads",scale:{type:"log"},title:"Downloads",type:"quantitative"}}},$schema:"https://vega.github.io/schema/vega-lite/v6.1.0.json"};e(document.querySelectorAll("#subsection-dataset_04 .data-field"),c.fields);const d=document.getElementById("provenance-nb-link-dataset_04");d&&d.setAttribute("href",t(n,c.goal,s));const u="dataset_04",g="https://visxgenai-cdn.peter.gy/sessions/content-bellflower-admire-smoothly/artifacts/datasets.parquet";await i(o,u,g);const p=await a({table:u,spec:s,metadata:c,coordinator:r});l(p.viewClient.node()),l(p.tableClient.node());const m=document.getElementById("loading-skeleton-dataset_04");return m&&m.remove(),{dataset_04_metadata:c,dataset_04_vegalite:s,dataset_04_provenance_nb_link:d,dataset_04_table:u,dataset_04_url:g,dataset_04_clients:p,dataset_04_loading_skeleton:m}},inputs:["registerDataFieldTooltips","constructProvenanceNotebookUrl","provenanceNotebookTemplate","registerDataset","db","datatableWithView","coordinator","display"],outputs:["dataset_04_metadata","dataset_04_vegalite","dataset_04_provenance_nb_link","dataset_04_table","dataset_04_url","dataset_04_clients","dataset_04_loading_skeleton"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});R({root:document.getElementById("cell-28"),expanded:[],variables:[]},{id:28,body:async(e,t,n,i,o,a,r,l)=>{const c={goal:"Identify the top 5 most frequent AuthorKeywords over time, showing how research interests have evolved.",summary:"A time-series analysis showing the annual frequency of the top 5 most common author-provided keywords across all publications. This helps visualize evolving research trends over time.",fields:[{name:"publication_year",label:"Publication Year",description:'Derived from Year: The publication year, converted to a DATE format using MAKE_DATE("Year", 1, 1).',semantic_type:"DateTime",role:"primary"},{name:"keyword",label:"Keyword",description:"Derived from AuthorKeywords: An author-provided keyword, extracted by unnesting the AuthorKeywords list. The output is filtered to only include the top 5 most frequent keywords across the entire dataset, determined in a case-insensitive manner.",semantic_type:"Category",role:"segment"},{name:"frequency",label:"Frequency",description:"Derived from AuthorKeywords: An aggregate count of each of the top 5 keywords, grouped by publication_year and the specific keyword.",semantic_type:"Numeric",role:"primary"}]},s={config:{view:{continuousWidth:300,continuousHeight:300}},data:{name:"dataset_05"},facet:{column:{field:"keyword",title:"Keyword",type:"nominal"}},spec:{mark:{type:"line",point:!0},encoding:{tooltip:[{field:"publication_year",title:"Publication Year",type:"temporal"},{field:"keyword",title:"Keyword",type:"nominal"},{field:"frequency",title:"Frequency",type:"quantitative"}],x:{field:"publication_year",scale:{type:"linear",zero:!0},timeUnit:"year",title:"Publication Year",type:"temporal"},y:{field:"frequency",scale:{type:"linear",zero:!0},title:"Frequency",type:"quantitative"}}},$schema:"https://vega.github.io/schema/vega-lite/v6.1.0.json"};e(document.querySelectorAll("#subsection-dataset_05 .data-field"),c.fields);const d=document.getElementById("provenance-nb-link-dataset_05");d&&d.setAttribute("href",t(n,c.goal,s));const u="dataset_05",g="https://visxgenai-cdn.peter.gy/sessions/content-bellflower-admire-smoothly/artifacts/datasets.parquet";await i(o,u,g);const p=await a({table:u,spec:s,metadata:c,coordinator:r});l(p.viewClient.node()),l(p.tableClient.node());const m=document.getElementById("loading-skeleton-dataset_05");return m&&m.remove(),{dataset_05_metadata:c,dataset_05_vegalite:s,dataset_05_provenance_nb_link:d,dataset_05_table:u,dataset_05_url:g,dataset_05_clients:p,dataset_05_loading_skeleton:m}},inputs:["registerDataFieldTooltips","constructProvenanceNotebookUrl","provenanceNotebookTemplate","registerDataset","db","datatableWithView","coordinator","display"],outputs:["dataset_05_metadata","dataset_05_vegalite","dataset_05_provenance_nb_link","dataset_05_table","dataset_05_url","dataset_05_clients","dataset_05_loading_skeleton"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});R({root:document.getElementById("cell-32"),expanded:[],variables:[]},{id:32,body:async(e,t,n,i,o,a,r,l)=>{const c={goal:"Analyze the relationship between individual publication length (derived from LastPage - FirstPage) and AminerCitationCount, segmented by Award status, to understand if longer papers or award-winning papers receive more citations.",summary:"A dataset of individual research publications showing the relationship between paper length and citation count, segmented by whether the paper received an award. Includes contextual details like publication year, conference, and a direct link for interactive analysis.",fields:[{name:"title",label:"Title",description:"Derived from Title: Direct selection with TRIM() applied",semantic_type:"Name",role:"detail"},{name:"doi",label:"DOI",description:"Original field DOI used without modification",semantic_type:"Identifier",role:"detail"},{name:"publication_length",label:"Length",description:"Derived from LastPage, FirstPage: Calculated as the difference between LastPage and FirstPage.",semantic_type:"Numeric",role:"primary"},{name:"citation_count",label:"Citations",description:"Original field AminerCitationCount used without modification",semantic_type:"Numeric",role:"primary"},{name:"award_status",label:"Award Status",description:"Derived from Award: Categorized as 'Award-Winning' if the Award list contains one or more items, otherwise 'No Award'.",semantic_type:"Category",role:"segment"},{name:"publication_year",label:"Year",description:"Derived from Year: Converted to a DATE type using MAKE_DATE(Year, 1, 1).",semantic_type:"Year",role:"detail"},{name:"conference",label:"Conference",description:"Original field Conference used without modification",semantic_type:"Category",role:"detail"},{name:"paper_type",label:"Paper Type",description:"Original field PaperType used without modification",semantic_type:"Category",role:"detail"},{name:"url",label:"URL",description:"Original field Link used without modification",semantic_type:"URL",role:"detail"}]},s={config:{view:{continuousWidth:300,continuousHeight:300}},data:{name:"dataset_06"},facet:{column:{field:"award_status",title:"Award Status",type:"nominal"}},spec:{mark:{type:"point"},encoding:{tooltip:[{field:"title",title:"Title",type:"nominal"},{field:"doi",title:"DOI",type:"nominal"},{field:"publication_length",title:"Length",type:"quantitative"},{field:"citation_count",title:"Citations",type:"quantitative"},{field:"award_status",title:"Award Status",type:"nominal"},{field:"publication_year",title:"Year",type:"temporal"},{field:"conference",title:"Conference",type:"nominal"},{field:"paper_type",title:"Paper Type",type:"nominal"},{field:"url",title:"URL",type:"nominal"}],x:{field:"publication_length",scale:{type:"symlog"},title:"Length",type:"quantitative"},y:{field:"citation_count",scale:{type:"symlog"},title:"Citations",type:"quantitative"}}},$schema:"https://vega.github.io/schema/vega-lite/v6.1.0.json"};e(document.querySelectorAll("#subsection-dataset_06 .data-field"),c.fields);const d=document.getElementById("provenance-nb-link-dataset_06");d&&d.setAttribute("href",t(n,c.goal,s));const u="dataset_06",g="https://visxgenai-cdn.peter.gy/sessions/content-bellflower-admire-smoothly/artifacts/datasets.parquet";await i(o,u,g);const p=await a({table:u,spec:s,metadata:c,coordinator:r});l(p.viewClient.node()),l(p.tableClient.node());const m=document.getElementById("loading-skeleton-dataset_06");return m&&m.remove(),{dataset_06_metadata:c,dataset_06_vegalite:s,dataset_06_provenance_nb_link:d,dataset_06_table:u,dataset_06_url:g,dataset_06_clients:p,dataset_06_loading_skeleton:m}},inputs:["registerDataFieldTooltips","constructProvenanceNotebookUrl","provenanceNotebookTemplate","registerDataset","db","datatableWithView","coordinator","display"],outputs:["dataset_06_metadata","dataset_06_vegalite","dataset_06_provenance_nb_link","dataset_06_table","dataset_06_url","dataset_06_clients","dataset_06_loading_skeleton"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});R({root:document.getElementById("cell-36"),expanded:[],variables:[]},{id:36,body:async(e,t,n,i,o,a,r,l)=>{const c={goal:"Examine the trend in the average number of PubsCited_CrossRef per publication over time, segmented by Conference, to understand changes in referencing practices.",summary:"A summary of the average number of publications cited per paper, tracked annually and segmented by academic conference, to analyze trends in referencing practices.",fields:[{name:"publication_year",label:"Year",description:'Derived from Year: The publication year converted to a DATE format, set to the first day of the year using MAKE_DATE("Year", 1, 1).',semantic_type:"Year",role:"primary"},{name:"conference",label:"Conference",description:"Original field Conference used without modification.",semantic_type:"Category",role:"segment"},{name:"avg_pubs_cited",label:"Avg Pubs Cited",description:"Derived from PubsCited_CrossRef: The average number of publications cited, calculated per year and conference. NULL values were excluded from the average calculation.",semantic_type:"Numeric",role:"primary"}]},s={config:{view:{continuousWidth:300,continuousHeight:300}},data:{name:"dataset_07"},mark:{type:"line",point:!0},encoding:{color:{field:"conference",title:"Conference",type:"nominal"},tooltip:[{field:"publication_year",title:"Year",type:"temporal"},{field:"conference",title:"Conference",type:"nominal"},{field:"avg_pubs_cited",title:"Avg Pubs Cited",type:"quantitative"}],x:{field:"publication_year",scale:{type:"linear",zero:!0},timeUnit:"year",title:"Year",type:"temporal"},y:{field:"avg_pubs_cited",scale:{type:"linear",zero:!0},title:"Avg Pubs Cited",type:"quantitative"}},$schema:"https://vega.github.io/schema/vega-lite/v6.1.0.json"};e(document.querySelectorAll("#subsection-dataset_07 .data-field"),c.fields);const d=document.getElementById("provenance-nb-link-dataset_07");d&&d.setAttribute("href",t(n,c.goal,s));const u="dataset_07",g="https://visxgenai-cdn.peter.gy/sessions/content-bellflower-admire-smoothly/artifacts/datasets.parquet";await i(o,u,g);const p=await a({table:u,spec:s,metadata:c,coordinator:r});l(p.viewClient.node()),l(p.tableClient.node());const m=document.getElementById("loading-skeleton-dataset_07");return m&&m.remove(),{dataset_07_metadata:c,dataset_07_vegalite:s,dataset_07_provenance_nb_link:d,dataset_07_table:u,dataset_07_url:g,dataset_07_clients:p,dataset_07_loading_skeleton:m}},inputs:["registerDataFieldTooltips","constructProvenanceNotebookUrl","provenanceNotebookTemplate","registerDataset","db","datatableWithView","coordinator","display"],outputs:["dataset_07_metadata","dataset_07_vegalite","dataset_07_provenance_nb_link","dataset_07_table","dataset_07_url","dataset_07_clients","dataset_07_loading_skeleton"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});R({root:document.getElementById("cell-39"),expanded:[],variables:[]},{id:39,body:async(e,t,n,i)=>{const[{datatable:o},a,{default:r},{default:l},{default:c},s,d,{default:u},{default:g}]=await Promise.all([f(()=>import("https://visxgenai-cdn.peter.gy/npm/quak/DataTable.js"),[],import.meta.url).then(I=>{if(!("datatable"in I))throw new SyntaxError("export 'datatable' not found");return I}),f(()=>import("https://cdn.jsdelivr.net/npm/@uwdata/vgplot/+esm"),[],import.meta.url),f(()=>import("https://cdn.jsdelivr.net/npm/anchor-js/+esm"),[],import.meta.url).then(I=>{if(!("default"in I))throw new SyntaxError("export 'default' not found");return I}),f(()=>import("https://cdn.jsdelivr.net/npm/lz-string/+esm"),[],import.meta.url).then(I=>{if(!("default"in I))throw new SyntaxError("export 'default' not found");return I}),f(()=>import("https://cdn.jsdelivr.net/npm/tippy.js/+esm"),[],import.meta.url).then(I=>{if(!("default"in I))throw new SyntaxError("export 'default' not found");return I}),f(()=>import("https://cdn.jsdelivr.net/npm/tocbot/+esm"),[],import.meta.url),f(()=>import("https://cdn.jsdelivr.net/npm/vega/+esm"),[],import.meta.url),f(()=>import("https://cdn.jsdelivr.net/npm/vega-embed/+esm"),[],import.meta.url).then(I=>{if(!("default"in I))throw new SyntaxError("export 'default' not found");return I}),f(()=>import("https://cdn.jsdelivr.net/npm/vega-loader-arrow/+esm"),[],import.meta.url).then(I=>{if(!("default"in I))throw new SyntaxError("export 'default' not found");return I})]),p={info:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWluZm8taWNvbiBsdWNpZGUtaW5mbyI+PGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMTAiLz48cGF0aCBkPSJNMTIgMTZ2LTQiLz48cGF0aCBkPSJNMTIgOGguMDEiLz48L3N2Zz4=",chevronDown:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZG93bi1pY29uIGx1Y2lkZS1jaGV2cm9uLWRvd24iPjxwYXRoIGQ9Im02IDkgNiA2IDYtNiIvPjwvc3ZnPg=="},m=await e.of(),G=new a.Coordinator;G.databaseConnector(a.wasmConnector({duckdb:m._db}));function _(I,C,A){const b=`SELECT UNNEST("${C}", max_depth := 2) FROM '${A}'`;return I.query(`CREATE TABLE IF NOT EXISTS "${C}" AS ${b}`)}d.formats("arrow",g);function K(I,C="#677389",A="gray",b=.125,y="__selected__"){const h=JSON.parse(JSON.stringify(I));let Z,te=!1;if(h.spec&&typeof h.spec=="object")Z=h.spec,te=!0;else if(h.encoding||h.mark||h.layer||h.concat||h.facet||h.repeat)Z=h;else throw new Error("Invalid input: could not find Vega-Lite spec");Z.encoding||(Z.encoding={});function P(j,E,S){if(Z.encoding[j]){const ne=Z.encoding[j];Z.encoding[j]={condition:{test:`datum.${y}`,...ne},value:S}}}return Z.encoding?.color?P("color",null,A):Z.encoding.color={condition:{test:`datum.${y}`,value:C},value:A},Z.encoding?.opacity?P("opacity",null,b):Z.encoding.opacity={condition:{test:`datum.${y}`,value:1},value:b},te?h:Z}const z={theme:"light",animation:"fade",duration:[0,100],maxWidth:500,placement:"top",arrow:!1,offset:[0,8]};function pe(I,C){c(I,{content:C,...z})}function lt(I,C){const A=b=>C.find(y=>y.label===b);for(const b of I){const y=b.getAttribute("data-field")?.trim()||b.textContent.trim(),h=A(y);if(h){const Z=h.description;pe(b,Z)}else console.warn(`Field "${y}" not found in metadata.`),b.classList.remove("data-field")}}class Ve extends a.MosaicClient{#n;#t;#i=t.html`<div style="width: 100%; max-width: 100%; overflow-x: auto; overflow-y: hidden;">`;#e;constructor(C){super(C.filterBy),this.#n=C.table,this.#t=K(C.spec)}async initView(){const C={...this.#t,width:"container",padding:{top:20,bottom:20,left:10,right:10},config:{view:{continuousWidth:250,continuousHeight:250}},autosize:{type:"fit",contains:"padding"}},{view:A}=await u(this.#i,C,{renderer:"canvas",actions:!1,scaleFactor:1});this.#e=A;const b=(this.#t.params||[]).map(y=>y.name);for(const y of b)A.addSignalListener(y,(h,Z)=>this.#o(h,Z))}#o(C,A){}query(C=[]){return a.Query.from(this.#n).select("*",{__selected__:C.length?a.and(C):!0})}queryResult(C){const A=this.#t.data.name;return this.#e.change(A,d.changeset().remove(()=>!0).insert(d.format.arrow(C))).run(),this.#e.resize(),this.#e.run(),window.dispatchEvent(new n("resize")),this}get vegaView(){return this.#e}node(){return this.#i}}async function Be(I,C){const{coordinator:A,table:b,filterBy:y}=C,h=new Ve({spec:I,table:b,filterBy:y});return await h.initView(),A.connect(h),h}async function st(I){const{table:C,metadata:A,spec:b,coordinator:y,tableHeight:h=225}=I,Z=E=>A.fields.filter(S=>S.name===E)[0]?.label||E;function te(E){const S=A.fields.find(ie=>ie.name===E.name),ne=S?.label??E.name,ke=S?.description??"";if(ke){const ie=i`<img
        src="${p.info}"
        alt="info"
        style="width: 14px; height: 14px; margin-left: 4px; cursor: help; margin-bottom: -2px;"
      />`;return pe(ie,ke),i`
        <span>
          <span class="data-field">${ne}</span>
          ${ie}
        </span>
      `}else return i`<span class="data-field">${ne}</span>`}const P=await o(C,{coordinator:y,height:h,getColumnLabel:te,getColumnWidth:E=>Math.max(125,Z(E.name).length*10+24)}),j=await Be(b,{coordinator:y,table:C,filterBy:P.filterBy});return{tableClient:P,viewClient:j}}function Re(I){const{code:C,baseUrl:A="https://marimo.app"}=I,b=new URL(A);if(C){const y=l.compressToEncodedURIComponent(C);b.hash=`#code/${y}`}return b.href}function Xe(I,C){let A=I;for(const[b,y]of Object.entries(C))A=A.replace(new RegExp("\\$"+b,"g"),y);return A}function ct(I,C,A){const y={provenance_json_url:document.getElementById("provenance-json").href,goal:C,vl_spec:JSON.stringify(A)},h=Xe(I,y);return Re({code:h})}function dt(){c("[data-tippy-content]",z);const I=document.getElementById("full-report-link");window&&I?.href===window.location.href&&I.remove();const C=document.querySelector(".js-toc");if(C){const b=document.createElement("div");b.className="js-toc-header";const y=document.createElement("span");y.className="js-toc-title",y.textContent="Contents";const h=document.createElement("img");h.className="js-toc-toggle",h.src=p.chevronDown,h.alt="Toggle table of contents",b.appendChild(y),b.appendChild(h);const Z=document.createElement("div");Z.className="js-toc-content",C.appendChild(b),C.appendChild(Z),b.addEventListener("click",()=>{C.classList.toggle("collapsed")})}const A=new r({icon:"#",placement:"left",visible:"hover",class:"anchor-link",truncate:64});setTimeout(()=>{A.add("h2, h3")},100),setTimeout(()=>{s.init({tocSelector:".js-toc-content",contentSelector:"body main",headingSelector:"h2, h3",hasInnerContainers:!0,scrollSmooth:!0,scrollSmoothDuration:420,throttleTimeout:50,positionFixedSelector:".js-toc",fixedSidebarOffset:"auto",headingsOffset:80,includeHtml:!0,orderedList:!1})},150)}return{datatable:o,vgplot:a,AnchorJS:r,lzString:l,tippy:c,tocbot:s,vega:d,vegaEmbed:u,arrow:g,Icons:p,db:m,coordinator:G,registerDataset:_,specWithSelectionConditioning:K,TIPPY_CONFIG_DEFAULT:z,registerTooltipOnFieldSpan:pe,registerDataFieldTooltips:lt,VegaView:Ve,vegaview:Be,datatableWithView:st,createMarimoWASMLink:Re,renderProvenanceNotebookTemplate:Xe,constructProvenanceNotebookUrl:ct,initializeReportUI:dt}},inputs:["DuckDBClient","htl","Event","html"],outputs:["datatable","vgplot","AnchorJS","lzString","tippy","tocbot","vega","vegaEmbed","arrow","Icons","db","coordinator","registerDataset","specWithSelectionConditioning","TIPPY_CONFIG_DEFAULT","registerTooltipOnFieldSpan","registerDataFieldTooltips","VegaView","vegaview","datatableWithView","createMarimoWASMLink","renderProvenanceNotebookTemplate","constructProvenanceNotebookUrl","initializeReportUI"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});R({root:document.getElementById("cell-40"),expanded:[],variables:[]},{id:40,body:()=>{const e="IiIiClRoaXMgaXMgYSBNYXJpbW8gbm90ZWJvb2sgdGVtcGxhdGUgcmVxdWlyaW5nIHRoZSBmb2xsb3dpbmcgdGVtcGxhdGUgdmFyaWFibGVzIGFzIGlucHV0OgoKLSBwcm92ZW5hbmNlX2pzb25fdXJsOiBzdHIKLSBnb2FsOiBzdHIKLSB2bF9zcGVjOiBzdHIKIiIiCgppbXBvcnQgbWFyaW1vCgpfX2dlbmVyYXRlZF93aXRoID0gIjAuMTQuMTcuZGV2MTMiCmFwcCA9IG1hcmltby5BcHAod2lkdGg9ImNvbHVtbnMiKQoKCkBhcHAuY2VsbChjb2x1bW49MCwgaGlkZV9jb2RlPVRydWUpCmRlZiBfKGZsb3djaGFydCwgbW8pOgogICAgbW8ubWQoCiAgICAgICAgcmYiIiIKICAgICMgNS4gVmlzdWFsaXphdGlvbgoKICAgIHtmbG93Y2hhcnQoc2VsZWN0ZWQ9NSl9CgogICAgVGhlIHN5c3RlbSBwaWNrZWQgdGhlIGtleSBmaWVsZHMgZnJvbSB0aGUgW2Rlcml2ZWQgZGF0YV0oI2RhdGFzZXQtZGVyaXZhdGlvbikgYW5kIHVzZWQgW0RyYWNvXShodHRwczovL2dpdGh1Yi5jb20vY211ZGlnL2RyYWNvMikgdG8gY3JlYXRlIHRoaXMgY2hhcnQuCiAgICAiIiIKICAgICkKICAgIHJldHVybgoKCkBhcHAuY2VsbChoaWRlX2NvZGU9VHJ1ZSkKZGVmIF8oYWx0LCBkZXJpdmVkX2RmLCBwbCwgdmxfc3BlYyk6CiAgICBjaGFydCA9IGFsdC5DaGFydC5mcm9tX2pzb24odmxfc3BlYykucHJvcGVydGllcyhkYXRhPXBsLmZyb21fYXJyb3coZGVyaXZlZF9kZikpCiAgICBjaGFydAogICAgcmV0dXJuCgoKQGFwcC5jZWxsKGhpZGVfY29kZT1UcnVlKQpkZWYgXyhtbyk6CiAgICBtby5tZCgKICAgICAgICByIiIiCiAgICAjIEZyb20gU291cmNlIERhdGEgdG8gRmluYWwgQ2hhcnQKCiAgICBUaGlzIG5vdGVib29rIHNob3dzIGhvdyBjb29yZGluYXRlZCBBSSBhZ2VudHMgdHVybmVkIGlucHV0IGRhdGEgaW50byB0aGUgdmlzdWFsaXphdGlvbiB5b3Ugc2VlIGluIHRoZSByZXBvcnQuIFdlJ2xsIHdhbGsgdGhyb3VnaCBlYWNoIHN0ZXAsIHN0YXJ0aW5nIHdpdGggdGhlIGZpbmFsIGNoYXJ0IGFuZCB3b3JraW5nIGJhY2t3YXJkcyB0byBzZWUgaG93IGl0IHdhcyBidWlsdC4gU3RhcnQgc2Nyb2xsaW5nIHRvIHRoZSByaWdodCBvciB1c2UgdGhlIGxpbmtzIGJlbG93IHRvIGp1bXAgdG8gYW55IHNlY3Rpb24uCgogICAgLSBbMS4gT3JpZ2luYWwgRGF0YXNldF0oIzEtb3JpZ2luYWwtZGF0YXNldCk6IFRoZSBkYXRhIHdlIHN0YXJ0ZWQgd2l0aAogICAgLSBbMi4gRGF0YXNldCBSZWZpbmVtZW50XSgjMi1kYXRhc2V0LXJlZmluZW1lbnQpOiBDbGVhbi11cCBhbmQgZm9ybWF0dGluZyBpbXByb3ZlbWVudHMKICAgIC0gWzMuIEZpZWxkIFJlbWFwcGluZ10oIzMtZmllbGQtcmVtYXBwaW5nKTogTWFraW5nIGNyeXB0aWMgY29kZXMgcmVhZGFibGUKICAgIC0gWzQuIERhdGFzZXQgRGVyaXZhdGlvbl0oIzQtZGF0YXNldC1kZXJpdmF0aW9uKTogVGhlIFtEdWNrREJdKGh0dHA6Ly9kdWNrZGIub3JnKSBxdWVyeSB0aGF0IGZpbHRlcmVkIGFuZCBzaGFwZWQgdGhlIGRhdGEKICAgIC0gWzUuIFZpc3VhbGl6YXRpb25dKCM1LXZpc3VhbGl6YXRpb24pOiBUaGUgY2hhcnQgY3JlYXRlZCBieSBbRHJhY29dKGh0dHBzOi8vZ2l0aHViLmNvbS9jbXVkaWcvZHJhY28yKQogICAgIiIiCiAgICApCiAgICByZXR1cm4KCgpAYXBwLmNlbGwoY29sdW1uPTEsIGhpZGVfY29kZT1UcnVlKQpkZWYgXyhmbG93Y2hhcnQsIG1vKToKICAgIG1vLm1kKHJmIiIiCiAgICAjIDQuIERhdGFzZXQgRGVyaXZhdGlvbgoKICAgIHtmbG93Y2hhcnQoc2VsZWN0ZWQ9NCl9CiAgICAiIiIpCiAgICByZXR1cm4KCgpAYXBwLmNlbGwoaGlkZV9jb2RlPVRydWUpCmRlZiBfKGdvYWwsIG1vLCBzcWwpOgogICAgbW8ubWQocmYiIiIKICAgIEFmdGVyIHRoZSBzeXN0ZW0gYW5hbHl6ZWQgdGhlIHN0YXRpc3RpY2FsIHByb2ZpbGUgb2YgdGhlIGRhdGFzZXQgYW5kIGl0cyBzZW1hbnRpY3MsIGFuIEFJIGFnZW50IGNvbmNsdWRlZCB0aGF0IGl0IHdvdWxkIGJlIGludGVyZXN0aW5nIHRvIHB1cnN1ZSB0aGUgZm9sbG93aW5nIGFuYWx5dGljYWwgZ29hbDoKCiAgICA+IHtnb2FsfQoKICAgIFRvIHNhdGlzZnkgdGhpcyBnb2FsLCB0aGUgc3lzdGVtIHdyb3RlIHRoaXMgU1FMIHF1ZXJ5OgoKICAgIGBgYHNxbAogICAge3NxbH0KICAgIGBgYAoKICAgIFRoaXMgcXVlcnkgZ290IGV4ZWN1dGVkIGFnYWluc3QgYHJlbWFwcGVkX2RmYCwgd2hpY2ggd2FzIGJ1aWx0IGJ5OgoKICAgIDEuIFN0YXJ0aW5nIHdpdGggdGhlIFtvcmlnaW5hbCBkYXRhXSgjb3JpZ2luYWwtZGF0YXNldCkKICAgIDIuIEFwcGx5aW5nIFtkYXRhIGNsZWFuLXVwXSgjZGF0YXNldC1yZWZpbmVtZW50KQogICAgMy4gTWFraW5nIFtjcnlwdGljIGNvZGVzIHJlYWRhYmxlXSgjZmllbGQtcmVtYXBwaW5nKQogICAgIiIiKQogICAgcmV0dXJuCgoKQGFwcC5jZWxsKGhpZGVfY29kZT1UcnVlKQpkZWYgXyhkdWNrZGIsIHJlbWFwcGVkX2RmLCBzcWwpOgogICAgcmVtYXBwZWRfZGYgICMgVGhpcyBlbnN1cmVzIHRoYXQgYnkgdGhlIHRpbWUgTWFyaW1vJ3MgZGF0YWZsb3cgZ3JhcGggcmVhY2hlcyB0aGlzIG5vZGUsIGByZW1hcHBlZF9kZmAgaXMgYXZhaWxhYmxlCiAgICBkZXJpdmVkX2RmID0gZHVja2RiLnF1ZXJ5KHNxbCkuYXJyb3coKQogICAgZGVyaXZlZF9kZgogICAgcmV0dXJuIChkZXJpdmVkX2RmLCkKCgpAYXBwLmNlbGwoaGlkZV9jb2RlPVRydWUpCmRlZiBfKElOUFVUUywgZ29hbCwgc3RyaW5nKToKICAgIHNxbCA9IHN0cmluZy5UZW1wbGF0ZShJTlBVVFNbImdvYWxzIl1bZ29hbF1bInNxbCJdKS5zdWJzdGl0dXRlKAogICAgICAgIHRhYmxlbmFtZT0icmVtYXBwZWRfZGYiCiAgICApCiAgICByZXR1cm4gKHNxbCwpCgoKQGFwcC5jZWxsKGNvbHVtbj0yLCBoaWRlX2NvZGU9VHJ1ZSkKZGVmIF8oZmxvd2NoYXJ0LCBtbyk6CiAgICBtby5tZChyZiIiIgogICAgIyAzLiBGaWVsZCBSZW1hcHBpbmcKCiAgICB7Zmxvd2NoYXJ0KHNlbGVjdGVkPTMpfQogICAgIiIiKQogICAgcmV0dXJuCgoKQGFwcC5jZWxsKGhpZGVfY29kZT1UcnVlKQpkZWYgXyhleHBhbmRlZF9maWVsZHMsIGZpZWxkX2V4cGFuc2lvbnMsIGZpZWxkX2V4cGFuc2lvbnNfdG9fbWQsIG1vKToKICAgIG1vLm1kKAogICAgICAgIHJmIiIiCiAgICBUaGUgc3lzdGVtIGxvb2tlZCBhdCBzYW1wbGUgdmFsdWVzIGFuZCBkZWNpZGVkIHRoYXQgZmllbGRzIHsiLCAiLmpvaW4oW2YiYHtmaWVsZH1gIiBmb3IgZmllbGQgaW4gZXhwYW5kZWRfZmllbGRzXSl9IG5lZWRlZCB0byBiZSBtYWRlIG1vcmUgcmVhZGFibGUuCgogICAgSGVyZSBhcmUgdGhlIG1hcHBpbmdzIHRoYXQgd2VyZSBhcHBsaWVkIHRvIHRoZSBbY2xlYW5lZCBkYXRhXSgjZGF0YXNldC1yZWZpbmVtZW50KToKCiAgICB7ZmllbGRfZXhwYW5zaW9uc190b19tZChmaWVsZF9leHBhbnNpb25zKX0KCiAgICBUaGlzIGdhdmUgdXMgYSBkYXRhc2V0IHdoZXJlIGNyeXB0aWMgY29kZXMgYXJlIHJlcGxhY2VkIHdpdGggY2xlYXIsIGh1bWFuLXJlYWRhYmxlIGxhYmVscy4KICAgICIiIgogICAgKQogICAgcmV0dXJuCgoKQGFwcC5jZWxsKGhpZGVfY29kZT1UcnVlKQpkZWYgXyhhcHBseV9maWVsZF9leHBhbnNpb25zX3RvX2RmLCBmaWVsZF9leHBhbnNpb25zLCByZWZpbmVkX2RmKToKICAgIHJlbWFwcGVkX2RmID0gYXBwbHlfZmllbGRfZXhwYW5zaW9uc190b19kZihyZWZpbmVkX2RmLCBmaWVsZF9leHBhbnNpb25zKQogICAgcmVtYXBwZWRfZGYKICAgIHJldHVybiAocmVtYXBwZWRfZGYsKQoKCkBhcHAuY2VsbChoaWRlX2NvZGU9VHJ1ZSkKZGVmIF8oSU5QVVRTKToKICAgICMgTWFwcGluZ3MgZ2VuZXJhdGVkIGZvciBmaWVsZHMgIHdoZXJlIGBpc19jcnlwdGljX2NvZGVgIHdhcyBzZXQgdG8gVHJ1ZSBieSBhbiB1cHN0cmVhbSBhZ2VudCByZWZpbmluZyBmaWVsZHMKICAgIGZpZWxkX2V4cGFuc2lvbnMgPSBJTlBVVFNbImZpZWxkX2V4cGFuc2lvbnMiXQogICAgcmV0dXJuIChmaWVsZF9leHBhbnNpb25zLCkKCgpAYXBwLmNlbGwoaGlkZV9jb2RlPVRydWUpCmRlZiBfKFR5cGVkRGljdCwgcGEsIHBsKToKICAgIGNsYXNzIEV4cGFuZGVkRmllbGQoVHlwZWREaWN0KToKICAgICAgICBmaWVsZDogc3RyCiAgICAgICAgbWFwcGluZzogZGljdFtzdHIsIHN0cl0KCiAgICBkZWYgcmVtYXBfbGlzdF92YWx1ZXMoCiAgICAgICAgZmllbGQ6IHBsLlNlcmllcywKICAgICAgICBtYXBwaW5nOiBkaWN0W3N0ciwgc3RyXSwKICAgICkgLT4gcGwuU2VyaWVzOgogICAgICAgIGZpZWxkbmFtZSA9IGZpZWxkLm5hbWUKICAgICAgICByZXR1cm4gKAogICAgICAgICAgICBmaWVsZC50b19mcmFtZSgpCiAgICAgICAgICAgIC53aXRoX3Jvd19pbmRleCgpCiAgICAgICAgICAgIC5leHBsb2RlKGZpZWxkbmFtZSkKICAgICAgICAgICAgLndpdGhfY29sdW1ucygKICAgICAgICAgICAgICAgIHBsLmNvbChmaWVsZG5hbWUpLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgb2xkPWxpc3QobWFwcGluZy5rZXlzKCkpLAogICAgICAgICAgICAgICAgICAgIG5ldz1saXN0KG1hcHBpbmcudmFsdWVzKCkpLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCiAgICAgICAgICAgIC5ncm91cF9ieSgiaW5kZXgiKQogICAgICAgICAgICAuYWdnKGZpZWxkbmFtZSkKICAgICAgICAgICAgLnNlbGVjdChwbC5jb2woZmllbGRuYW1lKS5saXN0LmRyb3BfbnVsbHMoKSlbZmllbGRuYW1lXQogICAgICAgICkKCiAgICBkZWYgcmVtYXBfc2NhbGFyX3ZhbHVlcygKICAgICAgICBmaWVsZDogcGwuU2VyaWVzLAogICAgICAgIG1hcHBpbmc6IGRpY3Rbc3RyLCBzdHJdLAogICAgKSAtPiBwbC5TZXJpZXM6CiAgICAgICAgcmV0dXJuIGZpZWxkLnJlcGxhY2UoCiAgICAgICAgICAgIG9sZD1saXN0KG1hcHBpbmcua2V5cygpKSwKICAgICAgICAgICAgbmV3PWxpc3QobWFwcGluZy52YWx1ZXMoKSksCiAgICAgICAgKQoKICAgIGRlZiBfYXBwbHlfZmllbGRfZXhwYW5zaW9uc190b19kZigKICAgICAgICBkZjogcGwuRGF0YUZyYW1lLAogICAgICAgIGZpZWxkX2V4cGFuc2lvbnM6IGxpc3RbRXhwYW5kZWRGaWVsZF0sCiAgICApIC0+IHBsLkRhdGFGcmFtZToKICAgICAgICBmaW5hbF9kZiA9IGRmCiAgICAgICAgZm9yIGV4cGFuc2lvbiBpbiBmaWVsZF9leHBhbnNpb25zOgogICAgICAgICAgICBmaWVsZG5hbWUgPSBleHBhbnNpb25bImZpZWxkIl0KICAgICAgICAgICAgbWFwcGluZyA9IGV4cGFuc2lvblsibWFwcGluZyJdCiAgICAgICAgICAgIGZpZWxkID0gZGZbZmllbGRuYW1lXQogICAgICAgICAgICBpZiBmaWVsZC5kdHlwZS5iYXNlX3R5cGUoKSBpcyBwbC5MaXN0OgogICAgICAgICAgICAgICAgcmVtYXBwZWRfZmllbGQgPSByZW1hcF9saXN0X3ZhbHVlcyhmaWVsZCwgbWFwcGluZykKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJlbWFwcGVkX2ZpZWxkID0gcmVtYXBfc2NhbGFyX3ZhbHVlcyhmaWVsZCwgbWFwcGluZykKCiAgICAgICAgICAgIGZpbmFsX2RmID0gZmluYWxfZGYud2l0aF9jb2x1bW5zKHJlbWFwcGVkX2ZpZWxkKQoKICAgICAgICByZXR1cm4gZmluYWxfZGYKCiAgICBkZWYgYXBwbHlfZmllbGRfZXhwYW5zaW9uc190b19kZigKICAgICAgICBkZjogcGEuVGFibGUsCiAgICAgICAgZmllbGRfZXhwYW5zaW9uczogbGlzdFtFeHBhbmRlZEZpZWxkXSwKICAgICkgLT4gcGEuVGFibGU6CiAgICAgICAgZGYgPSBfYXBwbHlfZmllbGRfZXhwYW5zaW9uc190b19kZihwbC5mcm9tX2Fycm93KGRmKSwgZmllbGRfZXhwYW5zaW9ucykKICAgICAgICByZXR1cm4gcGEuVGFibGUuZnJvbV9weWxpc3QoZGYudG9fZGljdHMoKSkKCiAgICByZXR1cm4gKGFwcGx5X2ZpZWxkX2V4cGFuc2lvbnNfdG9fZGYsKQoKCkBhcHAuY2VsbChoaWRlX2NvZGU9VHJ1ZSkKZGVmIF8oZmllbGRfZXhwYW5zaW9ucyk6CiAgICBleHBhbmRlZF9maWVsZHMgPSBbaXRlbVsiZmllbGQiXSBmb3IgaXRlbSBpbiBmaWVsZF9leHBhbnNpb25zXQoKICAgIGRlZiBmaWVsZF9leHBhbnNpb25fdG9fbWQoZmllbGQ6IHN0ciwgbWFwcGluZzogZGljdFtzdHIsIHN0cl0pIC0+IHN0cjoKICAgICAgICBsaW5lcyA9IFsKICAgICAgICAgICAgZiIqKntmaWVsZH0qKiIsCiAgICAgICAgICAgICpbZiItIHtrZXl9OiB7dmFsdWV9IiBmb3Iga2V5LCB2YWx1ZSBpbiBtYXBwaW5nLml0ZW1zKCldLAogICAgICAgIF0KCiAgICAgICAgcmV0dXJuICJcblxuIi5qb2luKGxpbmVzKQoKICAgIGRlZiBmaWVsZF9leHBhbnNpb25zX3RvX21kKGZpZWxkX2V4cGFuc2lvbnM6IGxpc3QpOgogICAgICAgIHJldHVybiAiXG5cbiIuam9pbigKICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgZmllbGRfZXhwYW5zaW9uX3RvX21kKGl0ZW1bImZpZWxkIl0sIGl0ZW1bIm1hcHBpbmciXSkKICAgICAgICAgICAgICAgIGZvciBpdGVtIGluIGZpZWxkX2V4cGFuc2lvbnMKICAgICAgICAgICAgXQogICAgICAgICkKCiAgICByZXR1cm4gZXhwYW5kZWRfZmllbGRzLCBmaWVsZF9leHBhbnNpb25zX3RvX21kCgoKQGFwcC5jZWxsKGNvbHVtbj0zLCBoaWRlX2NvZGU9VHJ1ZSkKZGVmIF8oZmxvd2NoYXJ0LCBtbyk6CiAgICBtby5tZCgKICAgICAgICByZiIiIgogICAgIyAyLiBEYXRhc2V0IFJlZmluZW1lbnQKCiAgICB7Zmxvd2NoYXJ0KHNlbGVjdGVkPTIpfQoKICAgIFRoZSBzeXN0ZW0gbG9va2VkIGF0IHNhbXBsZSBkYXRhIGZyb20gZWFjaCBmaWVsZCBhbmQgbWFkZSB0aGVzZSBpbXByb3ZlbWVudHMgdG8gZml4IGZvcm1hdHRpbmcgaXNzdWVzIGFuZCBtYXRjaCBob3cgdGhlIGRhdGEgc2hvdWxkIHJlYWxseSBiZSB1c2VkLgogICAgIiIiCiAgICApCiAgICByZXR1cm4KCgpAYXBwLmNlbGwoaGlkZV9jb2RlPVRydWUpCmRlZiBfKGZpZWxkX3JlZmluZW1lbnRzLCBwYSwgcGQpOgogICAgcGEuVGFibGUuZnJvbV9wYW5kYXMocGQuRGF0YUZyYW1lKGZpZWxkX3JlZmluZW1lbnRzKS5kcm9wKCJfX21ldGFkYXRhX18iLCBheGlzPTEpKQogICAgcmV0dXJuCgoKQGFwcC5jZWxsKGhpZGVfY29kZT1UcnVlKQpkZWYgXyhtbyk6CiAgICBtby5tZCgKICAgICAgICByIiIiQWZ0ZXIgYXBwbHlpbmcgdGhlc2UgY2hhbmdlcywgd2UgZ2V0IHRoZSBjbGVhbmVkIGRhdGFzZXQgYmVsb3csIHdoaWNoIGNvbWVzIGRpcmVjdGx5IGZyb20gdGhlIFtvcmlnaW5hbCBkYXRhXSgjb3JpZ2luYWwtZGF0YXNldCkuIiIiCiAgICApCiAgICByZXR1cm4KCgpAYXBwLmNlbGwoaGlkZV9jb2RlPVRydWUpCmRlZiBfKGFwcGx5X2ZpZWxkX3JlZmluZW1lbnRzX3RvX2RmLCBkZiwgZmllbGRfcmVmaW5lbWVudHMpOgogICAgcmVmaW5lZF9kZiA9IGFwcGx5X2ZpZWxkX3JlZmluZW1lbnRzX3RvX2RmKGRmLCBmaWVsZF9yZWZpbmVtZW50cykKICAgIHJlZmluZWRfZGYKICAgIHJldHVybiAocmVmaW5lZF9kZiwpCgoKQGFwcC5jZWxsKGhpZGVfY29kZT1UcnVlKQpkZWYgXyhDYWxsYWJsZSwgSXRlcmFibGUsIE9wdGlvbmFsLCBUeXBlZERpY3QsIHBhLCBwbCk6CiAgICBTZW1hbnRpY1R5cGUgPSBzdHIKICAgIFNlbWFudGljU2NoZW1hID0gZGljdFtzdHIsIFNlbWFudGljVHlwZV0KCiAgICBjbGFzcyBGaWVsZFJlZmluZW1lbnQoVHlwZWREaWN0KToKICAgICAgICBmaWVsZDogc3RyCiAgICAgICAgc2VtYW50aWNfdHlwZTogc3RyCiAgICAgICAgc2VwYXJhdG9yOiBPcHRpb25hbFtzdHJdCiAgICAgICAgZGF0ZV9mb3JtYXQ6IE9wdGlvbmFsW3N0cl0KICAgICAgICBpc19jcnlwdGljX2NvZGU6IE9wdGlvbmFsW2Jvb2xdCiAgICAgICAgYm9vbGVhbl90cnV0aHlfdmFsdWU6IE9wdGlvbmFsW3N0ciB8IGludCB8IGZsb2F0XQoKICAgIGNsYXNzIFNlbWFudGljVHlwZWRFeHByKFR5cGVkRGljdCk6CiAgICAgICAgZXhwcjogcGwuRXhwcgogICAgICAgIHR5cGU6IFNlbWFudGljVHlwZQoKICAgIEZpZWxkUmVmaW5lbWVudEhhbmRsZXIgPSBDYWxsYWJsZVsKICAgICAgICBbcGwuU2VyaWVzLCBGaWVsZFJlZmluZW1lbnRdLAogICAgICAgIEl0ZXJhYmxlW1NlbWFudGljVHlwZWRFeHByXSwKICAgIF0KCiAgICBkZWYgX2hhbmRsZV9zZXBhcmF0b3IoCiAgICAgICAgXzogcGwuU2VyaWVzLCByZWZpbmVtZW50OiBGaWVsZFJlZmluZW1lbnQKICAgICkgLT4gbGlzdFtTZW1hbnRpY1R5cGVkRXhwcl06CiAgICAgICAgaWYgcmVmaW5lbWVudFsic2VwYXJhdG9yIl0gaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIFtdCgogICAgICAgIGZpZWxkbmFtZSA9IHJlZmluZW1lbnRbImZpZWxkIl0KICAgICAgICBzZXBhcmF0b3IgPSByZWZpbmVtZW50WyJzZXBhcmF0b3IiXQogICAgICAgICMgQWNjb3VudCBmb3IgdW5zb2xpY2l0ZWQgY29tbWVudHMgaW4gdGhlIG91dHB1dCBieSBzcGxpdHRpbmcgb24gd2hpdGVzcGFjZSBhbmQgdGFraW5nIHRoZSBhY3R1YWwgc2VwYXJhdG9yCiAgICAgICAgc2VwID0gc2VwYXJhdG9yLnNwbGl0KCIgIilbMF0KICAgICAgICBsaXN0X2V4cHIgPSAoCiAgICAgICAgICAgIHBsLmNvbChmaWVsZG5hbWUpCiAgICAgICAgICAgIC5zdHIuc3BsaXQoc2VwKQogICAgICAgICAgICAuZmlsbF9udWxsKFtdKQogICAgICAgICAgICAubGlzdC5ldmFsKHBsLmVsZW1lbnQoKS5zdHIuc3RyaXBfY2hhcnMoIiAiKSkKICAgICAgICAgICAgIyAubGlzdC5maWx0ZXIocGwuZWxlbWVudCgpLnN0ci5sZW5fY2hhcnMoKSA+IDApCiAgICAgICAgKQoKICAgICAgICAjIElmIGNhdGVnb3J5LCB0aGVuIGFsc28gbm9ybWFsaXplIGNhc2luZyBvZiB0aGUgaXRlbXMKICAgICAgICBpZiByZWZpbmVtZW50WyJzZW1hbnRpY190eXBlIl0gPT0gIkNhdGVnb3J5IjoKICAgICAgICAgICAgbGlzdF9leHByID0gbGlzdF9leHByLmxpc3QuZXZhbChwbC5lbGVtZW50KCkuc3RyLnRvX2xvd2VyY2FzZSgpKQoKICAgICAgICByZXR1cm4gWwogICAgICAgICAgICB7ImV4cHIiOiBsaXN0X2V4cHIsICJ0eXBlIjogcmVmaW5lbWVudFsic2VtYW50aWNfdHlwZSJdfSwKICAgICAgICBdCgogICAgZGVmIF9oYW5kbGVfZGF0ZV9mb3JtYXQoCiAgICAgICAgc2VyaWVzOiBwbC5TZXJpZXMsIHJlZmluZW1lbnQ6IEZpZWxkUmVmaW5lbWVudAogICAgKSAtPiBsaXN0W1NlbWFudGljVHlwZWRFeHByXToKICAgICAgICBpZiByZWZpbmVtZW50WyJkYXRlX2Zvcm1hdCJdIGlzIE5vbmUgb3Igc2VyaWVzLmR0eXBlLmlzX3RlbXBvcmFsKCk6CiAgICAgICAgICAgIHJldHVybiBbXQoKICAgICAgICBmaWVsZG5hbWUgPSByZWZpbmVtZW50WyJmaWVsZCJdCiAgICAgICAgZGF0ZV9mb3JtYXQgPSByZWZpbmVtZW50WyJkYXRlX2Zvcm1hdCJdCiAgICAgICAgIyBpZiBhbnkgb2YgdGhlc2UgYXJlIHByZXNlbnQgaW4gYGRhdGVfZm9ybWF0YCB0aGVuIHdlIGhhdmUgYSBkYXRldGltZQogICAgICAgIGRhdGV0aW1lX3RlbXBsYXRlX2NoYXJzID0geyIlSCIsICIlTSIsICIlUyJ9CiAgICAgICAgaXNfZGF0ZXRpbWUgPSBhbnkoKGNoIGluIGRhdGVfZm9ybWF0IGZvciBjaCBpbiBkYXRldGltZV90ZW1wbGF0ZV9jaGFycykpCiAgICAgICAgaWYgaXNfZGF0ZXRpbWU6CiAgICAgICAgICAgIGV4cHIgPSBwbC5jb2woZmllbGRuYW1lKS5jYXN0KHBsLlN0cmluZykuc3RyLnRvX2RhdGV0aW1lKGRhdGVfZm9ybWF0KQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGV4cHIgPSBwbC5jb2woZmllbGRuYW1lKS5jYXN0KHBsLlN0cmluZykuc3RyLnRvX2RhdGUoZGF0ZV9mb3JtYXQpCgogICAgICAgIHJldHVybiBbeyJleHByIjogZXhwciwgInR5cGUiOiByZWZpbmVtZW50WyJzZW1hbnRpY190eXBlIl19XQoKICAgIGRlZiBfaGFuZGxlX2Jvb2xlYW4oCiAgICAgICAgc2VyaWVzOiBwbC5TZXJpZXMsIHJlZmluZW1lbnQ6IEZpZWxkUmVmaW5lbWVudAogICAgKSAtPiBsaXN0W1NlbWFudGljVHlwZWRFeHByXToKICAgICAgICBpZiByZWZpbmVtZW50WyJib29sZWFuX3RydXRoeV92YWx1ZSJdIGlzIE5vbmUgb3Igc2VyaWVzLmR0eXBlID09IHBsLkJvb2xlYW46CiAgICAgICAgICAgIHJldHVybiBbXQogICAgICAgIGZpZWxkbmFtZSA9IHJlZmluZW1lbnRbImZpZWxkIl0KICAgICAgICBib29sZWFuX3RydXRoeV92YWx1ZSA9IHJlZmluZW1lbnRbImJvb2xlYW5fdHJ1dGh5X3ZhbHVlIl0KICAgICAgICBleHByID0gKAogICAgICAgICAgICBwbC5jb2woZmllbGRuYW1lKQogICAgICAgICAgICAuY2FzdChwbC5TdHJpbmcpCiAgICAgICAgICAgIC5lcShwbC5saXQoc3RyKGJvb2xlYW5fdHJ1dGh5X3ZhbHVlKSkpCiAgICAgICAgICAgIC5maWxsX251bGwoRmFsc2UpCiAgICAgICAgKQogICAgICAgIHJldHVybiBbeyJleHByIjogZXhwciwgInR5cGUiOiByZWZpbmVtZW50WyJzZW1hbnRpY190eXBlIl19XQoKICAgIGRlZiBfYXBwbHlfZmllbGRfcmVmaW5lbWVudHNfdG9fZGYoCiAgICAgICAgZGY6IHBsLkRhdGFGcmFtZSwKICAgICAgICByZWZpbmVtZW50czogbGlzdFtGaWVsZFJlZmluZW1lbnRdLAogICAgKSAtPiB0dXBsZVtwbC5EYXRhRnJhbWUsIFNlbWFudGljU2NoZW1hXToKICAgICAgICByZWZpbmVtZW50X2hhbmRsZXJzID0gWwogICAgICAgICAgICBfaGFuZGxlX3NlcGFyYXRvciwKICAgICAgICAgICAgX2hhbmRsZV9kYXRlX2Zvcm1hdCwKICAgICAgICAgICAgX2hhbmRsZV9ib29sZWFuLAogICAgICAgIF0KCiAgICAgICAgIyBHZW5lcmFsLCB1bmNvbmRpdGlvbmFsIHJlZmluZW1lbnQgZXhwcmVzc2lvbnMgdG8gYXBwbHkgY29tbW9uIG5vcm1hbGl6YXRpb25zCiAgICAgICAgc3RyaXBfc3BhY2VzX3NjYWxhciA9IHBsLmNvbChwbC5TdHJpbmcpLnN0ci5zdHJpcF9jaGFycygiICIpCiAgICAgICAgc3RyaXBfc3BhY2VzX2xpc3QgPSBwbC5jb2wocGwuTGlzdChwbC5TdHJpbmcpKS5saXN0LmV2YWwoCiAgICAgICAgICAgIHBsLmVsZW1lbnQoKS5zdHIuc3RyaXBfY2hhcnMoIiAiKQogICAgICAgICkKICAgICAgICBnZW5lcmFsX3JlZmluZW1lbnRfZXhwcnM6IGxpc3RbcGwuRXhwcl0gPSBbCiAgICAgICAgICAgIHN0cmlwX3NwYWNlc19zY2FsYXIsCiAgICAgICAgICAgIHN0cmlwX3NwYWNlc19saXN0LAogICAgICAgIF0KICAgICAgICByZWZpbmVkX2RmID0gZGYud2l0aF9jb2x1bW5zKCpnZW5lcmFsX3JlZmluZW1lbnRfZXhwcnMpCiAgICAgICAgc2VtYW50aWNfc2NoZW1hOiBTZW1hbnRpY1NjaGVtYSA9IHt9CgogICAgICAgIGZvciByZWZpbmVtZW50IGluIHJlZmluZW1lbnRzOgogICAgICAgICAgICBmb3IgaGFuZGxlciBpbiByZWZpbmVtZW50X2hhbmRsZXJzOgogICAgICAgICAgICAgICAgc2VyaWVzID0gZGYuZ2V0X2NvbHVtbihyZWZpbmVtZW50WyJmaWVsZCJdKQogICAgICAgICAgICAgICAgcmVmaW5lcl9leHByZXNzaW9ucyA9IGhhbmRsZXIoc2VyaWVzLCByZWZpbmVtZW50KQogICAgICAgICAgICAgICAgZXhwcnMgPSBbCiAgICAgICAgICAgICAgICAgICAgZXhwcl93aXRoX3NlbWFudGljX3R5cGVbImV4cHIiXQogICAgICAgICAgICAgICAgICAgIGZvciBleHByX3dpdGhfc2VtYW50aWNfdHlwZSBpbiByZWZpbmVyX2V4cHJlc3Npb25zCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICBzdWJzY2hlbWEgPSB7cmVmaW5lbWVudFsiZmllbGQiXTogcmVmaW5lbWVudFsic2VtYW50aWNfdHlwZSJdfSB8IHsKICAgICAgICAgICAgICAgICAgICBleHByX3dpdGhfc2VtYW50aWNfdHlwZVsKICAgICAgICAgICAgICAgICAgICAgICAgImV4cHIiCiAgICAgICAgICAgICAgICAgICAgXS5tZXRhLm91dHB1dF9uYW1lKCk6IGV4cHJfd2l0aF9zZW1hbnRpY190eXBlWyJ0eXBlIl0KICAgICAgICAgICAgICAgICAgICBmb3IgZXhwcl93aXRoX3NlbWFudGljX3R5cGUgaW4gcmVmaW5lcl9leHByZXNzaW9ucwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmVmaW5lZF9kZiA9IHJlZmluZWRfZGYud2l0aF9jb2x1bW5zKCpleHBycykKICAgICAgICAgICAgICAgIHNlbWFudGljX3NjaGVtYSA9IHNlbWFudGljX3NjaGVtYSB8IHN1YnNjaGVtYSAgIyB0eXBlOiBpZ25vcmUKCiAgICAgICAgIyBTZWxlY3QgY29sdW1ucyB0byBtYXRjaCB0aGUgb3JkZXIgb2YgdGhlIHNlbWFudGljIHNjaGVtYQogICAgICAgIHJlZmluZWRfZGYgPSByZWZpbmVkX2RmLnNlbGVjdChsaXN0KHNlbWFudGljX3NjaGVtYS5rZXlzKCkpKQoKICAgICAgICByZXR1cm4gcmVmaW5lZF9kZiwgc2VtYW50aWNfc2NoZW1hICAjIHR5cGU6IGlnbm9yZQoKICAgIGRlZiBhcHBseV9maWVsZF9yZWZpbmVtZW50c190b19kZigKICAgICAgICBkZjogcGEuVGFibGUsCiAgICAgICAgcmVmaW5lbWVudHM6IGxpc3RbRmllbGRSZWZpbmVtZW50XSwKICAgICkgLT4gcGEuVGFibGU6CiAgICAgICAgZGYsIF8gPSBfYXBwbHlfZmllbGRfcmVmaW5lbWVudHNfdG9fZGYocGwuZnJvbV9hcnJvdyhkZiksIHJlZmluZW1lbnRzKQogICAgICAgIHJldHVybiBwYS5UYWJsZS5mcm9tX3B5bGlzdChkZi50b19kaWN0cygpKQoKICAgIHJldHVybiAoYXBwbHlfZmllbGRfcmVmaW5lbWVudHNfdG9fZGYsKQoKCkBhcHAuY2VsbChoaWRlX2NvZGU9VHJ1ZSkKZGVmIF8oSU5QVVRTKToKICAgICMgUmVmaW5lbWVudHMgc3VnZ2VzdGVkIGJ5IEFJIGFnZW50IGZvciBlYWNoIGZpZWxkIHRvIGdldCBhIHJlcHJlc2VudGF0aW9uIHRoYXQgYmV0dGVyIGNhcHR1cmVzIGZpZWxkIHNlbWFudGljcwogICAgZmllbGRfcmVmaW5lbWVudHMgPSBJTlBVVFNbImZpZWxkX3JlZmluZW1lbnRzIl0KICAgIHJldHVybiAoZmllbGRfcmVmaW5lbWVudHMsKQoKCkBhcHAuY2VsbChjb2x1bW49NCwgaGlkZV9jb2RlPVRydWUpCmRlZiBfKGRhdGFzZXRfdXJpLCBmbG93Y2hhcnQsIG1vKToKICAgIG1vLm1kKAogICAgICAgIHJmIiIiCiAgICAjIDEuIE9yaWdpbmFsIERhdGFzZXQKCiAgICB7Zmxvd2NoYXJ0KHNlbGVjdGVkPTEpfQoKICAgIFRoaXMgaXMgdGhlIHJhdyBkYXRhIHdlIHN0YXJ0ZWQgd2l0aCwgbG9hZGVkIGZyb20ge2RhdGFzZXRfdXJpfS4KICAgICIiIgogICAgKQogICAgcmV0dXJuCgoKQGFwcC5jZWxsKGhpZGVfY29kZT1UcnVlKQpkZWYgXyhkYXRhc2V0X3VyaSwgcmVhZF9kYXRhc2V0KToKICAgIGRmID0gcmVhZF9kYXRhc2V0KGRhdGFzZXRfdXJpKQogICAgZGYKICAgIHJldHVybiAoZGYsKQoKCkBhcHAuY2VsbChoaWRlX2NvZGU9VHJ1ZSkKZGVmIF8oZHVja2RiLCBwYSwgcGQpOgogICAgZGVmIHJlYWRfZGF0YXNldChkYXRhc2V0X3VyaTogc3RyKSAtPiBwYS5UYWJsZToKICAgICAgICAjIFVzaW5nIFBhbmRhcyB0byByZWFkIGRhdGFzZXQgc28gdGhhdCB3ZSBoYXZlIG5vIG5ldHdvcmtpbmcgaXNzdWVzIGluIFB5b2RpZGUtYmFzZWQgTWFyaW1vIGVudgogICAgICAgIGlmIGRhdGFzZXRfdXJpLmVuZHN3aXRoKCIuY3N2Iikgb3IgZGF0YXNldF91cmkuZW5kc3dpdGgoIi5jc3YuZ3oiKToKICAgICAgICAgICAgcGFuZGFzX2RmID0gcGQucmVhZF9jc3YoZGF0YXNldF91cmkpCiAgICAgICAgZWxpZiBkYXRhc2V0X3VyaS5lbmRzd2l0aCgiLnBhcnF1ZXQiKToKICAgICAgICAgICAgcGFuZGFzX2RmID0gcGQucmVhZF9wYXJxdWV0KGRhdGFzZXRfdXJpKQogICAgICAgIGVsaWYgZGF0YXNldF91cmkuZW5kc3dpdGgoIi5qc29uIik6CiAgICAgICAgICAgIHBhbmRhc19kZiA9IHBkLnJlYWRfanNvbihkYXRhc2V0X3VyaSkKICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKGYiTm8gc3VwcG9ydCBmb3IgcmVhZGluZyB7ZGF0YXNldF91cml9IikKCiAgICAgICAgcmV0dXJuIGR1Y2tkYi5xdWVyeSgic2VsZWN0ICogZnJvbSBwYW5kYXNfZGYiKS5hcnJvdygpCgogICAgcmV0dXJuIChyZWFkX2RhdGFzZXQsKQoKCkBhcHAuY2VsbChoaWRlX2NvZGU9VHJ1ZSkKZGVmIF8oSU5QVVRTKToKICAgICMgT3JpZ2luYWwsIHVucHJvY2Vzc2VkIGRhdGFzZXQKICAgIGRhdGFzZXRfdXJpID0gSU5QVVRTWyJkYXRhc2V0X3VyaSJdCiAgICByZXR1cm4gKGRhdGFzZXRfdXJpLCkKCgpAYXBwLmNlbGwoaGlkZV9jb2RlPVRydWUpCmRlZiBfKGh0dHB4KToKICAgICMgVGhlc2UgYXJlIHRoZSBvbmx5IGlucHV0cyBvZiB0aGUgbm90ZWJvb2sgdGVtcGxhdGUsIGFsbCBvdGhlciBjZWxscyBhcmUgZnVuY3Rpb25zIG9mIHRoZXNlCgogICAgcHJvdmVuYW5jZV9qc29uX3VybCA9ICIkcHJvdmVuYW5jZV9qc29uX3VybCIKICAgIGdvYWwgPSAiJGdvYWwiCiAgICB2bF9zcGVjID0gIiIiJHZsX3NwZWMiIiIKCiAgICBJTlBVVFMgPSBodHRweC5nZXQocHJvdmVuYW5jZV9qc29uX3VybCkuanNvbigpCiAgICByZXR1cm4gSU5QVVRTLCBnb2FsLCB2bF9zcGVjCgoKQGFwcC5jZWxsKGhpZGVfY29kZT1UcnVlKQpkZWYgXyhtbyk6CiAgICBkZWYgZmxvd2NoYXJ0KHNlbGVjdGVkOiBpbnQpOgogICAgICAgIG5vZGVzID0gWyJBIiwgIkIiLCAiQyIsICJEIiwgIkUiXQogICAgICAgIHNlbGVjdGVkX25vZGUgPSBub2Rlc1tzZWxlY3RlZCAtIDFdCiAgICAgICAgcmV0dXJuIG1vLm1lcm1haWQocmYiIiIKICAgIGZsb3djaGFydCBSTAogICAgICAgICUlIERlZmluZSBOb2RlcwogICAgICAgIEEoMVwuIE9yaWdpbmFsIERhdGFzZXQpCiAgICAgICAgQlsyXC4gRGF0YXNldCBSZWZpbmVtZW50XQogICAgICAgIENbM1wuIEZpZWxkIFJlbWFwcGluZ10KICAgICAgICBEWzRcLiBEYXRhc2V0IERlcml2YXRpb25dCiAgICAgICAgRShbNVwuIFZpc3VhbGl6YXRpb25dKQoKICAgICAgICAlJSBEZWZpbmUgQ29ubmVjdGlvbnMKICAgICAgICBBIC0tPnxDbGVhbiAmIEZvcm1hdHwgQgogICAgICAgIEIgLS0+fE1ha2UgQ29kZXMgUmVhZGFibGV8IEMKICAgICAgICBDIC0tPnxGaWx0ZXIgJiBTaGFwZSBEYXRhIHVzaW5nIER1Y2tEQnwgRAogICAgICAgIEQgLS0+fEdlbmVyYXRlIENoYXJ0IFNwZWMgdXNpbmcgRHJhY298IEUKCiAgICAgICAgJSUgRGVmaW5lIGNsaWNrYWJsZSBsaW5rcyBmb3IgZWFjaCBub2RlCiAgICAgICAgY2xpY2sgQSAiIzEtb3JpZ2luYWwtZGF0YXNldCIgIkdvIHRvIE9yaWdpbmFsIERhdGFzZXQgc2VjdGlvbiIKICAgICAgICBjbGljayBCICIjMi1kYXRhc2V0LXJlZmluZW1lbnQiICJHbyB0byBEYXRhc2V0IFJlZmluZW1lbnQgc2VjdGlvbiIKICAgICAgICBjbGljayBDICIjMy1maWVsZC1yZW1hcHBpbmciICJHbyB0byBGaWVsZCBSZW1hcHBpbmcgc2VjdGlvbiIKICAgICAgICBjbGljayBEICIjNC1kYXRhc2V0LWRlcml2YXRpb24iICJHbyB0byBEYXRhc2V0IERlcml2YXRpb24gc2VjdGlvbiIKICAgICAgICBjbGljayBFICIjNS12aXN1YWxpemF0aW9uIiAiR28gdG8gVmlzdWFsaXphdGlvbiBzZWN0aW9uIgoKICAgICAgICAlJSBTdHlsZSB0aGUgc2VsZWN0ZWQgbm9kZQogICAgICAgIGNsYXNzRGVmIHNlbGVjdGVkIGZpbGw6I2NkZTRmZixzdHJva2U6IzVhOTZkOCxzdHJva2Utd2lkdGg6M3B4CiAgICAgICAgY2xhc3Mge3NlbGVjdGVkX25vZGV9IHNlbGVjdGVkCiAgICAiIiIpCgogICAgcmV0dXJuIChmbG93Y2hhcnQsKQoKCkBhcHAuY2VsbChoaWRlX2NvZGU9VHJ1ZSkKZGVmIF8oKToKICAgIGltcG9ydCBzdHJpbmcKICAgIGZyb20gdHlwaW5nIGltcG9ydCBDYWxsYWJsZSwgSXRlcmFibGUsIE9wdGlvbmFsCgogICAgaW1wb3J0IGFsdGFpciBhcyBhbHQKICAgIGltcG9ydCBkdWNrZGIKICAgIGltcG9ydCBodHRweAogICAgaW1wb3J0IG1hcmltbyBhcyBtbwogICAgaW1wb3J0IHBhbmRhcyBhcyBwZAogICAgaW1wb3J0IHBvbGFycyBhcyBwbAogICAgaW1wb3J0IHB5YXJyb3cgYXMgcGEKICAgIGZyb20gdHlwaW5nX2V4dGVuc2lvbnMgaW1wb3J0IFR5cGVkRGljdAoKICAgIHJldHVybiAoCiAgICAgICAgQ2FsbGFibGUsCiAgICAgICAgSXRlcmFibGUsCiAgICAgICAgT3B0aW9uYWwsCiAgICAgICAgVHlwZWREaWN0LAogICAgICAgIGFsdCwKICAgICAgICBkdWNrZGIsCiAgICAgICAgaHR0cHgsCiAgICAgICAgbW8sCiAgICAgICAgcGEsCiAgICAgICAgcGQsCiAgICAgICAgcGwsCiAgICAgICAgc3RyaW5nLAogICAgKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBhcHAucnVuKCkK",t=atob(e);return{provenanceNotebookTemplateBase64:e,provenanceNotebookTemplate:t}},inputs:[],outputs:["provenanceNotebookTemplateBase64","provenanceNotebookTemplate"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});R({root:document.getElementById("cell-41"),expanded:[],variables:[]},{id:41,body:e=>({uiInitResult:e()}),inputs:["initializeReportUI"],outputs:["uiInitResult"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});export{f as _};
