const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./inputs-DoHVubAa.js","./inputs-Cuu9vI3M.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const pt="modulepreload",mt=function(e,t){return new URL(e,t).href},ke={},h=function(t,n,i){let o=Promise.resolve();if(n&&n.length>0){let c=function(s){return Promise.all(s.map(d=>Promise.resolve(d).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const r=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");o=c(n.map(s=>{if(s=mt(s,i),s in ke)return;ke[s]=!0;const d=s.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(!!i)for(let m=r.length-1;m>=0;m--){const p=r[m];if(p.href===s&&(!d||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${g}`))return;const b=document.createElement("link");if(b.rel=d?"stylesheet":pt,d||(b.as="script"),b.crossOrigin="",b.href=s,u&&b.setAttribute("nonce",u),document.head.appendChild(b),d)return new Promise((m,p)=>{b.addEventListener("load",m),b.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${s}`)))})}))}function a(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return o.then(r=>{for(const l of r||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function re(e,t,n){n=n||{};var i=e.ownerDocument,o=i.defaultView.CustomEvent;typeof o=="function"?o=new o(t,{detail:n}):(o=i.createEvent("Event"),o.initEvent(t,!1,!1),o.detail=n),e.dispatchEvent(o)}function Pe(e){return Array.isArray(e)||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function Je(e){return e===(e|0)+""}function R(e){const t=document.createElement("span");return t.className="observablehq--cellname",t.textContent=`${e} = `,t}const It=Symbol.prototype.toString;function J(e){return It.call(e)}const{getOwnPropertySymbols:bt,prototype:{hasOwnProperty:ft}}=Object,{toStringTag:Ct}=Symbol,Le={},$=bt;function ge(e,t){return ft.call(e,t)}function fe(e){return e[Ct]||e.constructor&&e.constructor.name||"Object"}function w(e,t){try{const n=e[t];return n&&n.constructor,n}catch{return Le}}const ht=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function ze(e){try{let t=ht.filter(({symbol:r})=>e[r]===!0);if(!t.length)return;const n=t.find(r=>!r.modifier),i=n.name==="Map"&&t.find(r=>r.modifier&&r.prefix),o=t.some(r=>r.arrayish),a=t.some(r=>r.setish);return{name:`${i?i.name:""}${n.name}`,symbols:t,arrayish:o&&!a,setish:a}}catch{return null}}const{getPrototypeOf:ye,getOwnPropertyDescriptors:At}=Object,je=ye({});function De(e,t,n,i){let o=Pe(e),a,r,l,u;e instanceof Map?e instanceof e.constructor?(a=`Map(${e.size})`,r=_t):(a="Map()",r=U):e instanceof Set?e instanceof e.constructor?(a=`Set(${e.size})`,r=yt):(a="Set()",r=U):o?(a=`${e.constructor.name}(${e.length})`,r=vt):(u=ze(e))?(a=`Immutable.${u.name}${u.name==="Record"?"":`(${e.size})`}`,o=u.arrayish,r=u.arrayish?Gt:u.setish?Zt:Wt):i?(a=fe(e),r=wt):(a=fe(e),r=U);const c=document.createElement("span");c.className="observablehq--expanded",n&&c.appendChild(R(n));const s=c.appendChild(document.createElement("a"));s.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M4 7L0 1h8z' fill='currentColor' />
  </svg>`,s.appendChild(document.createTextNode(`${a}${o?" [":" {"}`)),s.addEventListener("mouseup",function(d){d.stopPropagation(),se(c,Ze(e,null,n,i))}),r=r(e);for(let d=0;!(l=r.next()).done&&d<20;++d)c.appendChild(l.value);if(!l.done){const d=c.appendChild(document.createElement("a"));d.className="observablehq--field",d.style.display="block",d.appendChild(document.createTextNode("  … more")),d.addEventListener("mouseup",function(g){g.stopPropagation(),c.insertBefore(l.value,c.lastChild.previousSibling);for(let I=0;!(l=r.next()).done&&I<19;++I)c.insertBefore(l.value,c.lastChild.previousSibling);l.done&&c.removeChild(c.lastChild.previousSibling),re(c,"load")})}return c.appendChild(document.createTextNode(o?"]":"}")),c}function*_t(e){for(const[t,n]of e)yield Vt(t,n);yield*U(e)}function*yt(e){for(const t of e)yield Qe(t);yield*U(e)}function*Zt(e){for(const t of e)yield Qe(t)}function*vt(e){for(let t=0,n=e.length;t<n;++t)t in e&&(yield N(t,w(e,t),"observablehq--index"));for(const t in e)!Je(t)&&ge(e,t)&&(yield N(t,w(e,t),"observablehq--key"));for(const t of $(e))yield N(J(t),w(e,t),"observablehq--symbol")}function*Gt(e){let t=0;for(const n=e.size;t<n;++t)yield N(t,e.get(t),!0)}function*wt(e){for(const n in At(e))yield N(n,w(e,n),"observablehq--key");for(const n of $(e))yield N(J(n),w(e,n),"observablehq--symbol");const t=ye(e);t&&t!==je&&(yield Ue(t))}function*U(e){for(const n in e)ge(e,n)&&(yield N(n,w(e,n),"observablehq--key"));for(const n of $(e))yield N(J(n),w(e,n),"observablehq--symbol");const t=ye(e);t&&t!==je&&(yield Ue(t))}function*Wt(e){for(const[t,n]of e)yield N(t,n,"observablehq--key")}function Ue(e){const t=document.createElement("div"),n=t.appendChild(document.createElement("span"));return t.className="observablehq--field",n.className="observablehq--prototype-key",n.textContent="  <prototype>",t.appendChild(document.createTextNode(": ")),t.appendChild(G(e,void 0,void 0,void 0,!0)),t}function N(e,t,n){const i=document.createElement("div"),o=i.appendChild(document.createElement("span"));return i.className="observablehq--field",o.className=n,o.textContent=`  ${e}`,i.appendChild(document.createTextNode(": ")),i.appendChild(G(t)),i}function Vt(e,t){const n=document.createElement("div");return n.className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(G(e)),n.appendChild(document.createTextNode(" => ")),n.appendChild(G(t)),n}function Qe(e){const t=document.createElement("div");return t.className="observablehq--field",t.appendChild(document.createTextNode("  ")),t.appendChild(G(e)),t}function Ye(e){const t=window.getSelection();return t.type==="Range"&&(t.containsNode(e,!0)||e.contains(t.anchorNode)||e.contains(t.focusNode))}function Ze(e,t,n,i){let o=Pe(e),a,r,l,u;if(e instanceof Map?e instanceof e.constructor?(a=`Map(${e.size})`,r=Bt):(a="Map()",r=Q):e instanceof Set?e instanceof e.constructor?(a=`Set(${e.size})`,r=Rt):(a="Set()",r=Q):o?(a=`${e.constructor.name}(${e.length})`,r=kt):(u=ze(e))?(a=`Immutable.${u.name}${u.name==="Record"?"":`(${e.size})`}`,o=u.arrayish,r=u.arrayish?Nt:u.setish?Xt:Yt):(a=fe(e),r=Q),t){const d=document.createElement("span");return d.className="observablehq--shallow",n&&d.appendChild(R(n)),d.appendChild(document.createTextNode(a)),d.addEventListener("mouseup",function(g){Ye(d)||(g.stopPropagation(),se(d,Ze(e)))}),d}const c=document.createElement("span");c.className="observablehq--collapsed",n&&c.appendChild(R(n));const s=c.appendChild(document.createElement("a"));s.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M7 4L1 8V0z' fill='currentColor' />
  </svg>`,s.appendChild(document.createTextNode(`${a}${o?" [":" {"}`)),c.addEventListener("mouseup",function(d){Ye(c)||(d.stopPropagation(),se(c,De(e,null,n,i)))},!0),r=r(e);for(let d=0;!(l=r.next()).done&&d<20;++d)d>0&&c.appendChild(document.createTextNode(", ")),c.appendChild(l.value);return l.done||c.appendChild(document.createTextNode(", …")),c.appendChild(document.createTextNode(o?"]":"}")),c}function*Bt(e){for(const[t,n]of e)yield Ft(t,n);yield*Q(e)}function*Rt(e){for(const t of e)yield G(t,!0);yield*Q(e)}function*Xt(e){for(const t of e)yield G(t,!0)}function*Nt(e){let t=-1,n=0;for(const i=e.size;n<i;++n)n>t+1&&(yield le(n-t-1)),yield G(e.get(n),!0),t=n;n>t+1&&(yield le(n-t-1))}function*kt(e){let t=-1,n=0;for(const i=e.length;n<i;++n)n in e&&(n>t+1&&(yield le(n-t-1)),yield G(w(e,n),!0),t=n);n>t+1&&(yield le(n-t-1));for(const i in e)!Je(i)&&ge(e,i)&&(yield M(i,w(e,i),"observablehq--key"));for(const i of $(e))yield M(J(i),w(e,i),"observablehq--symbol")}function*Q(e){for(const t in e)ge(e,t)&&(yield M(t,w(e,t),"observablehq--key"));for(const t of $(e))yield M(J(t),w(e,t),"observablehq--symbol")}function*Yt(e){for(const[t,n]of e)yield M(t,n,"observablehq--key")}function le(e){const t=document.createElement("span");return t.className="observablehq--empty",t.textContent=e===1?"empty":`empty × ${e}`,t}function M(e,t,n){const i=document.createDocumentFragment(),o=i.appendChild(document.createElement("span"));return o.className=n,o.textContent=e,i.appendChild(document.createTextNode(": ")),i.appendChild(G(t,!0)),i}function Ft(e,t){const n=document.createDocumentFragment();return n.appendChild(G(e,!0)),n.appendChild(document.createTextNode(" => ")),n.appendChild(G(t,!0)),n}function Et(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),i=e.getUTCMinutes(),o=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${Ht(e.getUTCFullYear())}-${X(e.getUTCMonth()+1,2)}-${X(e.getUTCDate(),2)}${n||i||o||a?`T${X(n,2)}:${X(i,2)}${o||a?`:${X(o,2)}${a?`.${X(a,3)}`:""}`:""}Z`:""}`}function Ht(e){return e<0?`-${X(-e,6)}`:e>9999?`+${X(e,6)}`:X(e,4)}function X(e,t){return`${e}`.padStart(t,"0")}function xt(e){return Et(e,"Invalid Date")}var St=Error.prototype.toString;function Kt(e){return e.stack||St.call(e)}var Tt=RegExp.prototype.toString;function Pt(e){return Tt.call(e)}const Ie=20;function Jt(e,t,n,i){if(t===!1){if(Ee(e,/["\n]/g)<=Ee(e,/`|\${/g)){const c=document.createElement("span");i&&c.appendChild(R(i));const s=c.appendChild(document.createElement("span"));return s.className="observablehq--string",s.textContent=JSON.stringify(e),c}const r=e.split(`
`);if(r.length>Ie&&!n){const c=document.createElement("div");i&&c.appendChild(R(i));const s=c.appendChild(document.createElement("span"));s.className="observablehq--string",s.textContent="`"+Fe(r.slice(0,Ie).join(`
`));const d=c.appendChild(document.createElement("span")),g=r.length-Ie;return d.textContent=`Show ${g} truncated line${g>1?"s":""}`,d.className="observablehq--string-expand",d.addEventListener("mouseup",function(I){I.stopPropagation(),se(c,G(e,t,!0,i))}),c}const l=document.createElement("span");i&&l.appendChild(R(i));const u=l.appendChild(document.createElement("span"));return u.className=`observablehq--string${n?" observablehq--expanded":""}`,u.textContent="`"+Fe(e)+"`",l}const o=document.createElement("span");i&&o.appendChild(R(i));const a=o.appendChild(document.createElement("span"));return a.className="observablehq--string",a.textContent=JSON.stringify(e.length>100?`${e.slice(0,50)}…${e.slice(-49)}`:e),o}function Fe(e){return e.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,Lt)}function Lt(e){var t=e.charCodeAt(0);switch(t){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return t<16?"\\x0"+t.toString(16):t<32?"\\x"+t.toString(16):"\\"+e}function Ee(e,t){for(var n=0;t.exec(e);)++n;return n}var zt=Function.prototype.toString,jt={prefix:"async ƒ"},Dt={prefix:"async ƒ*"},He={prefix:"class"},Ut={prefix:"ƒ"},Qt={prefix:"ƒ*"};function Ot(e,t){var n,i,o=zt.call(e);switch(e.constructor&&e.constructor.name){case"AsyncFunction":n=jt;break;case"AsyncGeneratorFunction":n=Dt;break;case"GeneratorFunction":n=Qt;break;default:n=/^class\b/.test(o)?He:Ut;break}return n===He?D(n,"",t):(i=/^(?:async\s*)?(\w+)\s*=>/.exec(o))?D(n,"("+i[1]+")",t):(i=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(o))?D(n,i[1]?"("+i[1].replace(/\s*,\s*/g,", ")+")":"()",t):(i=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(o))?D(n,i[1]?"("+i[1].replace(/\s*,\s*/g,", ")+")":"()",t):D(n,"(…)",t)}function D(e,t,n){var i=document.createElement("span");i.className="observablehq--function",n&&i.appendChild(R(n));var o=i.appendChild(document.createElement("span"));return o.className="observablehq--keyword",o.textContent=e.prefix,i.appendChild(document.createTextNode(t)),i}const{prototype:{toString:Mt}}=Object;function G(e,t,n,i,o){let a=typeof e;switch(a){case"boolean":case"undefined":{e+="";break}case"number":{e=e===0&&1/e<0?"-0":e+"";break}case"bigint":{e=e+"n";break}case"symbol":{e=J(e);break}case"function":return Ot(e,i);case"string":return Jt(e,t,n,i);default:{if(e===null){a=null,e="null";break}if(e instanceof Date){a="date",e=xt(e);break}if(e===Le){a="forbidden",e="[forbidden]";break}switch(Mt.call(e)){case"[object RegExp]":{a="regexp",e=Pt(e);break}case"[object Error]":case"[object DOMException]":{a="error",e=Kt(e);break}default:return(n?De:Ze)(e,t,i,o)}break}}const r=document.createElement("span");i&&r.appendChild(R(i));const l=r.appendChild(document.createElement("span"));return l.className=`observablehq--${a}`,l.textContent=e,r}function se(e,t){e.classList.contains("observablehq--inspect")&&t.classList.add("observablehq--inspect"),e.parentNode.replaceChild(t,e),re(t,"load")}const qt=/\s+\(\d+:\d+\)$/m;class ce{constructor(t){if(!t)throw new Error("invalid node");this._node=t,t.classList.add("observablehq")}pending(){const{_node:t}=this;t.classList.remove("observablehq--error"),t.classList.add("observablehq--running")}fulfilled(t,n){const{_node:i}=this;if((!$t(t)||t.parentNode&&t.parentNode!==i)&&(t=G(t,!1,i.firstChild&&i.firstChild.classList&&i.firstChild.classList.contains("observablehq--expanded"),n),t.classList.add("observablehq--inspect")),i.classList.remove("observablehq--running","observablehq--error"),i.firstChild!==t)if(i.firstChild){for(;i.lastChild!==i.firstChild;)i.removeChild(i.lastChild);i.replaceChild(t,i.firstChild)}else i.appendChild(t);re(i,"update")}rejected(t,n){const{_node:i}=this;for(i.classList.remove("observablehq--running"),i.classList.add("observablehq--error");i.lastChild;)i.removeChild(i.lastChild);var o=document.createElement("div");o.className="observablehq--inspect",n&&o.appendChild(R(n)),o.appendChild(document.createTextNode((t+"").replace(qt,""))),i.appendChild(o),re(i,"error",{error:t})}}ce.into=function(e){if(typeof e=="string"&&(e=document.querySelector(e),e==null))throw new Error("container not found");return function(){return new ce(e.appendChild(document.createElement("div")))}};function $t(e){return(e instanceof Element||e instanceof Text)&&e instanceof e.constructor}function en(e,t){const n=document.createElement("div");if(new ce(n).fulfilled(e),t)for(const i of t){let o=n;for(const a of i)o=o?.childNodes[a];o?.dispatchEvent(new Event("mouseup"))}return n}function tn(e){const t=document.createElement("div");return new ce(t).rejected(e),t}function nn(e){if(!an(e))return;const t=e.querySelectorAll(".observablehq--expanded");if(t.length)return Array.from(t,n=>rn(e,n))}function on(e){return e.nodeType===1}function an(e){return on(e)&&e.classList.contains("observablehq")}function rn(e,t){const n=[];for(;t!==e;)n.push(ln(t)),t=t.parentNode;return n.reverse()}function ln(e){return Array.prototype.indexOf.call(e.parentNode.childNodes,e)}const sn=["audio source[src]","audio[src]","img[src]","picture source[src]","video source[src]","video[src]"].join(),cn=["img[srcset]","picture source[srcset]"].join(),dn=["a[href][download]","link[href]"].join(),un=[[sn,"src"],[cn,"srcset"],[dn,"href"]];function gn(e,t){const n=i=>t.get(In(i))??i;for(const[i,o]of un)for(const a of e.querySelectorAll(i)){if(pn(a))continue;const r=decodeURI(a.getAttribute(o));o==="srcset"?a.setAttribute(o,fn(r,n)):a.setAttribute(o,n(r))}}function pn(e){return/(?:^|\s)external(?:\s|$)/i.test(e.getAttribute("rel")??"")}function mn(e){const t=e.indexOf("?"),n=e.indexOf("#"),i=t>=0&&n>=0?Math.min(t,n):t>=0?t:n;return i>=0?e.slice(0,i):e}function In(e){const t=mn(e);return bn(t)?t:`./${t}`}function bn(e){return["./","../","/"].some(t=>e.startsWith(t))}function fn(e,t){return e.trim().split(/\s*,\s*/).filter(n=>n).map(n=>{const i=n.split(/\s+/),o=t(i[0]);return o&&(i[0]=encodeURI(o)),i.join(" ")}).join(", ")}function Oe(e,t){const{root:n,expanded:i}=e,o=hn(t,n)?t:en(t,i[n.childNodes.length]);Me(e,o)}function Me(e,t){if(t.nodeType===11){let n;for(;n=t.firstChild;)e.root.appendChild(n)}else e.root.appendChild(t)}function Cn(e,t){Me(e,tn(t))}function hn(e,t){return(e instanceof Element||e instanceof Text)&&e instanceof e.constructor&&(!e.parentNode||t.contains(e))}function O(e){for(e.expanded=Array.from(e.root.childNodes,nn);e.root.lastChild;)e.root.lastChild.remove()}function An(e,{autodisplay:t,assets:n}){return{_error:!1,_node:e.root,pending(){this._error&&(this._error=!1,O(e))},fulfilled(i){t&&(O(e),n&&i instanceof Element&&gn(i,n),Oe(e,i))},rejected(i){console.error(i),this._error=!0,O(e),Cn(e,i)}}}class k extends Error{constructor(t,n){super(t),this.input=n}}k.prototype.name="RuntimeError";function _n(e){return e&&typeof e.next=="function"&&typeof e.return=="function"}function Ce(e){return()=>e}function de(e){return e}function yn(e){return()=>{throw e}}const Zn=Array.prototype,vn=Zn.map;function F(){}const ve=1,ee=2,oe=3,q=Symbol("no-observer"),Gn=Promise.resolve();function H(e,t,n,i){n||(n=q),Object.defineProperties(this,{_observer:{value:n,writable:!0},_definition:{value:Ge,writable:!0},_duplicate:{value:void 0,writable:!0},_duplicates:{value:void 0,writable:!0},_indegree:{value:NaN,writable:!0},_inputs:{value:[],writable:!0},_invalidate:{value:F,writable:!0},_module:{value:t},_name:{value:null,writable:!0},_outputs:{value:new Set,writable:!0},_promise:{value:Gn,writable:!0},_reachable:{value:n!==q,writable:!0},_rejector:{value:Bn(this)},_shadow:{value:wn(t,i)},_type:{value:e},_value:{value:void 0,writable:!0},_version:{value:0,writable:!0}})}Object.defineProperties(H.prototype,{_pending:{value:Yn,writable:!0,configurable:!0},_fulfilled:{value:Fn,writable:!0,configurable:!0},_rejected:{value:En,writable:!0,configurable:!0},_resolve:{value:Xn,writable:!0,configurable:!0},define:{value:Rn,writable:!0,configurable:!0},delete:{value:kn,writable:!0,configurable:!0},import:{value:Nn,writable:!0,configurable:!0}});function wn(e,t){return t?.shadow?new Map(Object.entries(t.shadow).map(([n,i])=>[n,new H(ee,e).define([],i)])):null}function Wn(e){e._module._runtime._dirty.add(e),e._outputs.add(this)}function Vn(e){e._module._runtime._dirty.add(e),e._outputs.delete(this)}function Ge(){throw Ge}function Y(){throw Y}function Bn(e){return t=>{throw t===Y?t:t===Ge?new k(`${e._name} is not defined`,e._name):t instanceof Error&&t.message?new k(t.message,e._name):new k(`${e._name} could not be resolved`,e._name)}}function xe(e){return()=>{throw new k(`${e} is defined more than once`)}}function Rn(e,t,n){switch(arguments.length){case 1:{n=e,e=t=null;break}case 2:{n=t,typeof e=="string"?t=null:(t=e,e=null);break}}return we.call(this,e==null?null:String(e),t==null?[]:vn.call(t,this._resolve,this),typeof n=="function"?n:Ce(n))}function Xn(e){return this._shadow?.get(e)??this._module._resolve(e)}function we(e,t,n){const i=this._module._scope,o=this._module._runtime;if(this._inputs.forEach(Vn,this),t.forEach(Wn,this),this._inputs=t,this._definition=n,this._value=void 0,n===F?o._variables.delete(this):o._variables.add(this),e!==this._name||i.get(e)!==this){let a,r;if(this._name)if(this._outputs.size)i.delete(this._name),r=this._module._resolve(this._name),r._outputs=this._outputs,this._outputs=new Set,r._outputs.forEach(function(l){l._inputs[l._inputs.indexOf(this)]=r},this),r._outputs.forEach(o._updates.add,o._updates),o._dirty.add(r).add(this),i.set(this._name,r);else if((r=i.get(this._name))===this)i.delete(this._name);else if(r._type===oe)r._duplicates.delete(this),this._duplicate=void 0,r._duplicates.size===1&&(r=r._duplicates.keys().next().value,a=i.get(this._name),r._outputs=a._outputs,a._outputs=new Set,r._outputs.forEach(function(l){l._inputs[l._inputs.indexOf(a)]=r}),r._definition=r._duplicate,r._duplicate=void 0,o._dirty.add(a).add(r),o._updates.add(r),i.set(this._name,r));else throw new Error;if(this._outputs.size)throw new Error;e&&((r=i.get(e))?r._type===oe?(this._definition=xe(e),this._duplicate=n,r._duplicates.add(this)):r._type===ee?(this._outputs=r._outputs,r._outputs=new Set,this._outputs.forEach(function(l){l._inputs[l._inputs.indexOf(r)]=this},this),o._dirty.add(r).add(this),i.set(e,this)):(r._duplicate=r._definition,this._duplicate=n,a=new H(oe,this._module),a._name=e,a._definition=this._definition=r._definition=xe(e),a._outputs=r._outputs,r._outputs=new Set,a._outputs.forEach(function(l){l._inputs[l._inputs.indexOf(r)]=a}),a._duplicates=new Set([this,r]),o._dirty.add(r).add(a),o._updates.add(r).add(a),i.set(e,a)):i.set(e,this)),this._name=e}return this._version>0&&++this._version,o._updates.add(this),o._compute(),this}function Nn(e,t,n){return arguments.length<3&&(n=t,t=e),we.call(this,String(t),[n._resolve(String(e))],de)}function kn(){return we.call(this,null,[],F)}function Yn(){this._observer.pending&&this._observer.pending()}function Fn(e){this._observer.fulfilled&&this._observer.fulfilled(e,this._name)}function En(e){this._observer.rejected&&this._observer.rejected(e,this._name)}const qe=Symbol("variable"),$e=Symbol("invalidation"),et=Symbol("visibility");function ue(e,t=[]){Object.defineProperties(this,{_runtime:{value:e},_scope:{value:new Map},_builtins:{value:new Map([["@variable",qe],["invalidation",$e],["visibility",et],...t])},_source:{value:null,writable:!0}})}Object.defineProperties(ue.prototype,{_resolve:{value:Jn,writable:!0,configurable:!0},redefine:{value:Hn,writable:!0,configurable:!0},define:{value:xn,writable:!0,configurable:!0},derive:{value:Pn,writable:!0,configurable:!0},import:{value:Sn,writable:!0,configurable:!0},value:{value:Tn,writable:!0,configurable:!0},variable:{value:Kn,writable:!0,configurable:!0},builtin:{value:Ln,writable:!0,configurable:!0}});function Hn(e){const t=this._scope.get(e);if(!t)throw new k(`${e} is not defined`);if(t._type===oe)throw new k(`${e} is defined more than once`);return t.define.apply(t,arguments)}function xn(){const e=new H(ve,this);return e.define.apply(e,arguments)}function Sn(){const e=new H(ve,this);return e.import.apply(e,arguments)}function Kn(e,t){return new H(ve,this,e,t)}async function Tn(e){let t=this._scope.get(e);if(!t)throw new k(`${e} is not defined`);if(t._observer===q){t=this.variable(!0).define([e],de);try{return await he(this._runtime,t)}finally{t.delete()}}else return he(this._runtime,t)}async function he(e,t){await e._compute();try{return await t._promise}catch(n){if(n===Y)return he(e,t);throw n}}function Pn(e,t){const n=new Map,i=new Set,o=[];function a(l){let u=n.get(l);return u||(u=new ue(l._runtime,l._builtins),u._source=l,n.set(l,u),o.push([u,l]),i.add(l),u)}const r=a(this);for(const l of e){const{alias:u,name:c}=typeof l=="object"?l:{name:l};r.import(c,u??c,t)}for(const l of i)for(const[u,c]of l._scope)if(c._definition===de){if(l===this&&r._scope.has(u))continue;const s=c._inputs[0]._module;s._source&&a(s)}for(const[l,u]of o)for(const[c,s]of u._scope){const d=l._scope.get(c);if(!(d&&d._type!==ee))if(s._definition===de){const g=s._inputs[0],I=g._module;l.import(g._name,c,n.get(I)||I)}else l.define(c,s._inputs.map(zn),s._definition)}return r}function Jn(e){let t=this._scope.get(e),n;if(!t)if(t=new H(ee,this),this._builtins.has(e))t.define(e,Ce(this._builtins.get(e)));else if(this._runtime._builtin._scope.has(e))t.import(e,this._runtime._builtin);else{try{n=this._runtime._global(e)}catch(i){return t.define(e,yn(i))}n===void 0?this._scope.set(t._name=e,t):t.define(e,Ce(n))}return t}function Ln(e,t){this._builtins.set(e,t)}function zn(e){return e._name}const jn=typeof requestAnimationFrame=="function"?requestAnimationFrame:typeof setImmediate=="function"?setImmediate:e=>setTimeout(e,0);function tt(e,t=di){const n=this.module();if(Object.defineProperties(this,{_dirty:{value:new Set},_updates:{value:new Set},_precomputes:{value:[],writable:!0},_computing:{value:null,writable:!0},_init:{value:null,writable:!0},_modules:{value:new Map},_variables:{value:new Set},_disposed:{value:!1,writable:!0},_builtin:{value:n},_global:{value:t}}),e)for(const i in e)new H(ee,n).define(i,[],e[i])}Object.defineProperties(tt.prototype,{_precompute:{value:Qn,writable:!0,configurable:!0},_compute:{value:On,writable:!0,configurable:!0},_computeSoon:{value:Mn,writable:!0,configurable:!0},_computeNow:{value:qn,writable:!0,configurable:!0},dispose:{value:Dn,writable:!0,configurable:!0},module:{value:Un,writable:!0,configurable:!0}});function Dn(){this._computing=Promise.resolve(),this._disposed=!0,this._variables.forEach(e=>{e._invalidate(),e._version=NaN})}function Un(e,t=F){let n;if(e===void 0)return(n=this._init)?(this._init=null,n):new ue(this);if(n=this._modules.get(e),n)return n;this._init=n=new ue(this),this._modules.set(e,n);try{e(this,t)}finally{this._init=null}return n}function Qn(e){this._precomputes.push(e),this._compute()}function On(){return this._computing||(this._computing=this._computeSoon())}function Mn(){return new Promise(jn).then(()=>this._disposed?void 0:this._computeNow())}async function qn(){let e=[],t,n,i=this._precomputes;if(i.length){this._precomputes=[];for(const a of i)a();await $n(3)}t=new Set(this._dirty),t.forEach(function(a){a._inputs.forEach(t.add,t);const r=ci(a);r>a._reachable?this._updates.add(a):r<a._reachable&&a._invalidate(),a._reachable=r},this),t=new Set(this._updates),t.forEach(function(a){a._reachable?(a._indegree=0,a._outputs.forEach(t.add,t)):(a._indegree=NaN,t.delete(a))}),this._computing=null,this._updates.clear(),this._dirty.clear(),t.forEach(function(a){a._outputs.forEach(ti)});do{for(t.forEach(function(a){a._indegree===0&&e.push(a)});n=e.pop();)ai(n),n._outputs.forEach(o),t.delete(n);t.forEach(function(a){ei(a)&&(li(a,new k("circular definition")),a._outputs.forEach(ni),t.delete(a))})}while(t.size);function o(a){--a._indegree===0&&e.push(a)}}function $n(e=0){let t=Promise.resolve();for(let n=0;n<e;++n)t=t.then(()=>{});return t}function ei(e){const t=new Set(e._inputs);for(const n of t){if(n===e)return!0;n._inputs.forEach(t.add,t)}return!1}function ti(e){++e._indegree}function ni(e){--e._indegree}function ii(e){return e._promise.catch(e._rejector)}function be(e){return new Promise(function(t){e._invalidate=t})}function oi(e,t){let n=typeof IntersectionObserver=="function"&&t._observer&&t._observer._node,i=!n,o=F,a=F,r,l;return n&&(l=new IntersectionObserver(([u])=>(i=u.isIntersecting)&&(r=null,o())),l.observe(n),e.then(()=>(l.disconnect(),l=null,a()))),function(u){return i?Promise.resolve(u):l?(r||(r=new Promise((c,s)=>(o=c,a=s))),r.then(()=>u)):Promise.reject()}}function ai(e){e._invalidate(),e._invalidate=F,e._pending();const t=e._value,n=++e._version,i=e._inputs,o=e._definition;let a=null;const r=e._promise=e._promise.then(l,l).then(u).then(c);function l(){return Promise.all(i.map(ii))}function u(s){if(e._version!==n)throw Y;for(let d=0,g=s.length;d<g;++d)switch(s[d]){case $e:{s[d]=a=be(e);break}case et:{a||(a=be(e)),s[d]=oi(a,e);break}case qe:{s[d]=e;break}}return o.apply(t,s)}function c(s){if(e._version!==n)throw Y;return _n(s)?((a||be(e)).then(si(s)),ri(e,n,s)):s}r.then(s=>{e._value=s,e._fulfilled(s)},s=>{s===Y||e._version!==n||(e._value=void 0,e._rejected(s))})}function ri(e,t,n){const i=e._module._runtime;let o;function a(u){return new Promise(c=>c(n.next(o))).then(({done:c,value:s})=>c?void 0:Promise.resolve(s).then(u))}function r(){const u=a(c=>{if(e._version!==t)throw Y;return o=c,l(c,u).then(()=>i._precompute(r)),e._fulfilled(c),c});u.catch(c=>{c===Y||e._version!==t||(l(void 0,u),e._rejected(c))})}function l(u,c){return e._value=u,e._promise=c,e._outputs.forEach(i._updates.add,i._updates),i._compute()}return a(u=>{if(e._version!==t)throw Y;return o=u,i._precompute(r),u})}function li(e,t){e._invalidate(),e._invalidate=F,e._pending(),++e._version,e._indegree=NaN,(e._promise=Promise.reject(t)).catch(F),e._value=void 0,e._rejected(t)}function si(e){return function(){e.return()}}function ci(e){if(e._observer!==q)return!0;const t=new Set(e._outputs);for(const n of t){if(n._observer!==q)return!0;n._outputs.forEach(t.add,t)}return!1}function di(e){return globalThis[e]}const Se=new Map;function nt(e,t=document.baseURI){if(new.target!==void 0)throw new TypeError("FileAttachment is not a constructor");const n=new URL(e,t).href;let i=Se.get(n);return i||(i=new P(n,e.split("/").pop()),Se.set(n,i)),i}async function T(e){const t=await fetch(e.href);if(!t.ok)throw new Error(`Unable to load file: ${e.name}`);return t}class ui{constructor(t,n=gi(t),i,o){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mimeType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastModified",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperties(this,{name:{value:`${t}`,enumerable:!0},mimeType:{value:`${n}`,enumerable:!0},lastModified:{value:i===void 0?void 0:+i,enumerable:!0},size:{value:o===void 0?void 0:+o,enumerable:!0}})}async url(){return this.href}async blob(){return(await T(this)).blob()}async arrayBuffer(){return(await T(this)).arrayBuffer()}async text(t){return t===void 0?(await T(this)).text():new TextDecoder(t).decode(await this.arrayBuffer())}async json(){return(await T(this)).json()}async stream(){return(await T(this)).body}async dsv({delimiter:t=",",array:n=!1,typed:i=!1}={}){const[o,a]=await Promise.all([this.text(),h(()=>import("https://cdn.jsdelivr.net/npm/d3-dsv/+esm"),[],import.meta.url)]),r=a.dsvFormat(t);return(n?r.parseRows:r.parse)(o,i&&a.autoType)}async csv(t){return this.dsv({...t,delimiter:","})}async tsv(t){return this.dsv({...t,delimiter:"	"})}async image(t){const n=await this.url();return new Promise((i,o)=>{const a=new Image;new URL(n,document.baseURI).origin!==location.origin&&(a.crossOrigin="anonymous"),Object.assign(a,t),a.onload=()=>i(a),a.onerror=()=>o(new Error(`Unable to load file: ${this.name}`)),a.src=n})}async arrow(){const[t,n]=await Promise.all([h(()=>import("https://cdn.jsdelivr.net/npm/apache-arrow/+esm"),[],import.meta.url),T(this)]);return t.tableFromIPC(n)}async arquero(t){let n,i;switch(this.mimeType){case"application/json":n=this.text(),i="fromJSON";break;case"text/tab-separated-values":t?.delimiter===void 0&&(t={...t,delimiter:"	"});case"text/csv":n=this.text(),i="fromCSV";break;default:if(/\.arrow$/i.test(this.name))n=this.arrow(),i="fromArrow";else if(/\.parquet$/i.test(this.name))n=this.parquet(),i="fromArrow";else throw new Error(`unable to determine Arquero loader: ${this.name}`);break}const[o,a]=await Promise.all([h(()=>import("https://cdn.jsdelivr.net/npm/arquero/+esm"),[],import.meta.url),n]);return o[i](a,t)}async parquet(){const[t,n,i]=await Promise.all([h(()=>import("https://cdn.jsdelivr.net/npm/apache-arrow/+esm"),[],import.meta.url),h(()=>import("https://cdn.jsdelivr.net/npm/parquet-wasm/+esm"),[],import.meta.url).then(async o=>(await o.default("https://cdn.jsdelivr.net/npm/parquet-wasm/esm/parquet_wasm_bg.wasm"),o)),this.arrayBuffer()]);return t.tableFromIPC(n.readParquet(new Uint8Array(i)).intoIPCStream())}async xml(t="application/xml"){return new DOMParser().parseFromString(await this.text(),t)}async html(){return this.xml("text/html")}}function gi(e){const t=e.lastIndexOf("."),n=e.lastIndexOf("/");switch(t>0&&(n<0||t>n)?e.slice(t).toLowerCase():""){case".csv":return"text/csv";case".tsv":return"text/tab-separated-values";case".json":return"application/json";case".html":return"text/html";case".xml":return"application/xml";case".png":return"image/png";case".jpg":return"image/jpg";case".js":return"text/javascript";default:return"application/octet-stream"}}class P extends ui{constructor(t,n,i,o,a){super(n,i,o,a),Object.defineProperty(this,"href",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"href",{value:t})}}Object.defineProperty(P,"name",{value:"FileAttachment"});nt.prototype=P.prototype;function pi(e){function t(n){const i=e(n+="");if(i==null)throw new Error(`File not found: ${n}`);if(typeof i=="object"&&"url"in i){const{url:o,mimeType:a}=i;return new P(o,n,a)}return new P(i,n)}return t.prototype=P.prototype,t}async function*pe(e){let t,n,i=!1;const o=e(a=>(n=a,t?(t(a),t=void 0):i=!0,a));if(o!=null&&typeof o!="function")throw new Error(typeof o=="object"&&"then"in o&&typeof o.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");try{for(;;)yield i?(i=!1,n):new Promise(a=>t=a)}finally{o?.()}}function it(e){let t;return Object.defineProperty(pe(n=>{t=n,e!==void 0&&t(e)}),"value",{get:()=>e,set:n=>(e=n,void t?.(e))})}function mi(e){const t=it(e);return[t,{get value(){return t.value},set value(n){t.value=n}}]}function Ae(e){return pe(t=>{const n=Ii(e),i=Ke(e),o=()=>t(Ke(e));return e.addEventListener(n,o),i!==void 0&&t(i),()=>e.removeEventListener(n,o)})}function Ke(e){const t=e,n=e;if("type"in e)switch(e.type){case"range":case"number":return t.valueAsNumber;case"date":return t.valueAsDate;case"checkbox":return t.checked;case"file":return t.multiple?t.files:t.files[0];case"select-multiple":return Array.from(n.selectedOptions,i=>i.value)}return t.value}function Ii(e){if("type"in e)switch(e.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change"}return"input"}async function*ot(){for(;;)yield Date.now()}async function*bi(e){let t;const n=[],i=e(o=>(n.push(o),t&&(t(n.shift()),t=void 0),o));if(i!=null&&typeof i!="function")throw new Error(typeof i=="object"&&"then"in i&&typeof i.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");try{for(;;)yield n.length?n.shift():new Promise(o=>t=o)}finally{i?.()}}function at(e,t){return pe(n=>{let i;const o=new ResizeObserver(([a])=>{const r=a.contentRect.width;r!==i&&n(i=r)});return o.observe(e,t),()=>o.disconnect()})}const fi=Object.freeze(Object.defineProperty({__proto__:null,input:Ae,now:ot,observe:pe,queue:bi,width:at},Symbol.toStringTag,{value:"Module"}));function Ci(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}function hi(e,t,n=devicePixelRatio){const i=document.createElement("canvas");i.width=e*n,i.height=t*n,i.style.width=`${e}px`;const o=i.getContext("2d");return o.scale(n,n),o}function Ai(e,t){const n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox",`0 0 ${e} ${t}`),n.setAttribute("width",`${e}`),n.setAttribute("height",`${t}`),n}function _i(e){return document.createTextNode(e)}let yi=0;function Zi(e){return new vi(`O-${e==null?"":`${e}-`}${++yi}`)}class vi{constructor(t){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"href",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.id=t,this.href=new URL(`#${t}`,location.href).href}toString(){return`url(${this.href})`}}const Gi=Object.freeze(Object.defineProperty({__proto__:null,canvas:Ci,context2d:hi,svg:Ai,text:_i,uid:Zi},Symbol.toStringTag,{value:"Module"}));var wi=function(e,t,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:t.get(e)},Wi=function(e,t,n,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(e,n):o?o.value=n:t.set(e,n),n},ae;class Vi{constructor(){ae.set(this,void 0),Object.defineProperty(this,"fulfilled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rejected",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.next()}async next(){const t=await wi(this,ae,"f");return Wi(this,ae,new Promise((n,i)=>(this.fulfilled=n,this.rejected=i)),"f"),{done:!1,value:t}}throw(){return{done:!0}}return(){return{done:!0}}}ae=new WeakMap;const Bi=()=>h(()=>import("https://cdn.jsdelivr.net/npm/lodash/+esm"),[],import.meta.url).then(e=>e.default),Ri=()=>h(()=>import("https://cdn.jsdelivr.net/npm/arquero/+esm"),[],import.meta.url),Xi=()=>h(()=>import("https://cdn.jsdelivr.net/npm/apache-arrow/+esm"),[],import.meta.url),Ni=()=>h(()=>import("https://cdn.jsdelivr.net/npm/d3/+esm"),[],import.meta.url),ki=()=>h(()=>import("./dot-DSyh6hFx.js"),[],import.meta.url).then(e=>e.dot),Yi=()=>h(()=>import("https://cdn.jsdelivr.net/npm/@duckdb/duckdb-wasm/+esm"),[],import.meta.url),Fi=()=>h(()=>import("./duckdb-BIIu4uxe.js"),[],import.meta.url).then(e=>e.DuckDBClient),Ei=()=>h(()=>import("https://cdn.jsdelivr.net/npm/echarts/+esm"),[],import.meta.url),Hi=()=>h(()=>import("https://cdn.jsdelivr.net/npm/htl/+esm"),[],import.meta.url),xi=()=>h(()=>import("https://cdn.jsdelivr.net/npm/htl/+esm"),[],import.meta.url).then(e=>e.html),Si=()=>h(()=>import("https://cdn.jsdelivr.net/npm/htl/+esm"),[],import.meta.url).then(e=>e.svg),Ki=()=>h(()=>import("./inputs-DoHVubAa.js"),__vite__mapDeps([0,1]),import.meta.url),Ti=()=>h(()=>import("./leaflet-D54mqpIu.js"),[],import.meta.url),Pi=()=>h(()=>import("./mapboxgl-C94UFoDx.js"),[],import.meta.url).then(e=>e.default),Ji=()=>h(()=>import("./md-CXUvl0m_.js"),[],import.meta.url).then(e=>e.md),Li=()=>h(()=>import("./mermaid-CWCaPgOr.js"),[],import.meta.url).then(e=>e.mermaid),zi=()=>h(()=>import("https://cdn.jsdelivr.net/npm/@observablehq/plot/+esm"),[],import.meta.url),ji=()=>h(()=>import("https://cdn.jsdelivr.net/npm/react/+esm"),[],import.meta.url),Di=()=>h(()=>import("https://cdn.jsdelivr.net/npm/react-dom/+esm"),[],import.meta.url),Ui=()=>h(()=>import("./tex-BE43Lb2g.js"),[],import.meta.url).then(e=>e.tex),Qi=()=>h(()=>import("https://cdn.jsdelivr.net/npm/topojson-client/+esm"),[],import.meta.url),Oi=()=>h(()=>import("./vega-lite-ClQwpDTB.js"),[],import.meta.url).then(e=>e.vl),Mi=Object.freeze(Object.defineProperty({__proto__:null,Arrow:Xi,DuckDBClient:Fi,Inputs:Ki,L:Ti,Plot:zi,React:ji,ReactDOM:Di,_:Bi,aq:Ri,d3:Ni,dot:ki,duckdb:Yi,echarts:Ei,htl:Hi,html:xi,mapboxgl:Pi,md:Ji,mermaid:Li,svg:Si,tex:Ui,topojson:Qi,vl:Oi},Symbol.toStringTag,{value:"Module"}));We.resolve=rt;function We(...e){return e.length===1?import(rt(e[0])):Promise.all(e.map(t=>We(t))).then(t=>Object.assign({},...t))}function qi(e){const t=e.split("/"),n=e.startsWith("@")?[t.shift(),t.shift()].join("/"):t.shift(),i=n.indexOf("@",1),o=i>0?n.slice(0,i):n,a=i>0?n.slice(i):"",r=t.length>0?`/${t.join("/")}`:"";return{name:o,range:a,path:r}}function rt(e){const t=String(e);if($i(t)||eo(t))return t;const{name:n,range:i,path:o}=qi(t);return`https://cdn.jsdelivr.net/npm/${n}${i}${o+(to(o)||no(o)?"":"/+esm")}`}function $i(e){return/^\w+:/.test(e)}function eo(e){return/^(\.\/|\.\.\/|\/)/.test(e)}function to(e){return/(\.\w*)$/.test(e)}function no(e){return/(\/)$/.test(e)}const io=()=>V(W("aapl.csv")),oo=()=>V(W("alphabet.csv")),ao=()=>V(W("cars.csv")),ro=()=>V(W("citywages.csv")),lo=()=>V(W("diamonds.csv")),so=()=>V(W("flare.csv")),co=()=>V(W("industries.csv")),uo=()=>bo(W("miserables.json")),go=()=>V(W("olympians.csv")),po=()=>V(W("penguins.csv")),mo=()=>V(W("pizza.csv")),Io=()=>V(W("weather.csv"));function W(e){return`https://cdn.jsdelivr.net/npm/@observablehq/sample-datasets/${e}`}async function bo(e){const t=await fetch(e);if(!t.ok)throw new Error(`unable to fetch ${e}: status ${t.status}`);return t.json()}async function fo(e){const t=await fetch(e);if(!t.ok)throw new Error(`unable to fetch ${e}: status ${t.status}`);return t.text()}async function V(e,t){const[n,i]=await Promise.all([fo(e),h(()=>import("https://cdn.jsdelivr.net/npm/d3-dsv/+esm"),[],import.meta.url)]);return i.csvParse(n,i.autoType)}const Co=Object.freeze(Object.defineProperty({__proto__:null,aapl:io,alphabet:oo,cars:ao,citywages:ro,diamonds:lo,flare:so,industries:co,miserables:uo,olympians:go,penguins:po,pizza:mo,weather:Io},Symbol.toStringTag,{value:"Module"}));function ho(e,t){return(n,...i)=>e.sql.call(e,n,...i).then(t)}const Ao=document.querySelector("main")??document.body,_o={now:()=>ot(),width:()=>at(Ao),FileAttachment:()=>nt,Generators:()=>fi,Mutable:()=>it,DOM:()=>Gi,require:()=>We,__sql:()=>ho,__ojs_observer:()=>()=>new Vi,...Mi,...Co},_e=Object.assign(new tt({..._o,__ojs_runtime:()=>_e}),{fileAttachments:pi}),S=_e.main=_e.module();S.constructor.prototype.defines=function(e){return this._scope.has(e)||this._builtins.has(e)||this._runtime._builtin._scope.has(e)};function B(e,t,n=An){const{id:i,body:o,inputs:a=[],outputs:r=[],output:l,autodisplay:u,autoview:c,automutable:s}=t,d=e.variables,g=S.variable(n(e,t),{shadow:{}}),I=l??(r.length?`cell ${i}`:null);if(a.includes("display")||a.includes("view")){let b=-1;const m=new g.constructor(2,g._module);if(m.define(a.filter(p=>p!=="display"&&p!=="view"),()=>{const p=g._version;return x=>{if(p<b)throw new Error("stale display");if(e.variables[0]!==g)throw new Error("stale display");return p>b&&O(e),b=p,Oe(e,x),x}}),g._shadow.set("display",m),a.includes("view")){const p=new g.constructor(2,g._module,null,{shadow:{}});p._shadow.set("display",m),p.define(["display"],x=>L=>Ae(x(L))),g._shadow.set("view",p)}}else u||O(e);if(d.push(g.define(I,a,o)),l!=null){if(c){const b=Te(l,"viewof$");d.push(S.define(b,[l],Ae))}else if(s){const b=Te(l,"mutable "),m=`cell ${i}`;g.define(b,[m],([p])=>p),d.push(S.define(l,a,o),S.define(m,[l],mi),S.define(`mutable$${b}`,[m],([,p])=>p))}}else for(const b of r)d.push(S.variable(!0).define(b,[I],m=>m[b]))}function Te(e,t){if(!e.startsWith(t))throw new Error(`expected ${t}: ${e}`);return e.slice(t.length)}B({root:document.getElementById("cell-8"),expanded:[],variables:[]},{id:8,body:async(e,t,n,i,o,a,r,l,u,c)=>{const s={goal:"Track the total publication count and average citation count (using AminerCitationCount) over Year, segmented by Conference, to show the growth of the field and impact within different venues.",summary:"A summary of the total number of publications and their average Aminer citation count, aggregated annually for each conference. This view tracks the growth and impact of research across different publication venues over time.",fields:[{name:"publication_year",label:"Publication Year",description:"Derived from Year: The publication year, converted to a DATE format representing January 1st of that year using MAKE_DATE(Year, 1, 1).",semantic_type:"Year",role:"primary"},{name:"conference",label:"Conference",description:"Original field Conference used without modification.",semantic_type:"Category",role:"segment"},{name:"publication_count",label:"Publication Count",description:"Derived from DOI: The total count of publications, aggregated by publication_year and conference.",semantic_type:"Numeric",role:"primary"},{name:"average_aminer_citations",label:"Average Aminer Citations",description:"Derived from AminerCitationCount: The average number of citations from the Aminer database, aggregated by publication_year and conference. Publications with no citation data (NULL) are excluded from the average calculation.",semantic_type:"Numeric",role:"detail"}]},d={config:{view:{continuousWidth:300,continuousHeight:300}},data:{name:"dataset_01"},mark:{type:"line",point:!0},encoding:{color:{field:"conference",title:"Conference",type:"nominal"},tooltip:[{field:"publication_year",title:"Publication Year",type:"temporal"},{field:"conference",title:"Conference",type:"nominal"},{field:"publication_count",title:"Publication Count",type:"quantitative"},{field:"average_aminer_citations",title:"Average Aminer Citations",type:"quantitative"}],x:{field:"publication_year",scale:{type:"linear",zero:!0},timeUnit:"year",title:"Publication Year",type:"temporal"},y:{field:"publication_count",scale:{type:"linear",zero:!0},title:"Publication Count",type:"quantitative"}},$schema:"https://vega.github.io/schema/vega-lite/v6.1.0.json"};e(document.querySelectorAll("#subsection-dataset_01 .data-field"),s.fields);const g=document.getElementById("provenance-nb-link-dataset_01");g&&g.setAttribute("href",t(n,s.goal,d));const I="dataset_01",b="https://visxgenai-cdn.peter.gy/sessions/destitute-priesthood-enter-nervously/artifacts/datasets.parquet";await i(o,I,b);const m=await a({table:I,spec:d,metadata:s,coordinator:r});l(u(m.viewClient)),l(c(m.tableClient));const p=document.getElementById("loading-skeleton-dataset_01");return p&&p.remove(),{dataset_01_metadata:s,dataset_01_vegalite:d,dataset_01_provenance_nb_link:g,dataset_01_table:I,dataset_01_url:b,dataset_01_clients:m,dataset_01_loading_skeleton:p}},inputs:["registerDataFieldTooltips","constructProvenanceNotebookUrl","provenanceNotebookTemplate","registerDataset","db","datatableWithView","coordinator","display","getVegaViewNode","getDataTableNode"],outputs:["dataset_01_metadata","dataset_01_vegalite","dataset_01_provenance_nb_link","dataset_01_table","dataset_01_url","dataset_01_clients","dataset_01_loading_skeleton"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});B({root:document.getElementById("cell-12"),expanded:[],variables:[]},{id:12,body:async(e,t,n,i,o,a,r,l,u,c)=>{const s={goal:"Show the distribution of PaperType over Year, to illustrate how publication types have evolved or remained consistent over time.",summary:"A summary of the number of publications for each paper type, tracked annually, to show trends in publication formats over time.",fields:[{name:"publication_year",label:"Publication Year",description:'Derived from Year: The publication year, converted to a DATE format representing January 1st of the given year using MAKE_DATE("Year", 1, 1).',semantic_type:"DateTime",role:"primary"},{name:"paper_type",label:"Paper Type",description:"Original field PaperType used without modification. Records where the paper type is NULL have been excluded.",semantic_type:"Category",role:"segment"},{name:"number_of_papers",label:"Number of Papers",description:"Derived from table records: A count of publications, aggregated by publication year and paper type.",semantic_type:"Numeric",role:"primary"}]},d={config:{view:{continuousWidth:300,continuousHeight:300}},data:{name:"dataset_02"},mark:{type:"line",point:!0},encoding:{color:{field:"paper_type",title:"Paper Type",type:"nominal"},tooltip:[{field:"publication_year",title:"Publication Year",type:"temporal"},{field:"paper_type",title:"Paper Type",type:"nominal"},{field:"number_of_papers",title:"Number of Papers",type:"quantitative"}],x:{field:"publication_year",scale:{type:"linear",zero:!0},timeUnit:"year",title:"Publication Year",type:"temporal"},y:{field:"number_of_papers",scale:{type:"linear",zero:!0},title:"Number of Papers",type:"quantitative"}},$schema:"https://vega.github.io/schema/vega-lite/v6.1.0.json"};e(document.querySelectorAll("#subsection-dataset_02 .data-field"),s.fields);const g=document.getElementById("provenance-nb-link-dataset_02");g&&g.setAttribute("href",t(n,s.goal,d));const I="dataset_02",b="https://visxgenai-cdn.peter.gy/sessions/destitute-priesthood-enter-nervously/artifacts/datasets.parquet";await i(o,I,b);const m=await a({table:I,spec:d,metadata:s,coordinator:r});l(u(m.viewClient)),l(c(m.tableClient));const p=document.getElementById("loading-skeleton-dataset_02");return p&&p.remove(),{dataset_02_metadata:s,dataset_02_vegalite:d,dataset_02_provenance_nb_link:g,dataset_02_table:I,dataset_02_url:b,dataset_02_clients:m,dataset_02_loading_skeleton:p}},inputs:["registerDataFieldTooltips","constructProvenanceNotebookUrl","provenanceNotebookTemplate","registerDataset","db","datatableWithView","coordinator","display","getVegaViewNode","getDataTableNode"],outputs:["dataset_02_metadata","dataset_02_vegalite","dataset_02_provenance_nb_link","dataset_02_table","dataset_02_url","dataset_02_clients","dataset_02_loading_skeleton"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});B({root:document.getElementById("cell-18"),expanded:[],variables:[]},{id:18,body:async(e,t,n,i,o,a,r,l,u,c)=>{const s={goal:"Analyze the correlation between individual AminerCitationCount and Downloads_Xplore, colored by PaperType and faceted by whether the publication received an Award (derived: HasAward), to understand the relationship between citations and downloads and influencing factors.",summary:"A detailed view of individual academic publications, showing the relationship between Aminer citation counts and IEEE Xplore downloads. Data is segmented by paper type and whether the publication received an award, with additional details for interactive exploration.",fields:[{name:"title",label:"Title",description:"Derived from Title: Direct selection with TRIM() applied.",semantic_type:"Name",role:"detail"},{name:"doi",label:"DOI",description:"Original field DOI used without modification.",semantic_type:"Identifier",role:"detail"},{name:"aminer_citation_count",label:"Aminer Citations",description:"Original field AminerCitationCount used without modification.",semantic_type:"Numeric",role:"primary"},{name:"downloads_xplore",label:"Xplore Downloads",description:"Original field Downloads_Xplore used without modification.",semantic_type:"Numeric",role:"primary"},{name:"paper_type",label:"Paper Type",description:"Derived from PaperType: Cleaned using TRIM() and COALESCE to handle empty strings and NULLs, defaulting to 'Unknown'.",semantic_type:"Category",role:"segment"},{name:"has_award",label:"Has Award",description:'Derived from Award: Calculated using a CASE statement to check if the Award list is empty (len("Award") > 0).',semantic_type:"Boolean",role:"facet"},{name:"conference",label:"Conference",description:"Original field Conference used without modification.",semantic_type:"Category",role:"detail"},{name:"publication_year",label:"Publication Year",description:'Derived from Year: Converted to a DATE type using MAKE_DATE("Year", 1, 1).',semantic_type:"DateTime",role:"detail"},{name:"graphics_replicability",label:"Graphics Replicability",description:"Derived from GraphicsReplicabilityStamp: Converted boolean to human-readable labels 'Replicable' or 'Not Replicable' using a CASE statement.",semantic_type:"Boolean",role:"detail"},{name:"url",label:"URL",description:"Original field Link used without modification.",semantic_type:"URL",role:"detail"}]},d={config:{view:{continuousWidth:300,continuousHeight:300}},data:{name:"dataset_03"},facet:{column:{field:"paper_type",title:"Paper Type",type:"nominal"},row:{field:"has_award",title:"Has Award",type:"nominal"}},spec:{mark:{type:"point"},encoding:{tooltip:[{field:"title",title:"Title",type:"nominal"},{field:"doi",title:"DOI",type:"nominal"},{field:"aminer_citation_count",title:"Aminer Citations",type:"quantitative"},{field:"downloads_xplore",title:"Xplore Downloads",type:"quantitative"},{field:"paper_type",title:"Paper Type",type:"nominal"},{field:"has_award",title:"Has Award",type:"nominal"},{field:"conference",title:"Conference",type:"nominal"},{field:"publication_year",title:"Publication Year",type:"temporal"},{field:"graphics_replicability",title:"Graphics Replicability",type:"nominal"},{field:"url",title:"URL",type:"nominal"}],x:{field:"aminer_citation_count",scale:{type:"symlog"},title:"Aminer Citations",type:"quantitative"},y:{field:"downloads_xplore",scale:{type:"log"},title:"Xplore Downloads",type:"quantitative"}}},$schema:"https://vega.github.io/schema/vega-lite/v6.1.0.json"};e(document.querySelectorAll("#subsection-dataset_03 .data-field"),s.fields);const g=document.getElementById("provenance-nb-link-dataset_03");g&&g.setAttribute("href",t(n,s.goal,d));const I="dataset_03",b="https://visxgenai-cdn.peter.gy/sessions/destitute-priesthood-enter-nervously/artifacts/datasets.parquet";await i(o,I,b);const m=await a({table:I,spec:d,metadata:s,coordinator:r});l(u(m.viewClient)),l(c(m.tableClient));const p=document.getElementById("loading-skeleton-dataset_03");return p&&p.remove(),{dataset_03_metadata:s,dataset_03_vegalite:d,dataset_03_provenance_nb_link:g,dataset_03_table:I,dataset_03_url:b,dataset_03_clients:m,dataset_03_loading_skeleton:p}},inputs:["registerDataFieldTooltips","constructProvenanceNotebookUrl","provenanceNotebookTemplate","registerDataset","db","datatableWithView","coordinator","display","getVegaViewNode","getDataTableNode"],outputs:["dataset_03_metadata","dataset_03_vegalite","dataset_03_provenance_nb_link","dataset_03_table","dataset_03_url","dataset_03_clients","dataset_03_loading_skeleton"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});B({root:document.getElementById("cell-22"),expanded:[],variables:[]},{id:22,body:async(e,t,n,i,o,a,r,l,u,c)=>{const s={goal:"Examine the relationship between individual publication Year and PubsCited_CrossRef, segmented by Conference, to see if citation practices vary across time or venues.",summary:"A detailed view of individual academic publications, showing the number of works they cited against their publication year. Each point represents a single paper, segmented by conference, to analyze citation patterns over time and across different venues.",fields:[{name:"title",label:"Title",description:"Original field Title used without modification.",semantic_type:"Name",role:"detail"},{name:"doi",label:"DOI",description:"Original field DOI used without modification.",semantic_type:"Identifier",role:"detail"},{name:"publication_date",label:"Publication Date",description:"Derived from Year: Converted to a DATE format using MAKE_DATE(Year, 1, 1).",semantic_type:"DateTime",role:"primary"},{name:"publications_cited",label:"Publications Cited",description:"Original field PubsCited_CrossRef used without modification.",semantic_type:"Numeric",role:"primary"},{name:"conference",label:"Conference",description:"Derived from Conference: Cleaned using TRIM() and replaced NULL or empty values with 'Unknown'.",semantic_type:"Category",role:"segment"},{name:"url",label:"URL",description:"Original field Link used without modification.",semantic_type:"URL",role:"detail"},{name:"paper_type",label:"Paper Type",description:"Derived from PaperType: Cleaned using TRIM() and replaced NULL or empty values with 'Unknown'.",semantic_type:"Category",role:"detail"},{name:"graphics_replicability",label:"Graphics Replicability",description:"Derived from GraphicsReplicabilityStamp: Converted boolean to human-readable labels ('Replicable', 'Not Replicable').",semantic_type:"Category",role:"detail"},{name:"award_status",label:"Award Status",description:"Derived from Award: Categorized based on whether the Award list is empty ('No Award') or contains entries ('Award Winner').",semantic_type:"Category",role:"detail"},{name:"aminer_citations",label:"Aminer Citations",description:"Original field AminerCitationCount used without modification.",semantic_type:"Numeric",role:"detail"},{name:"crossref_citations",label:"CrossRef Citations",description:"Original field CitationCount_CrossRef used without modification.",semantic_type:"Numeric",role:"detail"}]},d={config:{view:{continuousWidth:300,continuousHeight:300}},data:{name:"dataset_04"},facet:{column:{field:"conference",title:"Conference",type:"nominal"}},spec:{mark:{type:"point"},encoding:{tooltip:[{field:"title",title:"Title",type:"nominal"},{field:"doi",title:"DOI",type:"nominal"},{field:"publication_date",title:"Publication Date",type:"temporal"},{field:"publications_cited",title:"Publications Cited",type:"quantitative"},{field:"conference",title:"Conference",type:"nominal"},{field:"url",title:"URL",type:"nominal"},{field:"paper_type",title:"Paper Type",type:"nominal"},{field:"graphics_replicability",title:"Graphics Replicability",type:"nominal"},{field:"award_status",title:"Award Status",type:"nominal"},{field:"aminer_citations",title:"Aminer Citations",type:"quantitative"},{field:"crossref_citations",title:"CrossRef Citations",type:"quantitative"}],x:{field:"publication_date",scale:{type:"linear",zero:!0},timeUnit:"year",title:"Publication Date",type:"temporal"},y:{field:"publications_cited",scale:{type:"linear",zero:!0},title:"Publications Cited",type:"quantitative"}}},$schema:"https://vega.github.io/schema/vega-lite/v6.1.0.json"};e(document.querySelectorAll("#subsection-dataset_04 .data-field"),s.fields);const g=document.getElementById("provenance-nb-link-dataset_04");g&&g.setAttribute("href",t(n,s.goal,d));const I="dataset_04",b="https://visxgenai-cdn.peter.gy/sessions/destitute-priesthood-enter-nervously/artifacts/datasets.parquet";await i(o,I,b);const m=await a({table:I,spec:d,metadata:s,coordinator:r});l(u(m.viewClient)),l(c(m.tableClient));const p=document.getElementById("loading-skeleton-dataset_04");return p&&p.remove(),{dataset_04_metadata:s,dataset_04_vegalite:d,dataset_04_provenance_nb_link:g,dataset_04_table:I,dataset_04_url:b,dataset_04_clients:m,dataset_04_loading_skeleton:p}},inputs:["registerDataFieldTooltips","constructProvenanceNotebookUrl","provenanceNotebookTemplate","registerDataset","db","datatableWithView","coordinator","display","getVegaViewNode","getDataTableNode"],outputs:["dataset_04_metadata","dataset_04_vegalite","dataset_04_provenance_nb_link","dataset_04_table","dataset_04_url","dataset_04_clients","dataset_04_loading_skeleton"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});B({root:document.getElementById("cell-28"),expanded:[],variables:[]},{id:28,body:async(e,t,n,i,o,a,r,l,u,c)=>{const s={goal:"Rank the top 10 Conferences by total publication count and average CitationCount_CrossRef, to identify the most prolific and impactful publication venues.",summary:"A ranked list of the top 10 most prolific and impactful conferences, based on their total number of publications and average CrossRef citation counts.",fields:[{name:"conference",label:"Conference",description:"Derived from Conference: Direct selection after filtering out null or empty values.",semantic_type:"Name",role:"primary"},{name:"total_publications",label:"Total Publications",description:"Derived from DOI: Count aggregated by Conference.",semantic_type:"Numeric",role:"primary"},{name:"average_citations",label:"Average Citations",description:"Derived from CitationCount_CrossRef: Average aggregated by Conference, excluding null values.",semantic_type:"Numeric",role:"segment"}]},d={config:{view:{continuousWidth:300,continuousHeight:300}},data:{name:"dataset_05"},mark:{type:"bar"},encoding:{color:{field:"average_citations",scale:{type:"symlog"},title:"Average Citations",type:"quantitative"},tooltip:[{field:"conference",title:"Conference",type:"nominal"},{field:"total_publications",title:"Total Publications",type:"quantitative"},{field:"average_citations",title:"Average Citations",type:"quantitative"}],x:{field:"total_publications",scale:{type:"linear",zero:!0},title:"Total Publications",type:"quantitative"},y:{field:"conference",sort:"-x",title:"Conference",type:"ordinal"}},$schema:"https://vega.github.io/schema/vega-lite/v6.1.0.json"};e(document.querySelectorAll("#subsection-dataset_05 .data-field"),s.fields);const g=document.getElementById("provenance-nb-link-dataset_05");g&&g.setAttribute("href",t(n,s.goal,d));const I="dataset_05",b="https://visxgenai-cdn.peter.gy/sessions/destitute-priesthood-enter-nervously/artifacts/datasets.parquet";await i(o,I,b);const m=await a({table:I,spec:d,metadata:s,coordinator:r});l(u(m.viewClient)),l(c(m.tableClient));const p=document.getElementById("loading-skeleton-dataset_05");return p&&p.remove(),{dataset_05_metadata:s,dataset_05_vegalite:d,dataset_05_provenance_nb_link:g,dataset_05_table:I,dataset_05_url:b,dataset_05_clients:m,dataset_05_loading_skeleton:p}},inputs:["registerDataFieldTooltips","constructProvenanceNotebookUrl","provenanceNotebookTemplate","registerDataset","db","datatableWithView","coordinator","display","getVegaViewNode","getDataTableNode"],outputs:["dataset_05_metadata","dataset_05_vegalite","dataset_05_provenance_nb_link","dataset_05_table","dataset_05_url","dataset_05_clients","dataset_05_loading_skeleton"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});B({root:document.getElementById("cell-32"),expanded:[],variables:[]},{id:32,body:async(e,t,n,i,o,a,r,l,u,c)=>{const s={goal:"Identify the top 10 AuthorNames-Deduped by their total publication count and sum of AminerCitationCount, to highlight influential researchers.",summary:"A ranked list of the top 10 most influential authors, measured by their total number of publications and the sum of their Aminer citation counts.",fields:[{name:"author_name",label:"Author",description:"Derived from AuthorNames-Deduped: The author's name, obtained by unnesting the list of authors for each publication.",semantic_type:"Name",role:"primary"},{name:"publication_count",label:"Publications",description:"Derived from the dataset records after unnesting AuthorNames-Deduped: The total count of publications, grouped by author_name.",semantic_type:"Numeric",role:"segment"},{name:"total_citations",label:"Total Aminer Citations",description:"Derived from AminerCitationCount: The sum of citation counts from the Aminer database, grouped by author_name.",semantic_type:"Numeric",role:"segment"}]},d={config:{view:{continuousWidth:300,continuousHeight:300}},data:{name:"dataset_06"},mark:{type:"bar"},encoding:{color:{field:"total_citations",scale:{type:"symlog"},title:"Total Aminer Citations",type:"quantitative"},tooltip:[{field:"author_name",title:"Author",type:"nominal"},{field:"publication_count",title:"Publications",type:"quantitative"},{field:"total_citations",title:"Total Aminer Citations",type:"quantitative"}],x:{field:"publication_count",scale:{type:"linear",zero:!0},title:"Publications",type:"quantitative"},y:{field:"author_name",sort:"-x",title:"Author",type:"ordinal"}},$schema:"https://vega.github.io/schema/vega-lite/v6.1.0.json"};e(document.querySelectorAll("#subsection-dataset_06 .data-field"),s.fields);const g=document.getElementById("provenance-nb-link-dataset_06");g&&g.setAttribute("href",t(n,s.goal,d));const I="dataset_06",b="https://visxgenai-cdn.peter.gy/sessions/destitute-priesthood-enter-nervously/artifacts/datasets.parquet";await i(o,I,b);const m=await a({table:I,spec:d,metadata:s,coordinator:r});l(u(m.viewClient)),l(c(m.tableClient));const p=document.getElementById("loading-skeleton-dataset_06");return p&&p.remove(),{dataset_06_metadata:s,dataset_06_vegalite:d,dataset_06_provenance_nb_link:g,dataset_06_table:I,dataset_06_url:b,dataset_06_clients:m,dataset_06_loading_skeleton:p}},inputs:["registerDataFieldTooltips","constructProvenanceNotebookUrl","provenanceNotebookTemplate","registerDataset","db","datatableWithView","coordinator","display","getVegaViewNode","getDataTableNode"],outputs:["dataset_06_metadata","dataset_06_vegalite","dataset_06_provenance_nb_link","dataset_06_table","dataset_06_url","dataset_06_clients","dataset_06_loading_skeleton"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});B({root:document.getElementById("cell-38"),expanded:[],variables:[]},{id:38,body:async(e,t,n,i,o,a,r,l,u,c)=>{const s={goal:"Show the median PageLength (derived from LastPage - FirstPage) across different PaperType categories, to understand typical lengths for various publication formats.",summary:"This view calculates the median page length for each publication type, providing insight into the typical length of different research formats.",fields:[{name:"paper_type",label:"Paper Type",description:"Derived from PaperType: Cleaned by trimming whitespace and coalescing NULL or empty values into 'Unknown'.",semantic_type:"Category",role:"primary"},{name:"median_page_length",label:"Median Page Length",description:"Derived from LastPage and FirstPage: Calculated as the median of (LastPage - FirstPage + 1) for each paper type, excluding records with invalid page numbers.",semantic_type:"Numeric",role:"primary"}]},d={config:{view:{continuousWidth:300,continuousHeight:300}},data:{name:"dataset_07"},mark:{type:"bar"},encoding:{tooltip:[{field:"paper_type",title:"Paper Type",type:"nominal"},{field:"median_page_length",title:"Median Page Length",type:"quantitative"}],x:{field:"median_page_length",scale:{type:"linear",zero:!0},title:"Median Page Length",type:"quantitative"},y:{field:"paper_type",sort:"-x",title:"Paper Type",type:"ordinal"}},$schema:"https://vega.github.io/schema/vega-lite/v6.1.0.json"};e(document.querySelectorAll("#subsection-dataset_07 .data-field"),s.fields);const g=document.getElementById("provenance-nb-link-dataset_07");g&&g.setAttribute("href",t(n,s.goal,d));const I="dataset_07",b="https://visxgenai-cdn.peter.gy/sessions/destitute-priesthood-enter-nervously/artifacts/datasets.parquet";await i(o,I,b);const m=await a({table:I,spec:d,metadata:s,coordinator:r});l(u(m.viewClient)),l(c(m.tableClient));const p=document.getElementById("loading-skeleton-dataset_07");return p&&p.remove(),{dataset_07_metadata:s,dataset_07_vegalite:d,dataset_07_provenance_nb_link:g,dataset_07_table:I,dataset_07_url:b,dataset_07_clients:m,dataset_07_loading_skeleton:p}},inputs:["registerDataFieldTooltips","constructProvenanceNotebookUrl","provenanceNotebookTemplate","registerDataset","db","datatableWithView","coordinator","display","getVegaViewNode","getDataTableNode"],outputs:["dataset_07_metadata","dataset_07_vegalite","dataset_07_provenance_nb_link","dataset_07_table","dataset_07_url","dataset_07_clients","dataset_07_loading_skeleton"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});B({root:document.getElementById("cell-42"),expanded:[],variables:[]},{id:42,body:async(e,t,n,i,o,a,r,l,u,c)=>{const s={goal:"Analyze the count of publications receiving Awards over Year, segmented by Conference, to observe trends in recognition and award distribution.",summary:"A summary of the number of award-winning publications, aggregated by year and conference, to show trends in academic recognition.",fields:[{name:"publication_year",label:"Publication Year",description:"Derived from Year: The publication year, converted to a DATE format representing January 1st of the given year.",semantic_type:"Year",role:"primary"},{name:"conference",label:"Conference",description:"Original field Conference used without modification.",semantic_type:"Category",role:"segment"},{name:"award_winning_publications",label:"Award-Winning Publications",description:"Derived from DOI and Award: A count of publications that have received at least one award (where the 'Award' list is not empty), grouped by publication year and conference.",semantic_type:"Numeric",role:"primary"}]},d={config:{view:{continuousWidth:300,continuousHeight:300}},data:{name:"dataset_08"},mark:{type:"line",point:!0},encoding:{color:{field:"conference",title:"Conference",type:"nominal"},tooltip:[{field:"publication_year",title:"Publication Year",type:"temporal"},{field:"conference",title:"Conference",type:"nominal"},{field:"award_winning_publications",title:"Award-Winning Publications",type:"quantitative"}],x:{field:"publication_year",scale:{type:"linear",zero:!0},timeUnit:"year",title:"Publication Year",type:"temporal"},y:{field:"award_winning_publications",scale:{type:"log"},title:"Award-Winning Publications",type:"quantitative"}},$schema:"https://vega.github.io/schema/vega-lite/v6.1.0.json"};e(document.querySelectorAll("#subsection-dataset_08 .data-field"),s.fields);const g=document.getElementById("provenance-nb-link-dataset_08");g&&g.setAttribute("href",t(n,s.goal,d));const I="dataset_08",b="https://visxgenai-cdn.peter.gy/sessions/destitute-priesthood-enter-nervously/artifacts/datasets.parquet";await i(o,I,b);const m=await a({table:I,spec:d,metadata:s,coordinator:r});l(u(m.viewClient)),l(c(m.tableClient));const p=document.getElementById("loading-skeleton-dataset_08");return p&&p.remove(),{dataset_08_metadata:s,dataset_08_vegalite:d,dataset_08_provenance_nb_link:g,dataset_08_table:I,dataset_08_url:b,dataset_08_clients:m,dataset_08_loading_skeleton:p}},inputs:["registerDataFieldTooltips","constructProvenanceNotebookUrl","provenanceNotebookTemplate","registerDataset","db","datatableWithView","coordinator","display","getVegaViewNode","getDataTableNode"],outputs:["dataset_08_metadata","dataset_08_vegalite","dataset_08_provenance_nb_link","dataset_08_table","dataset_08_url","dataset_08_clients","dataset_08_loading_skeleton"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});B({root:document.getElementById("cell-45"),expanded:[],variables:[]},{id:45,body:async(e,t,n,i)=>{const[{datatable:o},a,{default:r},{default:l},{default:u},c,s,{default:d},{default:g}]=await Promise.all([h(()=>import("https://visxgenai-cdn.peter.gy/npm/quak/DataTable.js"),[],import.meta.url).then(f=>{if(!("datatable"in f))throw new SyntaxError("export 'datatable' not found");return f}),h(()=>import("https://cdn.jsdelivr.net/npm/@uwdata/vgplot/+esm"),[],import.meta.url),h(()=>import("https://cdn.jsdelivr.net/npm/anchor-js/+esm"),[],import.meta.url).then(f=>{if(!("default"in f))throw new SyntaxError("export 'default' not found");return f}),h(()=>import("https://cdn.jsdelivr.net/npm/lz-string/+esm"),[],import.meta.url).then(f=>{if(!("default"in f))throw new SyntaxError("export 'default' not found");return f}),h(()=>import("https://cdn.jsdelivr.net/npm/tippy.js/+esm"),[],import.meta.url).then(f=>{if(!("default"in f))throw new SyntaxError("export 'default' not found");return f}),h(()=>import("https://cdn.jsdelivr.net/npm/tocbot/+esm"),[],import.meta.url),h(()=>import("https://cdn.jsdelivr.net/npm/vega/+esm"),[],import.meta.url),h(()=>import("https://cdn.jsdelivr.net/npm/vega-embed/+esm"),[],import.meta.url).then(f=>{if(!("default"in f))throw new SyntaxError("export 'default' not found");return f}),h(()=>import("https://cdn.jsdelivr.net/npm/vega-loader-arrow/+esm"),[],import.meta.url).then(f=>{if(!("default"in f))throw new SyntaxError("export 'default' not found");return f})]),I={info:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWluZm8taWNvbiBsdWNpZGUtaW5mbyI+PGNpcmNsZSBjeD0iMTIiIGN5PSIxMiIgcj0iMTAiLz48cGF0aCBkPSJNMTIgMTZ2LTQiLz48cGF0aCBkPSJNMTIgOGguMDEiLz48L3N2Zz4=",chevronDown:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZG93bi1pY29uIGx1Y2lkZS1jaGV2cm9uLWRvd24iPjxwYXRoIGQ9Im02IDkgNiA2IDYtNiIvPjwvc3ZnPg=="},b=await e.of(),m=new a.Coordinator;m.databaseConnector(a.wasmConnector({duckdb:b._db}));function p(f,C,A){const _=`SELECT UNNEST("${C}", max_depth := 2) FROM '${A}'`;return f.query(`CREATE TABLE IF NOT EXISTS "${C}" AS ${_}`)}s.formats("arrow",g);function x(f,C="#677389",A="gray",_=.125,Z="__selected__"){const y=JSON.parse(JSON.stringify(f));let v,te=!1;if(y.spec&&typeof y.spec=="object")v=y.spec,te=!0;else if(y.encoding||y.mark||y.layer||y.concat||y.facet||y.repeat)v=y;else throw new Error("Invalid input: could not find Vega-Lite spec");v.encoding||(v.encoding={});function z(j,E,K){if(v.encoding[j]){const ne=v.encoding[j];v.encoding[j]={condition:{test:`datum.${Z}`,...ne},value:K}}}return v.encoding?.color?z("color",null,A):v.encoding.color={condition:{test:`datum.${Z}`,value:C},value:A},v.encoding?.opacity?z("opacity",null,_):v.encoding.opacity={condition:{test:`datum.${Z}`,value:1},value:_},te?y:v}const L={theme:"light",animation:"fade",duration:[0,100],maxWidth:500,placement:"top",arrow:!1,offset:[0,8]};function me(f,C){u(f,{content:C,...L})}function lt(f,C){const A=_=>C.find(Z=>Z.label===_);for(const _ of f){const Z=_.getAttribute("data-field")?.trim()||_.textContent.trim(),y=A(Z);if(y){const v=y.description;me(_,v)}else console.warn(`Field "${Z}" not found in metadata.`),_.classList.remove("data-field")}}class Ve extends a.MosaicClient{#n;#t;#i=t.html`<div style="width: 100%; max-width: 100%; overflow-x: auto; overflow-y: hidden;">`;#e;constructor(C){super(C.filterBy),this.#n=C.table,this.#t=x(C.spec)}async initView(){const C={...this.#t,width:"container",padding:{top:20,bottom:20,left:10,right:10},config:{view:{continuousWidth:250,continuousHeight:250},facet:{spacing:25}},autosize:{type:"fit",contains:"padding"}},{view:A}=await d(this.#i,C,{renderer:"canvas",actions:!1,scaleFactor:1});this.#e=A;const _=(this.#t.params||[]).map(Z=>Z.name);for(const Z of _)A.addSignalListener(Z,(y,v)=>this.#o(y,v))}#o(C,A){}query(C=[]){return a.Query.from(this.#n).select("*",{__selected__:C.length?a.and(C):!0})}queryResult(C){const A=this.#t.data.name;return this.#e.change(A,s.changeset().remove(()=>!0).insert(s.format.arrow(C))).run(),this.#e.resize(),this.#e.run(),window.dispatchEvent(new n("resize")),this}get vegaView(){return this.#e}node(){return this.#i}}async function Be(f,C){const{coordinator:A,table:_,filterBy:Z}=C,y=new Ve({spec:f,table:_,filterBy:Z});return await y.initView(),A.connect(y),y}async function st(f){const{table:C,metadata:A,spec:_,coordinator:Z,tableHeight:y=225}=f,v=E=>A.fields.filter(K=>K.name===E)[0]?.label||E;function te(E){const K=A.fields.find(ie=>ie.name===E.name),ne=K?.label??E.name,Ne=K?.description??"";if(Ne){const ie=i`<img
        src="${I.info}"
        alt="info"
        style="width: 14px; height: 14px; margin-left: 4px; cursor: help; margin-bottom: -2px;"
      />`;return me(ie,Ne),i`
        <span>
          <span class="data-field">${ne}</span>
          ${ie}
        </span>
      `}else return i`<span class="data-field">${ne}</span>`}const z=await o(C,{coordinator:Z,height:y,getColumnLabel:te,getColumnWidth:E=>Math.max(125,v(E.name).length*10+24)}),j=await Be(_,{coordinator:Z,table:C,filterBy:z.filterBy});return{tableClient:z,viewClient:j}}function ct(f){return f.node()}function dt(f){const C=f.node(),A=C.shadowRoot.querySelector(".quak");return A.style.minHeight="260px",A.style.display="flex",A.style["flex-direction"]="column",A.style["justify-content"]="space-between",C}function Re(f){const{code:C,baseUrl:A="https://marimo.app"}=f,_=new URL(A);if(C){const Z=l.compressToEncodedURIComponent(C);_.hash=`#code/${Z}`}return _.href}function Xe(f,C){let A=f;for(const[_,Z]of Object.entries(C))A=A.replace(new RegExp("\\$"+_,"g"),Z);return A}function ut(f,C,A){const Z={provenance_json_url:document.getElementById("provenance-json").href,goal:C,vl_spec:JSON.stringify(A)},y=Xe(f,Z);return Re({code:y})}function gt(){u("[data-tippy-content]",L);const f=document.getElementById("full-report-link");window&&f?.href===window.location.href&&f.remove();const C=document.querySelector(".js-toc");if(C){const _=document.createElement("div");_.className="js-toc-header";const Z=document.createElement("span");Z.className="js-toc-title",Z.textContent="Contents";const y=document.createElement("img");y.className="js-toc-toggle",y.src=I.chevronDown,y.alt="Toggle table of contents",_.appendChild(Z),_.appendChild(y);const v=document.createElement("div");v.className="js-toc-content",C.appendChild(_),C.appendChild(v),_.addEventListener("click",()=>{C.classList.toggle("collapsed")})}const A=new r({icon:"#",placement:"left",visible:"hover",class:"anchor-link",truncate:64});setTimeout(()=>{A.add("h2, h3")},100),setTimeout(()=>{c.init({tocSelector:".js-toc-content",contentSelector:"body main",headingSelector:"h2, h3",hasInnerContainers:!0,scrollSmooth:!0,scrollSmoothDuration:420,throttleTimeout:50,positionFixedSelector:".js-toc",fixedSidebarOffset:"auto",headingsOffset:80,includeHtml:!0,orderedList:!1})},150)}return{datatable:o,vgplot:a,AnchorJS:r,lzString:l,tippy:u,tocbot:c,vega:s,vegaEmbed:d,arrow:g,Icons:I,db:b,coordinator:m,registerDataset:p,specWithSelectionConditioning:x,TIPPY_CONFIG_DEFAULT:L,registerTooltipOnFieldSpan:me,registerDataFieldTooltips:lt,VegaView:Ve,vegaview:Be,datatableWithView:st,getVegaViewNode:ct,getDataTableNode:dt,createMarimoWASMLink:Re,renderProvenanceNotebookTemplate:Xe,constructProvenanceNotebookUrl:ut,initializeReportUI:gt}},inputs:["DuckDBClient","htl","Event","html"],outputs:["datatable","vgplot","AnchorJS","lzString","tippy","tocbot","vega","vegaEmbed","arrow","Icons","db","coordinator","registerDataset","specWithSelectionConditioning","TIPPY_CONFIG_DEFAULT","registerTooltipOnFieldSpan","registerDataFieldTooltips","VegaView","vegaview","datatableWithView","getVegaViewNode","getDataTableNode","createMarimoWASMLink","renderProvenanceNotebookTemplate","constructProvenanceNotebookUrl","initializeReportUI"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});B({root:document.getElementById("cell-46"),expanded:[],variables:[]},{id:46,body:()=>{const e="IiIiClRoaXMgaXMgYSBNYXJpbW8gbm90ZWJvb2sgdGVtcGxhdGUgcmVxdWlyaW5nIHRoZSBmb2xsb3dpbmcgdGVtcGxhdGUgdmFyaWFibGVzIGFzIGlucHV0OgoKLSBwcm92ZW5hbmNlX2pzb25fdXJsOiBzdHIKLSBnb2FsOiBzdHIKLSB2bF9zcGVjOiBzdHIKIiIiCgppbXBvcnQgbWFyaW1vCgpfX2dlbmVyYXRlZF93aXRoID0gIjAuMTQuMTcuZGV2MTMiCmFwcCA9IG1hcmltby5BcHAod2lkdGg9ImNvbHVtbnMiKQoKCkBhcHAuY2VsbChjb2x1bW49MCwgaGlkZV9jb2RlPVRydWUpCmRlZiBfKGZsb3djaGFydCwgbW8pOgogICAgbW8ubWQoCiAgICAgICAgcmYiIiIKICAgICMgNS4gVmlzdWFsaXphdGlvbgoKICAgIHtmbG93Y2hhcnQoc2VsZWN0ZWQ9NSl9CgogICAgVGhlIHN5c3RlbSBwaWNrZWQgdGhlIGtleSBmaWVsZHMgZnJvbSB0aGUgW2Rlcml2ZWQgZGF0YV0oI2RhdGFzZXQtZGVyaXZhdGlvbikgYW5kIHVzZWQgW0RyYWNvXShodHRwczovL2dpdGh1Yi5jb20vY211ZGlnL2RyYWNvMikgdG8gY3JlYXRlIHRoaXMgY2hhcnQuCiAgICAiIiIKICAgICkKICAgIHJldHVybgoKCkBhcHAuY2VsbChoaWRlX2NvZGU9VHJ1ZSkKZGVmIF8oYWx0LCBkZXJpdmVkX2RmLCBwbCwgdmxfc3BlYyk6CiAgICBjaGFydCA9IGFsdC5DaGFydC5mcm9tX2pzb24odmxfc3BlYykucHJvcGVydGllcyhkYXRhPXBsLmZyb21fYXJyb3coZGVyaXZlZF9kZikpCiAgICBjaGFydAogICAgcmV0dXJuCgoKQGFwcC5jZWxsKGhpZGVfY29kZT1UcnVlKQpkZWYgXyhtbyk6CiAgICBtby5tZCgKICAgICAgICByIiIiCiAgICAjIEZyb20gU291cmNlIERhdGEgdG8gRmluYWwgQ2hhcnQKCiAgICBUaGlzIG5vdGVib29rIHNob3dzIGhvdyBjb29yZGluYXRlZCBBSSBhZ2VudHMgdHVybmVkIGlucHV0IGRhdGEgaW50byB0aGUgdmlzdWFsaXphdGlvbiB5b3Ugc2VlIGluIHRoZSByZXBvcnQuIFdlJ2xsIHdhbGsgdGhyb3VnaCBlYWNoIHN0ZXAsIHN0YXJ0aW5nIHdpdGggdGhlIGZpbmFsIGNoYXJ0IGFuZCB3b3JraW5nIGJhY2t3YXJkcyB0byBzZWUgaG93IGl0IHdhcyBidWlsdC4gU3RhcnQgc2Nyb2xsaW5nIHRvIHRoZSByaWdodCBvciB1c2UgdGhlIGxpbmtzIGJlbG93IHRvIGp1bXAgdG8gYW55IHNlY3Rpb24uCgogICAgLSBbMS4gT3JpZ2luYWwgRGF0YXNldF0oIzEtb3JpZ2luYWwtZGF0YXNldCk6IFRoZSBkYXRhIHdlIHN0YXJ0ZWQgd2l0aAogICAgLSBbMi4gRGF0YXNldCBSZWZpbmVtZW50XSgjMi1kYXRhc2V0LXJlZmluZW1lbnQpOiBDbGVhbi11cCBhbmQgZm9ybWF0dGluZyBpbXByb3ZlbWVudHMKICAgIC0gWzMuIEZpZWxkIFJlbWFwcGluZ10oIzMtZmllbGQtcmVtYXBwaW5nKTogTWFraW5nIGNyeXB0aWMgY29kZXMgcmVhZGFibGUKICAgIC0gWzQuIERhdGFzZXQgRGVyaXZhdGlvbl0oIzQtZGF0YXNldC1kZXJpdmF0aW9uKTogVGhlIFtEdWNrREJdKGh0dHA6Ly9kdWNrZGIub3JnKSBxdWVyeSB0aGF0IGZpbHRlcmVkIGFuZCBzaGFwZWQgdGhlIGRhdGEKICAgIC0gWzUuIFZpc3VhbGl6YXRpb25dKCM1LXZpc3VhbGl6YXRpb24pOiBUaGUgY2hhcnQgY3JlYXRlZCBieSBbRHJhY29dKGh0dHBzOi8vZ2l0aHViLmNvbS9jbXVkaWcvZHJhY28yKQogICAgIiIiCiAgICApCiAgICByZXR1cm4KCgpAYXBwLmNlbGwoY29sdW1uPTEsIGhpZGVfY29kZT1UcnVlKQpkZWYgXyhmbG93Y2hhcnQsIG1vKToKICAgIG1vLm1kKHJmIiIiCiAgICAjIDQuIERhdGFzZXQgRGVyaXZhdGlvbgoKICAgIHtmbG93Y2hhcnQoc2VsZWN0ZWQ9NCl9CiAgICAiIiIpCiAgICByZXR1cm4KCgpAYXBwLmNlbGwoaGlkZV9jb2RlPVRydWUpCmRlZiBfKGdvYWwsIG1vLCBzcWwpOgogICAgbW8ubWQocmYiIiIKICAgIEFmdGVyIHRoZSBzeXN0ZW0gYW5hbHl6ZWQgdGhlIHN0YXRpc3RpY2FsIHByb2ZpbGUgb2YgdGhlIGRhdGFzZXQgYW5kIGl0cyBzZW1hbnRpY3MsIGFuIEFJIGFnZW50IGNvbmNsdWRlZCB0aGF0IGl0IHdvdWxkIGJlIGludGVyZXN0aW5nIHRvIHB1cnN1ZSB0aGUgZm9sbG93aW5nIGFuYWx5dGljYWwgZ29hbDoKCiAgICA+IHtnb2FsfQoKICAgIFRvIHNhdGlzZnkgdGhpcyBnb2FsLCB0aGUgc3lzdGVtIHdyb3RlIHRoaXMgU1FMIHF1ZXJ5OgoKICAgIGBgYHNxbAogICAge3NxbH0KICAgIGBgYAoKICAgIFRoaXMgcXVlcnkgZ290IGV4ZWN1dGVkIGFnYWluc3QgYHJlbWFwcGVkX2RmYCwgd2hpY2ggd2FzIGJ1aWx0IGJ5OgoKICAgIDEuIFN0YXJ0aW5nIHdpdGggdGhlIFtvcmlnaW5hbCBkYXRhXSgjb3JpZ2luYWwtZGF0YXNldCkKICAgIDIuIEFwcGx5aW5nIFtkYXRhIGNsZWFuLXVwXSgjZGF0YXNldC1yZWZpbmVtZW50KQogICAgMy4gTWFraW5nIFtjcnlwdGljIGNvZGVzIHJlYWRhYmxlXSgjZmllbGQtcmVtYXBwaW5nKQogICAgIiIiKQogICAgcmV0dXJuCgoKQGFwcC5jZWxsKGhpZGVfY29kZT1UcnVlKQpkZWYgXyhkdWNrZGIsIHJlbWFwcGVkX2RmLCBzcWwpOgogICAgcmVtYXBwZWRfZGYgICMgVGhpcyBlbnN1cmVzIHRoYXQgYnkgdGhlIHRpbWUgTWFyaW1vJ3MgZGF0YWZsb3cgZ3JhcGggcmVhY2hlcyB0aGlzIG5vZGUsIGByZW1hcHBlZF9kZmAgaXMgYXZhaWxhYmxlCiAgICBkZXJpdmVkX2RmID0gZHVja2RiLnF1ZXJ5KHNxbCkuYXJyb3coKQogICAgZGVyaXZlZF9kZgogICAgcmV0dXJuIChkZXJpdmVkX2RmLCkKCgpAYXBwLmNlbGwoaGlkZV9jb2RlPVRydWUpCmRlZiBfKElOUFVUUywgZ29hbCwgc3RyaW5nKToKICAgIHNxbCA9IHN0cmluZy5UZW1wbGF0ZShJTlBVVFNbImdvYWxzIl1bZ29hbF1bInNxbCJdKS5zdWJzdGl0dXRlKAogICAgICAgIHRhYmxlbmFtZT0icmVtYXBwZWRfZGYiCiAgICApCiAgICByZXR1cm4gKHNxbCwpCgoKQGFwcC5jZWxsKGNvbHVtbj0yLCBoaWRlX2NvZGU9VHJ1ZSkKZGVmIF8oZmxvd2NoYXJ0LCBtbyk6CiAgICBtby5tZChyZiIiIgogICAgIyAzLiBGaWVsZCBSZW1hcHBpbmcKCiAgICB7Zmxvd2NoYXJ0KHNlbGVjdGVkPTMpfQogICAgIiIiKQogICAgcmV0dXJuCgoKQGFwcC5jZWxsKGhpZGVfY29kZT1UcnVlKQpkZWYgXyhleHBhbmRlZF9maWVsZHMsIGZpZWxkX2V4cGFuc2lvbnMsIGZpZWxkX2V4cGFuc2lvbnNfdG9fbWQsIG1vKToKICAgIG1vLm1kKAogICAgICAgIHJmIiIiCiAgICBUaGUgc3lzdGVtIGxvb2tlZCBhdCBzYW1wbGUgdmFsdWVzIGFuZCBkZWNpZGVkIHRoYXQgZmllbGRzIHsiLCAiLmpvaW4oW2YiYHtmaWVsZH1gIiBmb3IgZmllbGQgaW4gZXhwYW5kZWRfZmllbGRzXSl9IG5lZWRlZCB0byBiZSBtYWRlIG1vcmUgcmVhZGFibGUuCgogICAgSGVyZSBhcmUgdGhlIG1hcHBpbmdzIHRoYXQgd2VyZSBhcHBsaWVkIHRvIHRoZSBbY2xlYW5lZCBkYXRhXSgjZGF0YXNldC1yZWZpbmVtZW50KToKCiAgICB7ZmllbGRfZXhwYW5zaW9uc190b19tZChmaWVsZF9leHBhbnNpb25zKX0KCiAgICBUaGlzIGdhdmUgdXMgYSBkYXRhc2V0IHdoZXJlIGNyeXB0aWMgY29kZXMgYXJlIHJlcGxhY2VkIHdpdGggY2xlYXIsIGh1bWFuLXJlYWRhYmxlIGxhYmVscy4KICAgICIiIgogICAgKQogICAgcmV0dXJuCgoKQGFwcC5jZWxsKGhpZGVfY29kZT1UcnVlKQpkZWYgXyhhcHBseV9maWVsZF9leHBhbnNpb25zX3RvX2RmLCBmaWVsZF9leHBhbnNpb25zLCByZWZpbmVkX2RmKToKICAgIHJlbWFwcGVkX2RmID0gYXBwbHlfZmllbGRfZXhwYW5zaW9uc190b19kZihyZWZpbmVkX2RmLCBmaWVsZF9leHBhbnNpb25zKQogICAgcmVtYXBwZWRfZGYKICAgIHJldHVybiAocmVtYXBwZWRfZGYsKQoKCkBhcHAuY2VsbChoaWRlX2NvZGU9VHJ1ZSkKZGVmIF8oSU5QVVRTKToKICAgICMgTWFwcGluZ3MgZ2VuZXJhdGVkIGZvciBmaWVsZHMgIHdoZXJlIGBpc19jcnlwdGljX2NvZGVgIHdhcyBzZXQgdG8gVHJ1ZSBieSBhbiB1cHN0cmVhbSBhZ2VudCByZWZpbmluZyBmaWVsZHMKICAgIGZpZWxkX2V4cGFuc2lvbnMgPSBJTlBVVFNbImZpZWxkX2V4cGFuc2lvbnMiXQogICAgcmV0dXJuIChmaWVsZF9leHBhbnNpb25zLCkKCgpAYXBwLmNlbGwoaGlkZV9jb2RlPVRydWUpCmRlZiBfKFR5cGVkRGljdCwgcGEsIHBsKToKICAgIGNsYXNzIEV4cGFuZGVkRmllbGQoVHlwZWREaWN0KToKICAgICAgICBmaWVsZDogc3RyCiAgICAgICAgbWFwcGluZzogZGljdFtzdHIsIHN0cl0KCiAgICBkZWYgcmVtYXBfbGlzdF92YWx1ZXMoCiAgICAgICAgZmllbGQ6IHBsLlNlcmllcywKICAgICAgICBtYXBwaW5nOiBkaWN0W3N0ciwgc3RyXSwKICAgICkgLT4gcGwuU2VyaWVzOgogICAgICAgIGZpZWxkbmFtZSA9IGZpZWxkLm5hbWUKICAgICAgICByZXR1cm4gKAogICAgICAgICAgICBmaWVsZC50b19mcmFtZSgpCiAgICAgICAgICAgIC53aXRoX3Jvd19pbmRleCgpCiAgICAgICAgICAgIC5leHBsb2RlKGZpZWxkbmFtZSkKICAgICAgICAgICAgLndpdGhfY29sdW1ucygKICAgICAgICAgICAgICAgIHBsLmNvbChmaWVsZG5hbWUpLnJlcGxhY2UoCiAgICAgICAgICAgICAgICAgICAgb2xkPWxpc3QobWFwcGluZy5rZXlzKCkpLAogICAgICAgICAgICAgICAgICAgIG5ldz1saXN0KG1hcHBpbmcudmFsdWVzKCkpLAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICApCiAgICAgICAgICAgIC5ncm91cF9ieSgiaW5kZXgiKQogICAgICAgICAgICAuYWdnKGZpZWxkbmFtZSkKICAgICAgICAgICAgLnNlbGVjdChwbC5jb2woZmllbGRuYW1lKS5saXN0LmRyb3BfbnVsbHMoKSlbZmllbGRuYW1lXQogICAgICAgICkKCiAgICBkZWYgcmVtYXBfc2NhbGFyX3ZhbHVlcygKICAgICAgICBmaWVsZDogcGwuU2VyaWVzLAogICAgICAgIG1hcHBpbmc6IGRpY3Rbc3RyLCBzdHJdLAogICAgKSAtPiBwbC5TZXJpZXM6CiAgICAgICAgcmV0dXJuIGZpZWxkLnJlcGxhY2UoCiAgICAgICAgICAgIG9sZD1saXN0KG1hcHBpbmcua2V5cygpKSwKICAgICAgICAgICAgbmV3PWxpc3QobWFwcGluZy52YWx1ZXMoKSksCiAgICAgICAgKQoKICAgIGRlZiBfYXBwbHlfZmllbGRfZXhwYW5zaW9uc190b19kZigKICAgICAgICBkZjogcGwuRGF0YUZyYW1lLAogICAgICAgIGZpZWxkX2V4cGFuc2lvbnM6IGxpc3RbRXhwYW5kZWRGaWVsZF0sCiAgICApIC0+IHBsLkRhdGFGcmFtZToKICAgICAgICBmaW5hbF9kZiA9IGRmCiAgICAgICAgZm9yIGV4cGFuc2lvbiBpbiBmaWVsZF9leHBhbnNpb25zOgogICAgICAgICAgICBmaWVsZG5hbWUgPSBleHBhbnNpb25bImZpZWxkIl0KICAgICAgICAgICAgbWFwcGluZyA9IGV4cGFuc2lvblsibWFwcGluZyJdCiAgICAgICAgICAgIGZpZWxkID0gZGZbZmllbGRuYW1lXQogICAgICAgICAgICBpZiBmaWVsZC5kdHlwZS5iYXNlX3R5cGUoKSBpcyBwbC5MaXN0OgogICAgICAgICAgICAgICAgcmVtYXBwZWRfZmllbGQgPSByZW1hcF9saXN0X3ZhbHVlcyhmaWVsZCwgbWFwcGluZykKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHJlbWFwcGVkX2ZpZWxkID0gcmVtYXBfc2NhbGFyX3ZhbHVlcyhmaWVsZCwgbWFwcGluZykKCiAgICAgICAgICAgIGZpbmFsX2RmID0gZmluYWxfZGYud2l0aF9jb2x1bW5zKHJlbWFwcGVkX2ZpZWxkKQoKICAgICAgICByZXR1cm4gZmluYWxfZGYKCiAgICBkZWYgYXBwbHlfZmllbGRfZXhwYW5zaW9uc190b19kZigKICAgICAgICBkZjogcGEuVGFibGUsCiAgICAgICAgZmllbGRfZXhwYW5zaW9uczogbGlzdFtFeHBhbmRlZEZpZWxkXSwKICAgICkgLT4gcGEuVGFibGU6CiAgICAgICAgZGYgPSBfYXBwbHlfZmllbGRfZXhwYW5zaW9uc190b19kZihwbC5mcm9tX2Fycm93KGRmKSwgZmllbGRfZXhwYW5zaW9ucykKICAgICAgICByZXR1cm4gcGEuVGFibGUuZnJvbV9weWxpc3QoZGYudG9fZGljdHMoKSkKCiAgICByZXR1cm4gKGFwcGx5X2ZpZWxkX2V4cGFuc2lvbnNfdG9fZGYsKQoKCkBhcHAuY2VsbChoaWRlX2NvZGU9VHJ1ZSkKZGVmIF8oZmllbGRfZXhwYW5zaW9ucyk6CiAgICBleHBhbmRlZF9maWVsZHMgPSBbaXRlbVsiZmllbGQiXSBmb3IgaXRlbSBpbiBmaWVsZF9leHBhbnNpb25zXQoKICAgIGRlZiBmaWVsZF9leHBhbnNpb25fdG9fbWQoZmllbGQ6IHN0ciwgbWFwcGluZzogZGljdFtzdHIsIHN0cl0pIC0+IHN0cjoKICAgICAgICBsaW5lcyA9IFsKICAgICAgICAgICAgZiIqKntmaWVsZH0qKiIsCiAgICAgICAgICAgICpbZiItIHtrZXl9OiB7dmFsdWV9IiBmb3Iga2V5LCB2YWx1ZSBpbiBtYXBwaW5nLml0ZW1zKCldLAogICAgICAgIF0KCiAgICAgICAgcmV0dXJuICJcblxuIi5qb2luKGxpbmVzKQoKICAgIGRlZiBmaWVsZF9leHBhbnNpb25zX3RvX21kKGZpZWxkX2V4cGFuc2lvbnM6IGxpc3QpOgogICAgICAgIHJldHVybiAiXG5cbiIuam9pbigKICAgICAgICAgICAgWwogICAgICAgICAgICAgICAgZmllbGRfZXhwYW5zaW9uX3RvX21kKGl0ZW1bImZpZWxkIl0sIGl0ZW1bIm1hcHBpbmciXSkKICAgICAgICAgICAgICAgIGZvciBpdGVtIGluIGZpZWxkX2V4cGFuc2lvbnMKICAgICAgICAgICAgXQogICAgICAgICkKCiAgICByZXR1cm4gZXhwYW5kZWRfZmllbGRzLCBmaWVsZF9leHBhbnNpb25zX3RvX21kCgoKQGFwcC5jZWxsKGNvbHVtbj0zLCBoaWRlX2NvZGU9VHJ1ZSkKZGVmIF8oZmxvd2NoYXJ0LCBtbyk6CiAgICBtby5tZCgKICAgICAgICByZiIiIgogICAgIyAyLiBEYXRhc2V0IFJlZmluZW1lbnQKCiAgICB7Zmxvd2NoYXJ0KHNlbGVjdGVkPTIpfQoKICAgIFRoZSBzeXN0ZW0gbG9va2VkIGF0IHNhbXBsZSBkYXRhIGZyb20gZWFjaCBmaWVsZCBhbmQgbWFkZSB0aGVzZSBpbXByb3ZlbWVudHMgdG8gZml4IGZvcm1hdHRpbmcgaXNzdWVzIGFuZCBtYXRjaCBob3cgdGhlIGRhdGEgc2hvdWxkIHJlYWxseSBiZSB1c2VkLgogICAgIiIiCiAgICApCiAgICByZXR1cm4KCgpAYXBwLmNlbGwoaGlkZV9jb2RlPVRydWUpCmRlZiBfKGZpZWxkX3JlZmluZW1lbnRzLCBwYSwgcGQpOgogICAgcGEuVGFibGUuZnJvbV9wYW5kYXMocGQuRGF0YUZyYW1lKGZpZWxkX3JlZmluZW1lbnRzKS5kcm9wKCJfX21ldGFkYXRhX18iLCBheGlzPTEpKQogICAgcmV0dXJuCgoKQGFwcC5jZWxsKGhpZGVfY29kZT1UcnVlKQpkZWYgXyhtbyk6CiAgICBtby5tZCgKICAgICAgICByIiIiQWZ0ZXIgYXBwbHlpbmcgdGhlc2UgY2hhbmdlcywgd2UgZ2V0IHRoZSBjbGVhbmVkIGRhdGFzZXQgYmVsb3csIHdoaWNoIGNvbWVzIGRpcmVjdGx5IGZyb20gdGhlIFtvcmlnaW5hbCBkYXRhXSgjb3JpZ2luYWwtZGF0YXNldCkuIiIiCiAgICApCiAgICByZXR1cm4KCgpAYXBwLmNlbGwoaGlkZV9jb2RlPVRydWUpCmRlZiBfKGFwcGx5X2ZpZWxkX3JlZmluZW1lbnRzX3RvX2RmLCBkZiwgZmllbGRfcmVmaW5lbWVudHMpOgogICAgcmVmaW5lZF9kZiA9IGFwcGx5X2ZpZWxkX3JlZmluZW1lbnRzX3RvX2RmKGRmLCBmaWVsZF9yZWZpbmVtZW50cykKICAgIHJlZmluZWRfZGYKICAgIHJldHVybiAocmVmaW5lZF9kZiwpCgoKQGFwcC5jZWxsKGhpZGVfY29kZT1UcnVlKQpkZWYgXyhDYWxsYWJsZSwgSXRlcmFibGUsIE9wdGlvbmFsLCBUeXBlZERpY3QsIHBhLCBwbCk6CiAgICBTZW1hbnRpY1R5cGUgPSBzdHIKICAgIFNlbWFudGljU2NoZW1hID0gZGljdFtzdHIsIFNlbWFudGljVHlwZV0KCiAgICBjbGFzcyBGaWVsZFJlZmluZW1lbnQoVHlwZWREaWN0KToKICAgICAgICBmaWVsZDogc3RyCiAgICAgICAgc2VtYW50aWNfdHlwZTogc3RyCiAgICAgICAgc2VwYXJhdG9yOiBPcHRpb25hbFtzdHJdCiAgICAgICAgZGF0ZV9mb3JtYXQ6IE9wdGlvbmFsW3N0cl0KICAgICAgICBpc19jcnlwdGljX2NvZGU6IE9wdGlvbmFsW2Jvb2xdCiAgICAgICAgYm9vbGVhbl90cnV0aHlfdmFsdWU6IE9wdGlvbmFsW3N0ciB8IGludCB8IGZsb2F0XQoKICAgIGNsYXNzIFNlbWFudGljVHlwZWRFeHByKFR5cGVkRGljdCk6CiAgICAgICAgZXhwcjogcGwuRXhwcgogICAgICAgIHR5cGU6IFNlbWFudGljVHlwZQoKICAgIEZpZWxkUmVmaW5lbWVudEhhbmRsZXIgPSBDYWxsYWJsZVsKICAgICAgICBbcGwuU2VyaWVzLCBGaWVsZFJlZmluZW1lbnRdLAogICAgICAgIEl0ZXJhYmxlW1NlbWFudGljVHlwZWRFeHByXSwKICAgIF0KCiAgICBkZWYgX2hhbmRsZV9zZXBhcmF0b3IoCiAgICAgICAgXzogcGwuU2VyaWVzLCByZWZpbmVtZW50OiBGaWVsZFJlZmluZW1lbnQKICAgICkgLT4gbGlzdFtTZW1hbnRpY1R5cGVkRXhwcl06CiAgICAgICAgaWYgcmVmaW5lbWVudFsic2VwYXJhdG9yIl0gaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIFtdCgogICAgICAgIGZpZWxkbmFtZSA9IHJlZmluZW1lbnRbImZpZWxkIl0KICAgICAgICBzZXBhcmF0b3IgPSByZWZpbmVtZW50WyJzZXBhcmF0b3IiXQogICAgICAgICMgQWNjb3VudCBmb3IgdW5zb2xpY2l0ZWQgY29tbWVudHMgaW4gdGhlIG91dHB1dCBieSBzcGxpdHRpbmcgb24gd2hpdGVzcGFjZSBhbmQgdGFraW5nIHRoZSBhY3R1YWwgc2VwYXJhdG9yCiAgICAgICAgc2VwID0gc2VwYXJhdG9yLnNwbGl0KCIgIilbMF0KICAgICAgICBsaXN0X2V4cHIgPSAoCiAgICAgICAgICAgIHBsLmNvbChmaWVsZG5hbWUpCiAgICAgICAgICAgIC5zdHIuc3BsaXQoc2VwKQogICAgICAgICAgICAuZmlsbF9udWxsKFtdKQogICAgICAgICAgICAubGlzdC5ldmFsKHBsLmVsZW1lbnQoKS5zdHIuc3RyaXBfY2hhcnMoIiAiKSkKICAgICAgICAgICAgIyAubGlzdC5maWx0ZXIocGwuZWxlbWVudCgpLnN0ci5sZW5fY2hhcnMoKSA+IDApCiAgICAgICAgKQoKICAgICAgICAjIElmIGNhdGVnb3J5LCB0aGVuIGFsc28gbm9ybWFsaXplIGNhc2luZyBvZiB0aGUgaXRlbXMKICAgICAgICBpZiByZWZpbmVtZW50WyJzZW1hbnRpY190eXBlIl0gPT0gIkNhdGVnb3J5IjoKICAgICAgICAgICAgbGlzdF9leHByID0gbGlzdF9leHByLmxpc3QuZXZhbChwbC5lbGVtZW50KCkuc3RyLnRvX2xvd2VyY2FzZSgpKQoKICAgICAgICByZXR1cm4gWwogICAgICAgICAgICB7ImV4cHIiOiBsaXN0X2V4cHIsICJ0eXBlIjogcmVmaW5lbWVudFsic2VtYW50aWNfdHlwZSJdfSwKICAgICAgICBdCgogICAgZGVmIF9oYW5kbGVfZGF0ZV9mb3JtYXQoCiAgICAgICAgc2VyaWVzOiBwbC5TZXJpZXMsIHJlZmluZW1lbnQ6IEZpZWxkUmVmaW5lbWVudAogICAgKSAtPiBsaXN0W1NlbWFudGljVHlwZWRFeHByXToKICAgICAgICBpZiByZWZpbmVtZW50WyJkYXRlX2Zvcm1hdCJdIGlzIE5vbmUgb3Igc2VyaWVzLmR0eXBlLmlzX3RlbXBvcmFsKCk6CiAgICAgICAgICAgIHJldHVybiBbXQoKICAgICAgICBmaWVsZG5hbWUgPSByZWZpbmVtZW50WyJmaWVsZCJdCiAgICAgICAgZGF0ZV9mb3JtYXQgPSByZWZpbmVtZW50WyJkYXRlX2Zvcm1hdCJdCiAgICAgICAgIyBpZiBhbnkgb2YgdGhlc2UgYXJlIHByZXNlbnQgaW4gYGRhdGVfZm9ybWF0YCB0aGVuIHdlIGhhdmUgYSBkYXRldGltZQogICAgICAgIGRhdGV0aW1lX3RlbXBsYXRlX2NoYXJzID0geyIlSCIsICIlTSIsICIlUyJ9CiAgICAgICAgaXNfZGF0ZXRpbWUgPSBhbnkoKGNoIGluIGRhdGVfZm9ybWF0IGZvciBjaCBpbiBkYXRldGltZV90ZW1wbGF0ZV9jaGFycykpCiAgICAgICAgaWYgaXNfZGF0ZXRpbWU6CiAgICAgICAgICAgIGV4cHIgPSBwbC5jb2woZmllbGRuYW1lKS5jYXN0KHBsLlN0cmluZykuc3RyLnRvX2RhdGV0aW1lKGRhdGVfZm9ybWF0KQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGV4cHIgPSBwbC5jb2woZmllbGRuYW1lKS5jYXN0KHBsLlN0cmluZykuc3RyLnRvX2RhdGUoZGF0ZV9mb3JtYXQpCgogICAgICAgIHJldHVybiBbeyJleHByIjogZXhwciwgInR5cGUiOiByZWZpbmVtZW50WyJzZW1hbnRpY190eXBlIl19XQoKICAgIGRlZiBfaGFuZGxlX2Jvb2xlYW4oCiAgICAgICAgc2VyaWVzOiBwbC5TZXJpZXMsIHJlZmluZW1lbnQ6IEZpZWxkUmVmaW5lbWVudAogICAgKSAtPiBsaXN0W1NlbWFudGljVHlwZWRFeHByXToKICAgICAgICBpZiByZWZpbmVtZW50WyJib29sZWFuX3RydXRoeV92YWx1ZSJdIGlzIE5vbmUgb3Igc2VyaWVzLmR0eXBlID09IHBsLkJvb2xlYW46CiAgICAgICAgICAgIHJldHVybiBbXQogICAgICAgIGZpZWxkbmFtZSA9IHJlZmluZW1lbnRbImZpZWxkIl0KICAgICAgICBib29sZWFuX3RydXRoeV92YWx1ZSA9IHJlZmluZW1lbnRbImJvb2xlYW5fdHJ1dGh5X3ZhbHVlIl0KICAgICAgICBleHByID0gKAogICAgICAgICAgICBwbC5jb2woZmllbGRuYW1lKQogICAgICAgICAgICAuY2FzdChwbC5TdHJpbmcpCiAgICAgICAgICAgIC5lcShwbC5saXQoc3RyKGJvb2xlYW5fdHJ1dGh5X3ZhbHVlKSkpCiAgICAgICAgICAgIC5maWxsX251bGwoRmFsc2UpCiAgICAgICAgKQogICAgICAgIHJldHVybiBbeyJleHByIjogZXhwciwgInR5cGUiOiByZWZpbmVtZW50WyJzZW1hbnRpY190eXBlIl19XQoKICAgIGRlZiBfYXBwbHlfZmllbGRfcmVmaW5lbWVudHNfdG9fZGYoCiAgICAgICAgZGY6IHBsLkRhdGFGcmFtZSwKICAgICAgICByZWZpbmVtZW50czogbGlzdFtGaWVsZFJlZmluZW1lbnRdLAogICAgKSAtPiB0dXBsZVtwbC5EYXRhRnJhbWUsIFNlbWFudGljU2NoZW1hXToKICAgICAgICByZWZpbmVtZW50X2hhbmRsZXJzID0gWwogICAgICAgICAgICBfaGFuZGxlX3NlcGFyYXRvciwKICAgICAgICAgICAgX2hhbmRsZV9kYXRlX2Zvcm1hdCwKICAgICAgICAgICAgX2hhbmRsZV9ib29sZWFuLAogICAgICAgIF0KCiAgICAgICAgIyBHZW5lcmFsLCB1bmNvbmRpdGlvbmFsIHJlZmluZW1lbnQgZXhwcmVzc2lvbnMgdG8gYXBwbHkgY29tbW9uIG5vcm1hbGl6YXRpb25zCiAgICAgICAgc3RyaXBfc3BhY2VzX3NjYWxhciA9IHBsLmNvbChwbC5TdHJpbmcpLnN0ci5zdHJpcF9jaGFycygiICIpCiAgICAgICAgc3RyaXBfc3BhY2VzX2xpc3QgPSBwbC5jb2wocGwuTGlzdChwbC5TdHJpbmcpKS5saXN0LmV2YWwoCiAgICAgICAgICAgIHBsLmVsZW1lbnQoKS5zdHIuc3RyaXBfY2hhcnMoIiAiKQogICAgICAgICkKICAgICAgICBnZW5lcmFsX3JlZmluZW1lbnRfZXhwcnM6IGxpc3RbcGwuRXhwcl0gPSBbCiAgICAgICAgICAgIHN0cmlwX3NwYWNlc19zY2FsYXIsCiAgICAgICAgICAgIHN0cmlwX3NwYWNlc19saXN0LAogICAgICAgIF0KICAgICAgICByZWZpbmVkX2RmID0gZGYud2l0aF9jb2x1bW5zKCpnZW5lcmFsX3JlZmluZW1lbnRfZXhwcnMpCiAgICAgICAgc2VtYW50aWNfc2NoZW1hOiBTZW1hbnRpY1NjaGVtYSA9IHt9CgogICAgICAgIGZvciByZWZpbmVtZW50IGluIHJlZmluZW1lbnRzOgogICAgICAgICAgICBmb3IgaGFuZGxlciBpbiByZWZpbmVtZW50X2hhbmRsZXJzOgogICAgICAgICAgICAgICAgc2VyaWVzID0gZGYuZ2V0X2NvbHVtbihyZWZpbmVtZW50WyJmaWVsZCJdKQogICAgICAgICAgICAgICAgcmVmaW5lcl9leHByZXNzaW9ucyA9IGhhbmRsZXIoc2VyaWVzLCByZWZpbmVtZW50KQogICAgICAgICAgICAgICAgZXhwcnMgPSBbCiAgICAgICAgICAgICAgICAgICAgZXhwcl93aXRoX3NlbWFudGljX3R5cGVbImV4cHIiXQogICAgICAgICAgICAgICAgICAgIGZvciBleHByX3dpdGhfc2VtYW50aWNfdHlwZSBpbiByZWZpbmVyX2V4cHJlc3Npb25zCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICBzdWJzY2hlbWEgPSB7cmVmaW5lbWVudFsiZmllbGQiXTogcmVmaW5lbWVudFsic2VtYW50aWNfdHlwZSJdfSB8IHsKICAgICAgICAgICAgICAgICAgICBleHByX3dpdGhfc2VtYW50aWNfdHlwZVsKICAgICAgICAgICAgICAgICAgICAgICAgImV4cHIiCiAgICAgICAgICAgICAgICAgICAgXS5tZXRhLm91dHB1dF9uYW1lKCk6IGV4cHJfd2l0aF9zZW1hbnRpY190eXBlWyJ0eXBlIl0KICAgICAgICAgICAgICAgICAgICBmb3IgZXhwcl93aXRoX3NlbWFudGljX3R5cGUgaW4gcmVmaW5lcl9leHByZXNzaW9ucwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmVmaW5lZF9kZiA9IHJlZmluZWRfZGYud2l0aF9jb2x1bW5zKCpleHBycykKICAgICAgICAgICAgICAgIHNlbWFudGljX3NjaGVtYSA9IHNlbWFudGljX3NjaGVtYSB8IHN1YnNjaGVtYSAgIyB0eXBlOiBpZ25vcmUKCiAgICAgICAgIyBTZWxlY3QgY29sdW1ucyB0byBtYXRjaCB0aGUgb3JkZXIgb2YgdGhlIHNlbWFudGljIHNjaGVtYQogICAgICAgIHJlZmluZWRfZGYgPSByZWZpbmVkX2RmLnNlbGVjdChsaXN0KHNlbWFudGljX3NjaGVtYS5rZXlzKCkpKQoKICAgICAgICByZXR1cm4gcmVmaW5lZF9kZiwgc2VtYW50aWNfc2NoZW1hICAjIHR5cGU6IGlnbm9yZQoKICAgIGRlZiBhcHBseV9maWVsZF9yZWZpbmVtZW50c190b19kZigKICAgICAgICBkZjogcGEuVGFibGUsCiAgICAgICAgcmVmaW5lbWVudHM6IGxpc3RbRmllbGRSZWZpbmVtZW50XSwKICAgICkgLT4gcGEuVGFibGU6CiAgICAgICAgZGYsIF8gPSBfYXBwbHlfZmllbGRfcmVmaW5lbWVudHNfdG9fZGYocGwuZnJvbV9hcnJvdyhkZiksIHJlZmluZW1lbnRzKQogICAgICAgIHJldHVybiBwYS5UYWJsZS5mcm9tX3B5bGlzdChkZi50b19kaWN0cygpKQoKICAgIHJldHVybiAoYXBwbHlfZmllbGRfcmVmaW5lbWVudHNfdG9fZGYsKQoKCkBhcHAuY2VsbChoaWRlX2NvZGU9VHJ1ZSkKZGVmIF8oSU5QVVRTKToKICAgICMgUmVmaW5lbWVudHMgc3VnZ2VzdGVkIGJ5IEFJIGFnZW50IGZvciBlYWNoIGZpZWxkIHRvIGdldCBhIHJlcHJlc2VudGF0aW9uIHRoYXQgYmV0dGVyIGNhcHR1cmVzIGZpZWxkIHNlbWFudGljcwogICAgZmllbGRfcmVmaW5lbWVudHMgPSBJTlBVVFNbImZpZWxkX3JlZmluZW1lbnRzIl0KICAgIHJldHVybiAoZmllbGRfcmVmaW5lbWVudHMsKQoKCkBhcHAuY2VsbChjb2x1bW49NCwgaGlkZV9jb2RlPVRydWUpCmRlZiBfKGRhdGFzZXRfdXJpLCBmbG93Y2hhcnQsIG1vKToKICAgIG1vLm1kKAogICAgICAgIHJmIiIiCiAgICAjIDEuIE9yaWdpbmFsIERhdGFzZXQKCiAgICB7Zmxvd2NoYXJ0KHNlbGVjdGVkPTEpfQoKICAgIFRoaXMgaXMgdGhlIHJhdyBkYXRhIHdlIHN0YXJ0ZWQgd2l0aCwgbG9hZGVkIGZyb20ge2RhdGFzZXRfdXJpfS4KICAgICIiIgogICAgKQogICAgcmV0dXJuCgoKQGFwcC5jZWxsKGhpZGVfY29kZT1UcnVlKQpkZWYgXyhkYXRhc2V0X3VyaSwgcmVhZF9kYXRhc2V0KToKICAgIGRmID0gcmVhZF9kYXRhc2V0KGRhdGFzZXRfdXJpKQogICAgZGYKICAgIHJldHVybiAoZGYsKQoKCkBhcHAuY2VsbChoaWRlX2NvZGU9VHJ1ZSkKZGVmIF8oZHVja2RiLCBwYSwgcGQpOgogICAgZGVmIHJlYWRfZGF0YXNldChkYXRhc2V0X3VyaTogc3RyKSAtPiBwYS5UYWJsZToKICAgICAgICAjIFVzaW5nIFBhbmRhcyB0byByZWFkIGRhdGFzZXQgc28gdGhhdCB3ZSBoYXZlIG5vIG5ldHdvcmtpbmcgaXNzdWVzIGluIFB5b2RpZGUtYmFzZWQgTWFyaW1vIGVudgogICAgICAgIGlmIGRhdGFzZXRfdXJpLmVuZHN3aXRoKCIuY3N2Iikgb3IgZGF0YXNldF91cmkuZW5kc3dpdGgoIi5jc3YuZ3oiKToKICAgICAgICAgICAgcGFuZGFzX2RmID0gcGQucmVhZF9jc3YoZGF0YXNldF91cmkpCiAgICAgICAgZWxpZiBkYXRhc2V0X3VyaS5lbmRzd2l0aCgiLnBhcnF1ZXQiKToKICAgICAgICAgICAgcGFuZGFzX2RmID0gcGQucmVhZF9wYXJxdWV0KGRhdGFzZXRfdXJpKQogICAgICAgIGVsaWYgZGF0YXNldF91cmkuZW5kc3dpdGgoIi5qc29uIik6CiAgICAgICAgICAgIHBhbmRhc19kZiA9IHBkLnJlYWRfanNvbihkYXRhc2V0X3VyaSkKICAgICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKGYiTm8gc3VwcG9ydCBmb3IgcmVhZGluZyB7ZGF0YXNldF91cml9IikKCiAgICAgICAgcmV0dXJuIGR1Y2tkYi5xdWVyeSgic2VsZWN0ICogZnJvbSBwYW5kYXNfZGYiKS5hcnJvdygpCgogICAgcmV0dXJuIChyZWFkX2RhdGFzZXQsKQoKCkBhcHAuY2VsbChoaWRlX2NvZGU9VHJ1ZSkKZGVmIF8oSU5QVVRTKToKICAgICMgT3JpZ2luYWwsIHVucHJvY2Vzc2VkIGRhdGFzZXQKICAgIGRhdGFzZXRfdXJpID0gSU5QVVRTWyJkYXRhc2V0X3VyaSJdCiAgICByZXR1cm4gKGRhdGFzZXRfdXJpLCkKCgpAYXBwLmNlbGwoaGlkZV9jb2RlPVRydWUpCmRlZiBfKGh0dHB4KToKICAgICMgVGhlc2UgYXJlIHRoZSBvbmx5IGlucHV0cyBvZiB0aGUgbm90ZWJvb2sgdGVtcGxhdGUsIGFsbCBvdGhlciBjZWxscyBhcmUgZnVuY3Rpb25zIG9mIHRoZXNlCgogICAgcHJvdmVuYW5jZV9qc29uX3VybCA9ICIkcHJvdmVuYW5jZV9qc29uX3VybCIKICAgIGdvYWwgPSAiJGdvYWwiCiAgICB2bF9zcGVjID0gIiIiJHZsX3NwZWMiIiIKCiAgICBJTlBVVFMgPSBodHRweC5nZXQocHJvdmVuYW5jZV9qc29uX3VybCkuanNvbigpCiAgICByZXR1cm4gSU5QVVRTLCBnb2FsLCB2bF9zcGVjCgoKQGFwcC5jZWxsKGhpZGVfY29kZT1UcnVlKQpkZWYgXyhtbyk6CiAgICBkZWYgZmxvd2NoYXJ0KHNlbGVjdGVkOiBpbnQpOgogICAgICAgIG5vZGVzID0gWyJBIiwgIkIiLCAiQyIsICJEIiwgIkUiXQogICAgICAgIHNlbGVjdGVkX25vZGUgPSBub2Rlc1tzZWxlY3RlZCAtIDFdCiAgICAgICAgcmV0dXJuIG1vLm1lcm1haWQocmYiIiIKICAgIGZsb3djaGFydCBSTAogICAgICAgICUlIERlZmluZSBOb2RlcwogICAgICAgIEEoMVwuIE9yaWdpbmFsIERhdGFzZXQpCiAgICAgICAgQlsyXC4gRGF0YXNldCBSZWZpbmVtZW50XQogICAgICAgIENbM1wuIEZpZWxkIFJlbWFwcGluZ10KICAgICAgICBEWzRcLiBEYXRhc2V0IERlcml2YXRpb25dCiAgICAgICAgRShbNVwuIFZpc3VhbGl6YXRpb25dKQoKICAgICAgICAlJSBEZWZpbmUgQ29ubmVjdGlvbnMKICAgICAgICBBIC0tPnxDbGVhbiAmIEZvcm1hdHwgQgogICAgICAgIEIgLS0+fE1ha2UgQ29kZXMgUmVhZGFibGV8IEMKICAgICAgICBDIC0tPnxGaWx0ZXIgJiBTaGFwZSBEYXRhIHVzaW5nIER1Y2tEQnwgRAogICAgICAgIEQgLS0+fEdlbmVyYXRlIENoYXJ0IFNwZWMgdXNpbmcgRHJhY298IEUKCiAgICAgICAgJSUgRGVmaW5lIGNsaWNrYWJsZSBsaW5rcyBmb3IgZWFjaCBub2RlCiAgICAgICAgY2xpY2sgQSAiIzEtb3JpZ2luYWwtZGF0YXNldCIgIkdvIHRvIE9yaWdpbmFsIERhdGFzZXQgc2VjdGlvbiIKICAgICAgICBjbGljayBCICIjMi1kYXRhc2V0LXJlZmluZW1lbnQiICJHbyB0byBEYXRhc2V0IFJlZmluZW1lbnQgc2VjdGlvbiIKICAgICAgICBjbGljayBDICIjMy1maWVsZC1yZW1hcHBpbmciICJHbyB0byBGaWVsZCBSZW1hcHBpbmcgc2VjdGlvbiIKICAgICAgICBjbGljayBEICIjNC1kYXRhc2V0LWRlcml2YXRpb24iICJHbyB0byBEYXRhc2V0IERlcml2YXRpb24gc2VjdGlvbiIKICAgICAgICBjbGljayBFICIjNS12aXN1YWxpemF0aW9uIiAiR28gdG8gVmlzdWFsaXphdGlvbiBzZWN0aW9uIgoKICAgICAgICAlJSBTdHlsZSB0aGUgc2VsZWN0ZWQgbm9kZQogICAgICAgIGNsYXNzRGVmIHNlbGVjdGVkIGZpbGw6I2NkZTRmZixzdHJva2U6IzVhOTZkOCxzdHJva2Utd2lkdGg6M3B4CiAgICAgICAgY2xhc3Mge3NlbGVjdGVkX25vZGV9IHNlbGVjdGVkCiAgICAiIiIpCgogICAgcmV0dXJuIChmbG93Y2hhcnQsKQoKCkBhcHAuY2VsbChoaWRlX2NvZGU9VHJ1ZSkKZGVmIF8oKToKICAgIGltcG9ydCBzdHJpbmcKICAgIGZyb20gdHlwaW5nIGltcG9ydCBDYWxsYWJsZSwgSXRlcmFibGUsIE9wdGlvbmFsCgogICAgaW1wb3J0IGFsdGFpciBhcyBhbHQKICAgIGltcG9ydCBkdWNrZGIKICAgIGltcG9ydCBodHRweAogICAgaW1wb3J0IG1hcmltbyBhcyBtbwogICAgaW1wb3J0IHBhbmRhcyBhcyBwZAogICAgaW1wb3J0IHBvbGFycyBhcyBwbAogICAgaW1wb3J0IHB5YXJyb3cgYXMgcGEKICAgIGZyb20gdHlwaW5nX2V4dGVuc2lvbnMgaW1wb3J0IFR5cGVkRGljdAoKICAgIHJldHVybiAoCiAgICAgICAgQ2FsbGFibGUsCiAgICAgICAgSXRlcmFibGUsCiAgICAgICAgT3B0aW9uYWwsCiAgICAgICAgVHlwZWREaWN0LAogICAgICAgIGFsdCwKICAgICAgICBkdWNrZGIsCiAgICAgICAgaHR0cHgsCiAgICAgICAgbW8sCiAgICAgICAgcGEsCiAgICAgICAgcGQsCiAgICAgICAgcGwsCiAgICAgICAgc3RyaW5nLAogICAgKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBhcHAucnVuKCkK",t=atob(e);return{provenanceNotebookTemplateBase64:e,provenanceNotebookTemplate:t}},inputs:[],outputs:["provenanceNotebookTemplateBase64","provenanceNotebookTemplate"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});B({root:document.getElementById("cell-47"),expanded:[],variables:[]},{id:47,body:e=>({uiInitResult:e()}),inputs:["initializeReportUI"],outputs:["uiInitResult"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});export{h as _};
